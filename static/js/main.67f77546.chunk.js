(this["webpackJsonpworkflow-builder"]=this["webpackJsonpworkflow-builder"]||[]).push([[0],{147:function(t,n,e){},149:function(t,n,e){},264:function(t,n,e){"use strict";e.r(n);var o=e(2),r=e(0),i=e.n(r),a=e(9),c=e.n(a),u=(e(147),e(58)),p=e.n(u),s=e(73),l=e(7),d=e(1),f=e(12),j=e(13),b=e(14),g=e(16),x=e(11),O=(e(149),e(49)),h=e(8);function v(){var t=Object(x.a)(["\n  margin: 10px;\n  padding: 10px;\n  line-height: 1.4em;\n  white-space: pre-wrap;\n  font-family: Consolas, 'Andale Mono WT', 'Andale Mono', 'Lucida Console', 'Lucida Sans Typewriter', 'DejaVu Sans Mono',\n    'Bitstream Vera Sans Mono', 'Liberation Mono', 'Nimbus Mono L', Monaco, 'Courier New', Courier, monospace;\n\n  background-color: #eff0f1;\n  overflow: auto;\n"]);return v=function(){return t},t}h.default.pre(v());function y(){var t=Object(x.a)(["\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  overflow: hidden;\n"]);return y=function(){return t},t}h.default.div(y());function P(){var t=Object(x.a)(["\n  margin: 10px 10px 0px;\n  padding: 10px;\n  line-height: 1.4em;\n"]);return P=function(){return t},t}var m=h.default.div(P());function k(){var t=Object(x.a)(["\n  display: flex;\n  flex-direction: row;\n  flex: 1;\n  max-width: 100vw;\n  max-height: 93vh;\n"]);return k=function(){return t},t}function w(){var t=Object(x.a)(["\n  body {\n    margin: 0px;\n    max-width: 100vw;\n    max-height: 100vh;\n    overflow: hidden;\n    box-sizing: border-box;\n    font-family: sans-serif;\n  }\n\n  *, :after, :before {\n    box-sizing: inherit;\n  }\n"]);return w=function(){return t},t}Object(h.createGlobalStyle)(w());var C=h.default.div(k());function D(){var t=Object(x.a)(["\n  width: 200px;\n  background: white;\n  display: flex;\n  flex-direction: column;\n  flex-shrink: 0;\n"]);return D=function(){return t},t}var M=h.default.div(D()),K=e(30);function S(){var t=Object(x.a)(["\n      background: ",";\n    "]);return S=function(){return t},t}function U(){var t=Object(x.a)(["\n      color: ",";\n    "]);return U=function(){return t},t}function B(){var t=Object(x.a)(["\n  margin-bottom: 1rem;\n  border: 0.5px solid grey;\n  padding: 20px 30px;\n  font-size: 14px;\n  background: white;\n  cursor: move;\n  ","\n  ",";\n"]);return B=function(){return t},t}var _=h.default.div(B(),(function(t){return t.color&&Object(h.css)(U(),t.color)}),(function(t){return t.background&&Object(h.css)(S(),t.background)})),I=function(t){switch(t){case"function-input":return{background:"#4b005e",color:"white"};case"function-output":return{background:"#5e4d00",color:"white"};case"oscar-fx":return{background:"#005e14",color:"white"};case"aws-fx":return{background:"#a32a06",color:"white"};case"s3-storage":return{background:"#aa5237",color:"white"};case"one-data-storage":return{background:"#02005e",color:"white"};case"minio-storage":return{background:"#f7ed6d",color:"black"};default:return{background:"#FFF",color:"black"}}},N=function(t){var n=t.type,e=t.ports,r=t.properties,i=I(n);return Object(o.jsx)(_,{background:i.background,color:i.color,draggable:!0,onDragStart:function(t){t.dataTransfer.setData(K.REACT_FLOW_CHART,JSON.stringify({type:n,ports:e,properties:r}))},children:n})},A=e(269),T=e(270),F=e(271),L=function(t){switch(t.port.type){case"right":case"left":return Object(o.jsx)(A.a,{style:{fontSize:"1rem"}});case"top":case"bottom":return Object(o.jsx)(T.a,{style:{fontSize:"1rem"}});default:return Object(o.jsx)(F.a,{style:{fontSize:"1rem"}})}},z={offset:{x:0,y:0},scale:1,nodes:{},links:{},selected:{},hovered:{},modalVisible:!1},J=e(265),E=e(66),R=e(267),V=e(272),H=e(273),G=e(274),W=e(95),Y=e(127),q=e.n(Y),Q=e(6),X=e(266),Z=e(268);function $(){var t=Object(x.a)(["\n  width: 20%;\n  align-content: center;\n"]);return $=function(){return t},t}function tt(){var t=Object(x.a)(["\n  display: flex;\n  flex-direction: row;\n"]);return tt=function(){return t},t}function nt(){var t=Object(x.a)(["\n  padding: 10px;\n  border: 1px solid cornflowerblue;\n  margin-bottom: 0.5rem;\n  width: 80%;\n"]);return nt=function(){return t},t}function et(){var t=Object(x.a)(["\n      background: ",";\n    "]);return et=function(){return t},t}function ot(){var t=Object(x.a)(["\n      color: ",";\n    "]);return ot=function(){return t},t}function rt(){var t=Object(x.a)(["\n  padding: 30px;\n  ","\n  ",";\n"]);return rt=function(){return t},t}var it=h.default.div(rt(),(function(t){return t.color&&Object(h.css)(ot(),t.color)}),(function(t){return t.background&&Object(h.css)(et(),t.background)})),at=h.default.input(nt()),ct=h.default.div(tt()),ut=h.default.div($()),pt=function(t){var n,e,r,a,c,u,p,s,l,f,j,b,g,x,O,h,v,y=t.node,P=(t.config,i.a.useState(!1)),m=Object(Q.a)(P,2),k=m[0],w=m[1],C=i.a.useState(y.properties||{}),D=Object(Q.a)(C,2),M=D[0],K=D[1],S=I(y.type);switch(y.type){case"function-input":return Object(o.jsxs)(it,{color:S.color,background:S.background,onDoubleClick:function(t){w(!0)},children:[Object(o.jsxs)(X.a,{title:(null===(n=y.properties)||void 0===n?void 0:n.name)||y.type,visible:k,onOk:function(){y.properties=M,w(!1)},onCancel:function(){return w(!1)},okButtonProps:{disabled:!1},cancelButtonProps:{disabled:!1},children:[Object(o.jsxs)(ct,{children:[Object(o.jsx)(ut,{children:"Storage provider:"}),Object(o.jsx)(at,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"minio",value:M.storage_provider,onChange:function(t){K(Object(d.a)(Object(d.a)({},M),{},{storage_provider:t.target.value}))}})]}),Object(o.jsxs)(ct,{children:[Object(o.jsx)(ut,{children:"Path:"}),Object(o.jsx)(at,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"darknet-workflow/input",value:M.path,onChange:function(t){K(Object(d.a)(Object(d.a)({},M),{},{path:t.target.value}))}})]}),Object(o.jsxs)(ct,{children:[Object(o.jsx)(ut,{children:"Suffix"}),Object(o.jsx)(at,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"png, jpg, xls",value:M.suffix,onChange:function(t){t.target.value?K(Object(d.a)(Object(d.a)({},M),{},{suffix:t.target.value})):delete M.suffix}})]}),Object(o.jsxs)(ct,{children:[Object(o.jsx)(ut,{children:"Prefix"}),Object(o.jsx)(at,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"result-, demo-",value:M.prefix,onChange:function(t){t.target.value?K(Object(d.a)(Object(d.a)({},M),{},{prefix:t.target.value})):delete M.prefix}})]})]}),Object(o.jsx)("p",{children:"".concat(y.type," ").concat((null===(e=y.properties)||void 0===e?void 0:e.name)||"")})]});case"function-output":return Object(o.jsxs)(it,{color:S.color,background:S.background,onDoubleClick:function(t){w(!0)},children:[Object(o.jsxs)(X.a,{title:(null===(r=y.properties)||void 0===r?void 0:r.name)||y.type,visible:k,onOk:function(){y.properties=M,w(!1)},onCancel:function(){return w(!1)},okButtonProps:{disabled:!1},cancelButtonProps:{disabled:!1},children:[Object(o.jsxs)(ct,{children:[Object(o.jsx)(ut,{children:"Storage provider:"}),Object(o.jsx)(at,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"s3.my-aws",value:M.storage_provider,onChange:function(t){K(Object(d.a)(Object(d.a)({},M),{},{storage_provider:t.target.value}))}})]}),Object(o.jsxs)(ct,{children:[Object(o.jsx)(ut,{children:"Path:"}),Object(o.jsx)(at,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"darknet-workflow/input",value:M.path,onChange:function(t){K(Object(d.a)(Object(d.a)({},M),{},{path:t.target.value}))}})]}),Object(o.jsxs)(ct,{children:[Object(o.jsx)(ut,{children:"Suffix"}),Object(o.jsx)(at,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"png, jpg, xls",value:M.suffix,onChange:function(t){t.target.value?K(Object(d.a)(Object(d.a)({},M),{},{suffix:t.target.value})):delete M.suffix}})]}),Object(o.jsxs)(ct,{children:[Object(o.jsx)(ut,{children:"Prefix"}),Object(o.jsx)(at,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"result-, demo-",value:M.prefix,onChange:function(t){t.target.value?K(Object(d.a)(Object(d.a)({},M),{},{prefix:t.target.value})):delete M.prefix}})]})]}),Object(o.jsx)("p",{children:"".concat(y.type," ").concat((null===(a=y.properties)||void 0===a?void 0:a.name)||"")})]});case"s3-storage":return Object(o.jsxs)(it,{color:S.color,background:S.background,onDoubleClick:function(t){return w(!0)},children:[Object(o.jsxs)(X.a,{title:(null===(c=y.properties)||void 0===c?void 0:c.name)||y.type,visible:k,onOk:function(){y.properties=M,w(!1)},onCancel:function(){return w(!1)},okButtonProps:{disabled:!1},cancelButtonProps:{disabled:!1},children:[Object(o.jsxs)(ct,{children:[Object(o.jsx)(ut,{children:"Name:"}),Object(o.jsx)(at,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"my-s3",value:M.name,onChange:function(t){K(Object(d.a)(Object(d.a)({},M),{},{name:t.target.value}))}})]}),Object(o.jsxs)(ct,{children:[Object(o.jsx)(ut,{children:"Access Key:"}),Object(o.jsx)(at,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"xxxxxxxxxxxxxxxx",value:M.access_key,onChange:function(t){K(Object(d.a)(Object(d.a)({},M),{},{access_key:t.target.value}))}})]}),Object(o.jsxs)(ct,{children:[Object(o.jsx)(ut,{children:"Secret Key:"}),Object(o.jsx)(at,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"xxxxxxxxxxxxxxxx",value:M.secret_key,onChange:function(t){K(Object(d.a)(Object(d.a)({},M),{},{secret_key:t.target.value}))}})]}),Object(o.jsxs)(ct,{children:[Object(o.jsx)(ut,{children:"Region:"}),Object(o.jsx)(at,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"us-east-1",value:M.region,onChange:function(t){K(Object(d.a)(Object(d.a)({},M),{},{region:t.target.value}))}})]})]}),Object(o.jsx)("p",{children:"".concat(y.type," ").concat((null===(u=y.properties)||void 0===u?void 0:u.name)||"")})]});case"minio-storage":return Object(o.jsxs)(it,{color:S.color,background:S.background,onDoubleClick:function(t){return w(!0)},children:[Object(o.jsxs)(X.a,{title:(null===(p=y.properties)||void 0===p?void 0:p.name)||y.type,visible:k,onOk:function(){y.properties=M,w(!1)},onCancel:function(){return w(!1)},okButtonProps:{disabled:!1},cancelButtonProps:{disabled:!1},children:[Object(o.jsxs)(ct,{children:[Object(o.jsx)(ut,{children:"Name:"}),Object(o.jsx)(at,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"my_minio",value:M.name,onChange:function(t){K(Object(d.a)(Object(d.a)({},M),{},{name:t.target.value}))}})]}),Object(o.jsxs)(ct,{children:[Object(o.jsx)(ut,{children:"Endpoint:"}),Object(o.jsx)(at,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"minio-endpoint",value:M.endpoint,onChange:function(t){K(Object(d.a)(Object(d.a)({},M),{},{endpoint:t.target.value}))}})]}),Object(o.jsxs)(ct,{children:[Object(o.jsx)(ut,{children:"Verify:"}),Object(o.jsx)(Z.a,{onClick:function(t){return t.stopPropagation()},value:M.verify,onChange:function(t){K(Object(d.a)(Object(d.a)({},M),{},{verify:t.target.checked}))}})]}),Object(o.jsxs)(ct,{children:[Object(o.jsx)(ut,{children:"Region:"}),Object(o.jsx)(at,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"us-east-1",value:M.region,onChange:function(t){K(Object(d.a)(Object(d.a)({},M),{},{region:t.target.value}))}})]}),Object(o.jsxs)(ct,{children:[Object(o.jsx)(ut,{children:"Access Key:"}),Object(o.jsx)(at,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"xxxxxxxxxxxxxxxx",value:M.access_key,onChange:function(t){K(Object(d.a)(Object(d.a)({},M),{},{access_key:t.target.value}))}})]}),Object(o.jsxs)(ct,{children:[Object(o.jsx)(ut,{children:"Secret Key:"}),Object(o.jsx)(at,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"xxxxxxxxxxxxxxxx",value:M.secret_key,onChange:function(t){K(Object(d.a)(Object(d.a)({},M),{},{secret_key:t.target.value}))}})]})]}),Object(o.jsx)("p",{children:"".concat(y.type," ").concat((null===(s=y.properties)||void 0===s?void 0:s.name)||"")})]});case"one-data-storage":return Object(o.jsxs)(it,{color:S.color,background:S.background,onDoubleClick:function(){return w(!0)},children:[Object(o.jsxs)(X.a,{title:(null===(l=y.properties)||void 0===l?void 0:l.name)||y.type,visible:k,onOk:function(){y.properties=M,w(!1)},onCancel:function(){return w(!1)},okButtonProps:{disabled:!1},cancelButtonProps:{disabled:!1},children:[Object(o.jsxs)(ct,{children:[Object(o.jsx)(ut,{children:"Name:"}),Object(o.jsx)(at,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"my-onedata",value:M.name,onChange:function(t){K(Object(d.a)(Object(d.a)({},M),{},{name:t.target.value}))}})]}),Object(o.jsxs)(ct,{children:[Object(o.jsx)(ut,{children:"One Provider Host:"}),Object(o.jsx)(at,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"plg-cyfronet-01.datahub.egi.eu",value:M.oneprovider_host,onChange:function(t){K(Object(d.a)(Object(d.a)({},M),{},{oneprovider_host:t.target.value}))}})]}),Object(o.jsxs)(ct,{children:[Object(o.jsx)(ut,{children:"Token:"}),Object(o.jsx)(at,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"xxxxxxxxxxxxxxxx",value:M.token,onChange:function(t){K(Object(d.a)(Object(d.a)({},M),{},{token:t.target.value}))}})]}),Object(o.jsxs)(ct,{children:[Object(o.jsx)(ut,{children:"Space:"}),Object(o.jsx)(at,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"my-space",value:M.space,onChange:function(t){K(Object(d.a)(Object(d.a)({},M),{},{space:t.target.value}))}})]})]}),Object(o.jsx)("p",{children:"".concat(y.type," ").concat((null===(f=y.properties)||void 0===f?void 0:f.name)||"")})]});case"oscar-fx":return Object(o.jsxs)(it,{color:S.color,background:S.background,onDoubleClick:function(){return w(!0)},children:[Object(o.jsxs)(X.a,{title:(null===(j=y.properties)||void 0===j?void 0:j.name)||y.type,visible:k,onOk:function(){y.properties=M,w(!1)},onCancel:function(){return w(!1)},okButtonProps:{disabled:!1},cancelButtonProps:{disabled:!1},children:[Object(o.jsxs)(ct,{children:[Object(o.jsx)(ut,{children:"Name:"}),Object(o.jsx)(at,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"darknet",value:M.name,onChange:function(t){K(Object(d.a)(Object(d.a)({},M),{},{name:t.target.value}))}})]}),Object(o.jsxs)(ct,{children:[Object(o.jsx)(ut,{children:"Memory:"}),Object(o.jsx)(at,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"1Gi",value:M.memory,onChange:function(t){K(Object(d.a)(Object(d.a)({},M),{},{memory:t.target.value}))}})]}),Object(o.jsxs)(ct,{children:[Object(o.jsx)(ut,{children:"Cpu:"}),Object(o.jsx)(at,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"1.0",value:M.cpu,onChange:function(t){K(Object(d.a)(Object(d.a)({},M),{},{cpu:t.target.value}))}})]}),Object(o.jsxs)(ct,{children:[Object(o.jsx)(ut,{children:"Image:"}),Object(o.jsx)(at,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"grycap/darknet",value:M.image,onChange:function(t){K(Object(d.a)(Object(d.a)({},M),{},{image:t.target.value}))}})]}),Object(o.jsxs)(ct,{children:[Object(o.jsx)(ut,{children:"Script:"}),Object(o.jsx)(at,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"yolo.sh",value:M.script,onChange:function(t){K(Object(d.a)(Object(d.a)({},M),{},{script:t.target.value}))}})]})]}),Object(o.jsx)("p",{children:"".concat(y.type," ").concat((null===(b=y.properties)||void 0===b?void 0:b.name)||"")})]});case"aws-fx":return Object(o.jsxs)(it,{color:S.color,background:S.background,onDoubleClick:function(){return w(!0)},children:[Object(o.jsxs)(X.a,{title:(null===(g=y.properties)||void 0===g?void 0:g.name)||y.type,visible:k,onOk:function(){y.properties=M,w(!1)},onCancel:function(){return w(!1)},okButtonProps:{disabled:!1},cancelButtonProps:{disabled:!1},children:[Object(o.jsxs)(ct,{children:[Object(o.jsx)(ut,{children:"Name:"}),Object(o.jsx)(at,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"scar-grayify-workflow",value:M.name,onChange:function(t){K(Object(d.a)(Object(d.a)({},M),{},{name:t.target.value}))}})]}),Object(o.jsxs)(ct,{children:[Object(o.jsx)(ut,{children:"Script:"}),Object(o.jsx)(at,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"grayify-image.sh",value:M.init_script,onChange:function(t){K(Object(d.a)(Object(d.a)({},M),{},{init_script:t.target.value}))}})]}),Object(o.jsxs)(ct,{children:[Object(o.jsx)(ut,{children:"Image:"}),Object(o.jsx)(at,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"grycap/imagemagick",value:null===(x=M.container)||void 0===x?void 0:x.image,onChange:function(t){K(Object(d.a)(Object(d.a)({},M),{},{container:{image:t.target.value}}))}})]})]}),Object(o.jsx)("p",{children:"".concat(y.type," ").concat((null===(O=y.properties)||void 0===O?void 0:O.name)||"")})]});default:return Object(o.jsxs)(it,{color:S.color,background:S.background,onDoubleClick:function(){w(!0)},children:[Object(o.jsx)(X.a,{title:(null===(h=y.properties)||void 0===h?void 0:h.name)||y.type,visible:k,onOk:function(){y.properties=M,w(!1)},onCancel:function(){return w(!1)},okButtonProps:{disabled:!1},cancelButtonProps:{disabled:!1}}),Object(o.jsx)("p",{children:"".concat(y.type," ").concat((null===(v=y.properties)||void 0===v?void 0:v.name)||"")})]})}};function st(){var t=Object(x.a)(["\n  margin-right: 1rem;\n"]);return st=function(){return t},t}var lt=J.a.Header,dt=Object(h.default)(E.a)(st()),ft=function(t){Object(b.a)(e,t);var n=Object(g.a)(e);function e(){var t;Object(f.a)(this,e);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(t=n.call.apply(n,[this].concat(r))).state=Object(O.cloneDeep)(z),t}return Object(j.a)(e,[{key:"exportToYaml",value:function(){var t=Object.values(this.state.nodes),n=Object.values(this.state.links),e=t.filter((function(t){return"function-input"===t.type})),o=t.filter((function(t){return"function-output"===t.type})),r=t.filter((function(t){return"oscar-fx"===t.type})).map((function(t){var r=n.filter((function(n){return n.to.nodeId===t.id||n.from.nodeId===t.id})),i=e.find((function(t){return r.some((function(n){return n.from.nodeId===t.id||n.to.nodeId===t.id}))})),a=o.find((function(t){return r.some((function(n){return n.from.nodeId===t.id||n.to.nodeId===t.id}))}));return Object(d.a)(Object(d.a)({},t.properties),{},{input:[(null===i||void 0===i?void 0:i.properties.suffix)?Object(d.a)(Object(d.a)({},null===i||void 0===i?void 0:i.properties),{},{suffix:i.properties.suffix.split(",")}):Object(d.a)({},null===i||void 0===i?void 0:i.properties)],output:[(null===a||void 0===a?void 0:a.properties.suffix)?Object(d.a)(Object(d.a)({},null===a||void 0===a?void 0:a.properties),{},{suffix:a.properties.suffix.split(",")}):Object(d.a)({},null===a||void 0===a?void 0:a.properties)]})})),i=t.filter((function(t){return"aws-fx"===t.type})).map((function(t){var r=n.filter((function(n){return n.to.nodeId===t.id||n.from.nodeId===t.id})),i=e.find((function(t){return r.some((function(n){return n.from.nodeId===t.id||n.to.nodeId===t.id}))})),a=o.find((function(t){return r.some((function(n){return n.from.nodeId===t.id||n.to.nodeId===t.id}))}));return Object(d.a)(Object(d.a)({},t.properties),{},{input:[(null===i||void 0===i?void 0:i.properties.suffix)?Object(d.a)(Object(d.a)({},null===i||void 0===i?void 0:i.properties),{},{suffix:i.properties.suffix.split(",")}):Object(d.a)({},null===i||void 0===i?void 0:i.properties)],output:[(null===a||void 0===a?void 0:a.properties.suffix)?Object(d.a)(Object(d.a)({},null===a||void 0===a?void 0:a.properties),{},{suffix:a.properties.suffix.split(",")}):Object(d.a)({},null===a||void 0===a?void 0:a.properties)]})})),a=t.filter((function(t){return"one-data-storage"===t.type})).map((function(t){return t.properties})).reduce((function(t,n){var e=Object(O.cloneDeep)(n);return delete e.name,Object(d.a)(Object(d.a)({},t),{},Object(l.a)({},n.name,e))}),{}),c=t.filter((function(t){return"s3-storage"===t.type})).map((function(t){return t.properties})).reduce((function(t,n){var e=Object(O.cloneDeep)(n);return delete e.name,Object(d.a)(Object(d.a)({},t),{},Object(l.a)({},n.name,e))}),{}),u=q.a.dump({functions:{oscar:r.map((function(t){return JSON.parse('{ "'.concat(t.name,'": ').concat(JSON.stringify(t)," }"))})),aws:[i.reduce((function(t,n){var e=Object(O.cloneDeep)(n);return delete e.name,Object(d.a)(Object(d.a)({},t),{},Object(l.a)({},n.name,e))}),{})]},storage_providers:{s3:c,onedata:a}}),p=new Blob([u],{type:"text/plain;charset=utf-8"});Object(W.saveAs)(p,"workflow.yaml")}},{key:"exportState",value:function(){var t=JSON.stringify(this.state),n=new Blob([t],{type:"text/plain;charset=utf-8"});Object(W.saveAs)(n,"state.json")}},{key:"importState",value:function(){var t=this,n=document.createElement("input");n.type="file",n.onchange=function(e){var o=new FileReader;o.onload=function(){var n=Object(s.a)(p.a.mark((function n(e){var o;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:(null===e||void 0===e||null===(o=e.target)||void 0===o?void 0:o.result)&&t.setState(JSON.parse(e.target.result));case 1:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),o.readAsText(n.files[0])},n.click()}},{key:"render",value:function(){var t=this,n=this.state,e=Object(O.mapValues)(Object(d.a)(Object(d.a)({},K.actions),{},{onNodeDoubleClick:function(){return Object(d.a)(Object(d.a)({},t.state),{},{selected:{}})}}),(function(n){return function(){t.setState(n.apply(void 0,arguments))}}));return Object(o.jsx)("div",{className:"App",children:Object(o.jsxs)(J.a,{className:"layout",children:[Object(o.jsx)(lt,{children:Object(o.jsxs)(R.a,{theme:"dark",mode:"horizontal",children:[Object(o.jsx)(dt,{ghost:!0,icon:Object(o.jsx)(V.a,{}),onClick:function(){return t.exportState()},children:"Download state"}),Object(o.jsx)(dt,{ghost:!0,icon:Object(o.jsx)(H.a,{}),onClick:function(){return t.importState()},children:"Load state"}),Object(o.jsx)(dt,{ghost:!0,icon:Object(o.jsx)(G.a,{}),onClick:function(){t.exportToYaml()},children:"Export yaml"})]})}),Object(o.jsxs)(C,{children:[Object(o.jsx)(K.FlowChart,{chart:n,callbacks:e,Components:{NodeInner:pt,Port:L}}),Object(o.jsxs)(M,{children:[Object(o.jsx)(m,{children:"Drag and drop these items onto the canvas."}),Object(o.jsx)(N,{type:"function-input",ports:{port1:{id:"port1",type:"top",properties:{path:""}},port2:{id:"port2",type:"right",properties:{path:""}},port3:{id:"port3",type:"bottom",properties:{path:""}},port4:{id:"port4",type:"left",properties:{path:""}}}}),Object(o.jsx)(N,{type:"function-output",ports:{port1:{id:"port1",type:"top",properties:{path:""}},port2:{id:"port2",type:"right",properties:{path:""}},port3:{id:"port3",type:"bottom",properties:{path:""}},port4:{id:"port4",type:"left",properties:{path:""}}}}),Object(o.jsx)(N,{type:"s3-storage",ports:{port1:{id:"port1",type:"top",properties:{path:""}},port2:{id:"port2",type:"right",properties:{path:""}},port3:{id:"port3",type:"bottom",properties:{path:""}},port4:{id:"port4",type:"left",properties:{path:""}}}})," ",Object(o.jsx)(N,{type:"minio-storage",ports:{port1:{id:"port1",type:"top",properties:{path:""}},port2:{id:"port2",type:"right",properties:{path:""}},port3:{id:"port3",type:"bottom",properties:{path:""}},port4:{id:"port4",type:"left",properties:{path:""}}}}),Object(o.jsx)(N,{type:"one-data-storage",ports:{port1:{id:"port1",type:"top",properties:{path:""}},port2:{id:"port2",type:"right",properties:{path:""}},port3:{id:"port3",type:"bottom",properties:{path:""}},port4:{id:"port4",type:"left",properties:{path:""}}}}),Object(o.jsx)(N,{type:"oscar-fx",ports:{port1:{id:"port1",type:"top",properties:{path:""}},port2:{id:"port2",type:"right",properties:{path:""}},port3:{id:"port3",type:"bottom",properties:{path:""}},port4:{id:"port4",type:"left",properties:{path:""}}}}),Object(o.jsx)(N,{type:"aws-fx",ports:{port1:{id:"port1",type:"top",properties:{path:""}},port2:{id:"port2",type:"right",properties:{path:""}},port3:{id:"port3",type:"bottom",properties:{path:""}},port4:{id:"port4",type:"left",properties:{path:""}}}})]})]})]})})}}]),e}(i.a.Component),jt=function(t){t&&t instanceof Function&&e.e(3).then(e.bind(null,275)).then((function(n){var e=n.getCLS,o=n.getFID,r=n.getFCP,i=n.getLCP,a=n.getTTFB;e(t),o(t),r(t),i(t),a(t)}))};c.a.render(Object(o.jsx)(ft,{}),document.getElementById("root")),jt()}},[[264,1,2]]]);
//# sourceMappingURL=main.67f77546.chunk.js.map