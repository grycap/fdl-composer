(this["webpackJsonpworkflow-builder"]=this["webpackJsonpworkflow-builder"]||[]).push([[0],{145:function(t,e,r){},147:function(t,e,r){},262:function(t,e,r){"use strict";r.r(e);var n=r(6),o=r(0),p=r.n(o),i=r(8),a=r.n(i),s=(r(145),r(55)),c=r.n(s),u=r(69),l=r(11),d=r(12),f=r(13),h=r(14),b=r(1),j=r(5),x=r(18),v=(r(147),r(71)),y=r(10);function g(){var t=Object(x.a)(["\n  margin: 10px;\n  padding: 10px;\n  line-height: 1.4em;\n  white-space: pre-wrap;\n  font-family: Consolas, 'Andale Mono WT', 'Andale Mono', 'Lucida Console', 'Lucida Sans Typewriter', 'DejaVu Sans Mono',\n    'Bitstream Vera Sans Mono', 'Liberation Mono', 'Nimbus Mono L', Monaco, 'Courier New', Courier, monospace;\n\n  background-color: #eff0f1;\n  overflow: auto;\n"]);return g=function(){return t},t}y.default.pre(g());function m(){var t=Object(x.a)(["\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  overflow: hidden;\n"]);return m=function(){return t},t}y.default.div(m());function O(){var t=Object(x.a)(["\n  margin: 10px 10px 0px;\n  padding: 10px;\n  line-height: 1.4em;\n"]);return O=function(){return t},t}var w=y.default.div(O());function k(){var t=Object(x.a)(["\n  display: flex;\n  flex-direction: row;\n  flex: 1;\n  max-width: 100vw;\n  max-height: 93vh;\n"]);return k=function(){return t},t}function C(){var t=Object(x.a)(["\n  body {\n    margin: 0px;\n    max-width: 100vw;\n    max-height: 100vh;\n    overflow: hidden;\n    box-sizing: border-box;\n    font-family: sans-serif;\n  }\n\n  *, :after, :before {\n    box-sizing: inherit;\n  }\n"]);return C=function(){return t},t}Object(y.createGlobalStyle)(C());var S=y.default.div(k());function T(){var t=Object(x.a)(["\n  width: 200px;\n  background: white;\n  display: flex;\n  flex-direction: column;\n  flex-shrink: 0;\n"]);return T=function(){return t},t}var A=y.default.div(T()),D=r(28);function L(){var t=Object(x.a)(["\n  margin-bottom: 1rem;\n  border: 0.5px solid grey;\n  padding: 20px 30px;\n  font-size: 14px;\n  background: white;\n  cursor: move;\n"]);return L=function(){return t},t}var N=y.default.div(L()),B=function(t){var e=t.type,r=t.ports,o=t.properties;return Object(n.jsx)(N,{draggable:!0,onDragStart:function(t){t.dataTransfer.setData(D.REACT_FLOW_CHART,JSON.stringify({type:e,ports:r,properties:o}))},children:e})},F={offset:{x:0,y:0},scale:1,nodes:{},links:{},selected:{},hovered:{},modalVisible:!1},M=r(265),J=r(63),z=r(266),E=r(267),P=r(268),V=r(269),I=r(270),R=r(94),_=r(127),H=r.n(_);function W(){var t=Object(x.a)(["\n  padding: 10px;\n  border: 1px solid cornflowerblue;\n  width: 100%;\n"]);return W=function(){return t},t}function Y(){var t=Object(x.a)(["\n  margin-right: 1rem;\n"]);return Y=function(){return t},t}function G(){var t=Object(x.a)(["\n  padding: 30px;\n"]);return G=function(){return t},t}var q=M.a.Header,K=(M.a.Content,y.default.div(G())),Q=Object(y.default)(J.a)(Y()),U=(y.default.input(W()),function(t){var e,r,o,i=t.node,a=(t.config,p.a.useState(!1)),s=Object(j.a)(a,2),c=s[0],u=s[1];switch(i.type){case"function-input":case"function-output":case"s3-storage":case"one-data-storage":return Object(n.jsx)(K,{children:Object(n.jsx)("p",{children:(null===(e=i.properties)||void 0===e?void 0:e.name)||i.type})});default:return Object(n.jsxs)(K,{onDoubleClick:function(){return u(!0)},children:[Object(n.jsx)(z.a,{title:(null===(r=i.properties)||void 0===r?void 0:r.name)||i.type,visible:c,onOk:function(){i.properties=Object(b.a)(Object(b.a)({},i.properties),{},{test:"test"}),u(!1)},onCancel:function(){return u(!1)},okButtonProps:{disabled:!1},cancelButtonProps:{disabled:!1}}),Object(n.jsx)("p",{children:(null===(o=i.properties)||void 0===o?void 0:o.name)||i.type})]})}}),X=function(t){Object(f.a)(r,t);var e=Object(h.a)(r);function r(){var t;Object(l.a)(this,r);for(var n=arguments.length,o=new Array(n),p=0;p<n;p++)o[p]=arguments[p];return(t=e.call.apply(e,[this].concat(o))).state=Object(v.cloneDeep)(F),t}return Object(d.a)(r,[{key:"exportToYaml",value:function(){var t=Object.values(this.state.nodes),e=t.filter((function(t){return"oscar-fx"===t.type})).map((function(t){return t.properties})),r=t.filter((function(t){return"aws-fx"===t.type})).map((function(t){return t.properties})),n=t.filter((function(t){return"one-data-storage"===t.type})).map((function(t){return t.properties})),o=t.filter((function(t){return"s3-storage"===t.type})).map((function(t){return t.properties})),p=Object.values(this.state.links);console.log(p);var i=H.a.dump({functions:{oscar:e,aws:r},storage_providers:{s3:o,onedata:n}}),a=new Blob([i],{type:"text/plain;charset=utf-8"});Object(R.saveAs)(a,"workflow.yaml")}},{key:"exportState",value:function(){var t=JSON.stringify(this.state),e=new Blob([t],{type:"text/plain;charset=utf-8"});Object(R.saveAs)(e,"state.json")}},{key:"importState",value:function(){var t=this,e=document.createElement("input");e.type="file",e.onchange=function(r){console.log(r);var n=new FileReader;n.onload=function(){var e=Object(u.a)(c.a.mark((function e(r){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(r.target.result),(null===r||void 0===r||null===(n=r.target)||void 0===n?void 0:n.result)&&t.setState(JSON.parse(r.target.result));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.readAsText(e.files[0])},e.click()}},{key:"render",value:function(){var t=this,e=this.state,r=Object(v.mapValues)(D.actions,(function(e){return function(){return t.setState(e.apply(void 0,arguments))}}));return Object(n.jsx)("div",{className:"App",children:Object(n.jsxs)(M.a,{className:"layout",children:[Object(n.jsx)(q,{children:Object(n.jsxs)(E.a,{theme:"dark",mode:"horizontal",children:[Object(n.jsx)(Q,{ghost:!0,icon:Object(n.jsx)(P.a,{}),onClick:function(){return t.exportState()},children:"Download state"}),Object(n.jsx)(Q,{ghost:!0,icon:Object(n.jsx)(V.a,{}),onClick:function(){return t.importState()},children:"Load state"}),Object(n.jsx)(Q,{ghost:!0,icon:Object(n.jsx)(I.a,{}),onClick:function(){t.exportToYaml()},children:"Export yaml"})]})}),Object(n.jsxs)(S,{children:[Object(n.jsx)(D.FlowChart,{chart:e,callbacks:r,Components:{NodeInner:U}}),Object(n.jsxs)(A,{children:[Object(n.jsx)(w,{children:"Drag and drop these items onto the canvas."}),Object(n.jsx)(B,{type:"function-input",ports:{port1:{id:"port1",type:"top",properties:{path:""}},port2:{id:"port2",type:"right",properties:{path:""}},port3:{id:"port3",type:"bottom",properties:{path:""}},port4:{id:"port4",type:"left",properties:{path:""}}}}),Object(n.jsx)(B,{type:"function-output",ports:{port1:{id:"port1",type:"top",properties:{path:""}},port2:{id:"port2",type:"right",properties:{path:""}},port3:{id:"port3",type:"bottom",properties:{path:""}},port4:{id:"port4",type:"left",properties:{path:""}}}}),Object(n.jsx)(B,{type:"s3-storage",ports:{port1:{id:"port1",type:"top",properties:{path:""}},port2:{id:"port2",type:"right",properties:{path:""}},port3:{id:"port3",type:"bottom",properties:{path:""}},port4:{id:"port4",type:"left",properties:{path:""}}}}),Object(n.jsx)(B,{type:"one-data-storage",ports:{port1:{id:"port1",type:"top",properties:{path:""}},port2:{id:"port2",type:"right",properties:{path:""}},port3:{id:"port3",type:"bottom",properties:{path:""}},port4:{id:"port4",type:"left",properties:{path:""}}}}),Object(n.jsx)(B,{properties:{name:"oscar fx"},type:"oscar-fx",ports:{port1:{id:"port1",type:"top",properties:{path:""}},port2:{id:"port2",type:"right",properties:{path:""}},port3:{id:"port3",type:"bottom",properties:{path:""}},port4:{id:"port4",type:"left",properties:{path:""}}}}),Object(n.jsx)(B,{type:"aws-fx",properties:{name:"aws fx"},ports:{port1:{id:"port1",type:"top",properties:{path:""}},port2:{id:"port2",type:"right",properties:{path:""}},port3:{id:"port3",type:"bottom",properties:{path:""}},port4:{id:"port4",type:"left",properties:{path:""}}}})]})]})]})})}}]),r}(p.a.Component),Z=function(t){t&&t instanceof Function&&r.e(3).then(r.bind(null,271)).then((function(e){var r=e.getCLS,n=e.getFID,o=e.getFCP,p=e.getLCP,i=e.getTTFB;r(t),n(t),o(t),p(t),i(t)}))};a.a.render(Object(n.jsx)(X,{}),document.getElementById("root")),Z()}},[[262,1,2]]]);
//# sourceMappingURL=main.63f9330c.chunk.js.map