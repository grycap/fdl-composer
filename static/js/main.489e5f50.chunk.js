(this["webpackJsonpworkflow-builder"]=this["webpackJsonpworkflow-builder"]||[]).push([[0],{170:function(t,n,e){},172:function(t,n,e){},331:function(t,n,e){"use strict";e.r(n);var o=e(2),r=e(0),a=e.n(r),i=e(12),c=e.n(i),u=(e(170),e(10)),s=e(30),p=e.n(s),l=e(47),d=e(1),b=e(6),j=e(13),f=e(14),O=e(17),g=e(15),v=e(19),x=e(18),h=(e(172),e(90)),m=e(11);function P(){var t=Object(x.a)(["\n  margin: 10px;\n  padding: 10px;\n  line-height: 1.4em;\n  white-space: pre-wrap;\n  font-family: Consolas, 'Andale Mono WT', 'Andale Mono', 'Lucida Console', 'Lucida Sans Typewriter', 'DejaVu Sans Mono',\n    'Bitstream Vera Sans Mono', 'Liberation Mono', 'Nimbus Mono L', Monaco, 'Courier New', Courier, monospace;\n\n  background-color: #eff0f1;\n  overflow: auto;\n"]);return P=function(){return t},t}m.default.pre(P());function y(){var t=Object(x.a)(["\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  overflow: hidden;\n"]);return y=function(){return t},t}m.default.div(y());function w(){var t=Object(x.a)(["\n  margin: 10px 10px 0px;\n  padding: 10px;\n  line-height: 1.4em;\n"]);return w=function(){return t},t}var k=m.default.div(w());function C(){var t=Object(x.a)(["\n  display: flex;\n  flex-direction: row;\n  flex: 1;\n  max-width: 100vw;\n  max-height: 93vh;\n"]);return C=function(){return t},t}function M(){var t=Object(x.a)(["\n  body {\n    margin: 0px;\n    max-width: 100vw;\n    max-height: 100vh;\n    overflow: hidden;\n    box-sizing: border-box;\n    font-family: sans-serif;\n  }\n\n  *, :after, :before {\n    box-sizing: inherit;\n  }\n"]);return M=function(){return t},t}Object(m.createGlobalStyle)(M());var D=m.default.div(C()),_=e(338),K=e(77);function S(){var t=Object(x.a)(["\n  width: 200px;\n  background: white;\n  display: flex;\n  flex-direction: column;\n  flex-shrink: 0;\n  overflow: auto;\n"]);return S=function(){return t},t}var U=m.default.div(S()),I=function(t){var n=t.storageProviders,e=t.removeStorageProvider;return Object(o.jsxs)(U,{children:[Object(o.jsx)(k,{children:"Drag and drop these items onto the canvas."}),null===n||void 0===n?void 0:n.filter((function(t){var n;return null===(n=t.properties)||void 0===n?void 0:n.name})).map((function(t,n){return Object(o.jsx)(_.a,{title:"Delete provider ".concat(t.properties.name),content:Object(o.jsx)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center"},children:Object(o.jsx)(K.a,{danger:!0,onClick:function(){return e(t.type,t.properties.name)},children:"Delete"})}),children:Object(o.jsx)(H,Object(d.a)(Object(d.a)({},t),{},{onDoubleClick:function(t){t.stopPropagation()}}))},"Popover_".concat(n))})),Object(o.jsx)(H,{type:"minio",ports:{port1:{id:"port1",type:"top",properties:{path:""}},port2:{id:"port2",type:"right",properties:{path:""}},port3:{id:"port3",type:"bottom",properties:{path:""}},port4:{id:"port4",type:"left",properties:{path:""}}}}),Object(o.jsx)(H,{type:"onedata",ports:{port1:{id:"port1",type:"top",properties:{path:""}},port2:{id:"port2",type:"right",properties:{path:""}},port3:{id:"port3",type:"bottom",properties:{path:""}},port4:{id:"port4",type:"left",properties:{path:""}}}}),Object(o.jsx)(H,{type:"oscar-fx",ports:{port1:{id:"port1",type:"top",properties:{path:""}},port2:{id:"port2",type:"right",properties:{path:""}},port3:{id:"port3",type:"bottom",properties:{path:""}},port4:{id:"port4",type:"left",properties:{path:""}}}}),Object(o.jsx)(H,{type:"aws-fx",ports:{port1:{id:"port1",type:"top",properties:{path:""}},port2:{id:"port2",type:"right",properties:{path:""}},port3:{id:"port3",type:"bottom",properties:{path:""}},port4:{id:"port4",type:"left",properties:{path:""}}}})]})},V=e(16),N=e(37);function E(){var t=Object(x.a)(["\n      background: ",";\n    "]);return E=function(){return t},t}function B(){var t=Object(x.a)(["\n      color: ",";\n    "]);return B=function(){return t},t}function J(){var t=Object(x.a)(["\n  margin-bottom: 1rem;\n  border: 0.5px solid grey;\n  padding: 30px;\n  min-height: 100px;\n  border-radius: 50%;\n  font-size: 14px;\n  cursor: move;\n  ","\n  ",";\n"]);return J=function(){return t},t}function A(){var t=Object(x.a)(["\n      background: ",";\n    "]);return A=function(){return t},t}function T(){var t=Object(x.a)(["\n      color: ",";\n    "]);return T=function(){return t},t}function R(){var t=Object(x.a)(["\n  margin-bottom: 1rem;\n  border: 0.5px solid grey;\n  padding: 20px 30px;\n  font-size: 14px;\n  background: black;\n  cursor: move;\n  ","\n  ",";\n"]);return R=function(){return t},t}var F=m.default.div(R(),(function(t){return t.color&&Object(m.css)(T(),t.color)}),(function(t){return t.background&&Object(m.css)(A(),t.background)})),L=m.default.div(J(),(function(t){return t.color&&Object(m.css)(B(),t.color)}),(function(t){return t.background&&Object(m.css)(E(),t.background)})),Y=function(t){switch(t){case"oscar-fx":return{background:"#fff",color:"black"};case"aws-fx":return{background:"#080301",color:"white"};case"s3":return{background:"#ebe4c0",color:"black"};case"onedata":return{background:"#c2d4ad",color:"black"};case"minio":return{background:"#c47878",color:"black"};default:return{background:"#FFF",color:"black"}}},z=function(t){switch(t){case"oscar-fx":return Object(o.jsx)("img",{alt:"oscar logo",src:"https://github.com/grycap/oscar/blob/master/docs/images/oscar3.png?raw=true",width:"96px"});case"aws-fx":return Object(o.jsx)("img",{alt:"aws logo",src:"https://d1.awsstatic.com/Digital%20Marketing/House/PAC/2up/PAC-Q4_House-Ads_Lambda_2up.62dc7e19b7b2e0a2c06821594c31f1ce00a6bdda.png",height:"32px"});case"s3":return Object(o.jsx)("img",{alt:"s3 logo",src:"https://servmask.com/img/products/s3.png",height:"48px"});case"onedata":return Object(o.jsx)("img",{alt:"aws logo",src:"https://www.ebi.ac.uk/about/technology/wp-content/uploads/2019/10/onedata-logo.png",height:"24px"});case"minio":return Object(o.jsx)("img",{alt:"aws logo",src:"https://suarapapua.com/wp-content/plugins/ilab-media-tools-premium/public/img/wizard-icon-minio.png",height:"36px"})}},H=function(t){var n=t.type,e=t.ports,r=t.properties,a=Object(V.a)(t,["type","ports","properties"]),i=Y(n);return["s3","onedata","minio"].includes(n)?Object(o.jsxs)(L,Object(d.a)(Object(d.a)({background:i.background,color:i.color,draggable:!0,onDragStart:function(t){t.dataTransfer.setData(N.REACT_FLOW_CHART,JSON.stringify({type:n,ports:e,properties:r}))}},a),{},{children:[z(n),null===r||void 0===r?void 0:r.name]})):Object(o.jsx)(F,{background:i.background,color:i.color,draggable:!0,onDragStart:function(t){t.dataTransfer.setData(N.REACT_FLOW_CHART,JSON.stringify({type:n,ports:e,properties:r}))},children:z(n)})},G=e(339),W=e(340),Q=e(341),q=function(t){switch(t.port.type){case"right":case"left":return Object(o.jsx)(G.a,{style:{fontSize:"1rem"}});case"top":case"bottom":return Object(o.jsx)(W.a,{style:{fontSize:"1rem"}});default:return Object(o.jsx)(Q.a,{style:{fontSize:"1rem"}})}},X={offset:{x:0,y:0},scale:1,nodes:{},links:{},selected:{},hovered:{},modalVisible:!1,storageProviders:[],s3ModalVisible:!1,oneDataModalVisible:!1,minioModalVisible:!1},Z=e(333),$=e(336),tt=e(342),nt=e(343),et=e(344),ot=e(345),rt=e(113),at=e(156),it=e.n(at),ct=e(5),ut=e(335),st=e(337),pt=e(332),lt=e(334);function dt(){var t=Object(x.a)(["\n  width: 20%;\n  align-content: center;\n"]);return dt=function(){return t},t}function bt(){var t=Object(x.a)(["\n  display: flex;\n  flex-direction: row;\n"]);return bt=function(){return t},t}function jt(){var t=Object(x.a)(["\n  padding: 10px;\n  border: 1px solid cornflowerblue;\n  margin-bottom: 0.5rem;\n  width: 80%;\n"]);return jt=function(){return t},t}function ft(){var t=Object(x.a)(["\n      background: ",";\n    "]);return ft=function(){return t},t}function Ot(){var t=Object(x.a)(["\n      color: ",";\n    "]);return Ot=function(){return t},t}function gt(){var t=Object(x.a)(["\n  padding: 30px;\n  border-radius: 50%;\n  ","\n  ",";\n"]);return gt=function(){return t},t}function vt(){var t=Object(x.a)(["\n      background: ",";\n    "]);return vt=function(){return t},t}function xt(){var t=Object(x.a)(["\n      color: ",";\n    "]);return xt=function(){return t},t}function ht(){var t=Object(x.a)(["\n  padding: 30px;\n  ","\n  ",";\n"]);return ht=function(){return t},t}var mt=m.default.div(ht(),(function(t){return t.color&&Object(m.css)(xt(),t.color)}),(function(t){return t.background&&Object(m.css)(vt(),t.background)})),Pt=m.default.div(gt(),(function(t){return t.color&&Object(m.css)(Ot(),t.color)}),(function(t){return t.background&&Object(m.css)(ft(),t.background)})),yt=m.default.input(jt()),wt=m.default.div(bt()),kt=m.default.div(dt()),Ct=function(t){var n,e,r,i,c,u,s,p,l,b,j,f,O,g,v,x,h,m,P,y,w,k,C,M,D,_,K,S,U,I,N,E,B,J,A,T,R,F,L,H,G,W,Q,q,X,Z,$,tt,nt,et,ot,rt,at,it,dt,bt,jt,ft,Ot,gt,vt,xt,ht,Ct,Mt,Dt,_t,Kt,St,Ut,It=t.node,Vt=(t.config,Object(V.a)(t,["node","config"])),Nt=a.a.useState(!1),Et=Object(ct.a)(Nt,2),Bt=Et[0],Jt=Et[1],At=a.a.useState(It.properties||{}),Tt=Object(ct.a)(At,2),Rt=Tt[0],Ft=Tt[1],Lt=Y(It.type);switch(It.type){case"s3":return Object(o.jsxs)(Pt,Object(d.a)(Object(d.a)({},Vt),{},{color:Lt.color,background:Lt.background,onDoubleClick:function(t){return Jt(!0)},children:[Object(o.jsxs)(ut.a,{title:(null===(n=It.properties)||void 0===n?void 0:n.name)||It.type,visible:Bt,onOk:function(){It.properties=Rt,Jt(!1)},onCancel:function(){return Jt(!1)},okButtonProps:{disabled:!1},cancelButtonProps:{disabled:!1},children:[Object(o.jsxs)(wt,{children:[Object(o.jsx)(kt,{children:"Name:"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"my-s3",value:Rt.name,onChange:function(t){Ft(Object(d.a)(Object(d.a)({},Rt),{},{name:t.target.value}))}})]}),Object(o.jsxs)(wt,{children:[Object(o.jsx)(kt,{children:"Access Key:"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"xxxxxxxxxxxxxxxx",value:Rt.access_key,onChange:function(t){Ft(Object(d.a)(Object(d.a)({},Rt),{},{access_key:t.target.value}))}})]}),Object(o.jsxs)(wt,{children:[Object(o.jsx)(kt,{children:"Secret Key:"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"xxxxxxxxxxxxxxxx",value:Rt.secret_key,onChange:function(t){Ft(Object(d.a)(Object(d.a)({},Rt),{},{secret_key:t.target.value}))}})]}),Object(o.jsxs)(wt,{children:[Object(o.jsx)(kt,{children:"Region:"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"us-east-1",value:Rt.region,onChange:function(t){Ft(Object(d.a)(Object(d.a)({},Rt),{},{region:t.target.value}))}})]})]}),Object(o.jsx)("div",{children:z(It.type)}),Object(o.jsx)("div",{children:"".concat((null===(e=It.properties)||void 0===e?void 0:e.name)||"")})]}));case"minio":return Object(o.jsxs)(Pt,{color:Lt.color,background:Lt.background,onDoubleClick:function(t){return Jt(!0)},children:[Object(o.jsxs)(ut.a,{title:(null===(r=It.properties)||void 0===r?void 0:r.name)||It.type,visible:Bt,onOk:function(){It.properties=Rt,Jt(!1)},onCancel:function(){return Jt(!1)},okButtonProps:{disabled:!1},cancelButtonProps:{disabled:!1},children:[Object(o.jsxs)(wt,{children:[Object(o.jsx)(kt,{children:"Name:"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"my_minio",value:Rt.name,onChange:function(t){Ft(Object(d.a)(Object(d.a)({},Rt),{},{name:t.target.value}))}})]}),Object(o.jsxs)(wt,{children:[Object(o.jsx)(kt,{children:"Endpoint:"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"minio-endpoint",value:Rt.endpoint,onChange:function(t){Ft(Object(d.a)(Object(d.a)({},Rt),{},{endpoint:t.target.value}))}})]}),Object(o.jsxs)(wt,{children:[Object(o.jsx)(kt,{children:"Verify:"}),Object(o.jsx)(st.a,{onClick:function(t){return t.stopPropagation()},value:Rt.verify,onChange:function(t){Ft(Object(d.a)(Object(d.a)({},Rt),{},{verify:t.target.checked}))}})]}),Object(o.jsxs)(wt,{children:[Object(o.jsx)(kt,{children:"Region:"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"us-east-1",value:Rt.region,onChange:function(t){Ft(Object(d.a)(Object(d.a)({},Rt),{},{region:t.target.value}))}})]}),Object(o.jsxs)(wt,{children:[Object(o.jsx)(kt,{children:"Access Key:"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"xxxxxxxxxxxxxxxx",value:Rt.access_key,onChange:function(t){Ft(Object(d.a)(Object(d.a)({},Rt),{},{access_key:t.target.value}))}})]}),Object(o.jsxs)(wt,{children:[Object(o.jsx)(kt,{children:"Secret Key:"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"xxxxxxxxxxxxxxxx",value:Rt.secret_key,onChange:function(t){Ft(Object(d.a)(Object(d.a)({},Rt),{},{secret_key:t.target.value}))}})]})]}),Object(o.jsx)("div",{children:z(It.type)}),Object(o.jsx)("div",{children:"".concat((null===(i=It.properties)||void 0===i?void 0:i.name)||"")})]});case"onedata":return Object(o.jsxs)(Pt,{color:Lt.color,background:Lt.background,onDoubleClick:function(){return Jt(!0)},children:[Object(o.jsxs)(ut.a,{title:(null===(c=It.properties)||void 0===c?void 0:c.name)||It.type,visible:Bt,onOk:function(){It.properties=Rt,Jt(!1)},onCancel:function(){return Jt(!1)},okButtonProps:{disabled:!1},cancelButtonProps:{disabled:!1},children:[Object(o.jsxs)(wt,{children:[Object(o.jsx)(kt,{children:"Name:"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"my-onedata",value:Rt.name,onChange:function(t){Ft(Object(d.a)(Object(d.a)({},Rt),{},{name:t.target.value}))}})]}),Object(o.jsxs)(wt,{children:[Object(o.jsx)(kt,{children:"One Provider Host:"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"plg-cyfronet-01.datahub.egi.eu",value:Rt.oneprovider_host,onChange:function(t){Ft(Object(d.a)(Object(d.a)({},Rt),{},{oneprovider_host:t.target.value}))}})]}),Object(o.jsxs)(wt,{children:[Object(o.jsx)(kt,{children:"Token:"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"xxxxxxxxxxxxxxxx",value:Rt.token,onChange:function(t){Ft(Object(d.a)(Object(d.a)({},Rt),{},{token:t.target.value}))}})]}),Object(o.jsxs)(wt,{children:[Object(o.jsx)(kt,{children:"Space:"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"my-space",value:Rt.space,onChange:function(t){Ft(Object(d.a)(Object(d.a)({},Rt),{},{space:t.target.value}))}})]})]}),Object(o.jsx)("div",{children:z(It.type)}),Object(o.jsx)("div",{children:"".concat((null===(u=It.properties)||void 0===u?void 0:u.name)||"")})]});case"oscar-fx":return Object(o.jsxs)(mt,{color:Lt.color,background:Lt.background,onDoubleClick:function(){return Jt(!0)},children:[Object(o.jsxs)(ut.a,{title:(null===(s=It.properties)||void 0===s?void 0:s.name)||It.type,visible:Bt,onOk:function(){It.properties=Rt,Jt(!1)},onCancel:function(){return Jt(!1)},okButtonProps:{disabled:!1},cancelButtonProps:{disabled:!1},children:[Object(o.jsx)(pt.a,{children:"Setup"}),Object(o.jsxs)(wt,{children:[Object(o.jsx)(kt,{children:"Name:"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"darknet",value:Rt.name,onChange:function(t){Ft(Object(d.a)(Object(d.a)({},Rt),{},{name:t.target.value}))}})]}),Object(o.jsxs)(wt,{children:[Object(o.jsx)(kt,{children:"Memory:"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"1Gi",value:Rt.memory,onChange:function(t){Ft(Object(d.a)(Object(d.a)({},Rt),{},{memory:t.target.value}))}})]}),Object(o.jsxs)(wt,{children:[Object(o.jsx)(kt,{children:"Cpu:"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"1.0",value:Rt.cpu,onChange:function(t){Ft(Object(d.a)(Object(d.a)({},Rt),{},{cpu:t.target.value}))}})]}),Object(o.jsxs)(wt,{children:[Object(o.jsx)(kt,{children:"Image:"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"grycap/darknet",value:Rt.image,onChange:function(t){Ft(Object(d.a)(Object(d.a)({},Rt),{},{image:t.target.value}))}})]}),Object(o.jsxs)(wt,{children:[Object(o.jsx)(kt,{children:"Script:"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"yolo.sh",value:Rt.script,onChange:function(t){Ft(Object(d.a)(Object(d.a)({},Rt),{},{script:t.target.value}))}})]}),Object(o.jsxs)(wt,{children:[Object(o.jsx)(kt,{children:"Environment variables"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"KEY1=val1, KEY2=val2...",value:null===(p=Rt.environment)||void 0===p?void 0:p.Variables,onChange:function(t){var n=t.target.value;Ft(Object(d.a)(Object(d.a)({},Rt),{},{environment:Object(d.a)(Object(d.a)({},Rt.environment),{},{Variables:t.target.value})})),!n&&delete Rt.environment}})]}),Object(o.jsx)(pt.a,{children:"Input"}),Object(o.jsxs)(wt,{children:[Object(o.jsx)(kt,{children:"Path:"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"darknet-workflow/input",value:null===(l=Rt.input)||void 0===l?void 0:l.path,onChange:function(t){Ft(Object(d.a)(Object(d.a)({},Rt),{},{input:Object(d.a)(Object(d.a)({},Rt.input),{},{path:t.target.value})}))}})]}),Object(o.jsxs)(wt,{children:[Object(o.jsx)(kt,{children:"Suffix"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"png, jpg, xls",value:null===(b=Rt.input)||void 0===b?void 0:b.suffix,onChange:function(t){t.target.value?Ft(Object(d.a)(Object(d.a)({},Rt),{},{input:Object(d.a)(Object(d.a)({},Rt.input),{},{suffix:t.target.value})})):delete Rt.suffix}})]}),Object(o.jsxs)(wt,{children:[Object(o.jsx)(kt,{children:"Prefix"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"result-, demo-",value:null===(j=Rt.input)||void 0===j?void 0:j.prefix,onChange:function(t){t.target.value?Ft(Object(d.a)(Object(d.a)({},Rt),{},{input:Object(d.a)(Object(d.a)({},Rt.input),{},{prefix:t.target.value})})):delete Rt.prefix}})]}),Object(o.jsx)(pt.a,{children:"Output"}),Object(o.jsxs)(wt,{children:[Object(o.jsx)(kt,{children:"Path:"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"darknet-workflow/output",value:null===(f=Rt.output)||void 0===f?void 0:f.path,onChange:function(t){Ft(Object(d.a)(Object(d.a)({},Rt),{},{output:Object(d.a)(Object(d.a)({},Rt.output),{},{path:t.target.value})}))}})]}),Object(o.jsxs)(wt,{children:[Object(o.jsx)(kt,{children:"Suffix"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"png, jpg, xls",value:null===(O=Rt.output)||void 0===O?void 0:O.suffix,onChange:function(t){t.target.value?Ft(Object(d.a)(Object(d.a)({},Rt),{},{output:Object(d.a)(Object(d.a)({},Rt.output),{},{suffix:t.target.value})})):delete Rt.suffix}})]}),Object(o.jsxs)(wt,{children:[Object(o.jsx)(kt,{children:"Prefix"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"result-, demo-",value:null===(g=Rt.output)||void 0===g?void 0:g.prefix,onChange:function(t){t.target.value?Ft(Object(d.a)(Object(d.a)({},Rt),{},{output:Object(d.a)(Object(d.a)({},Rt.output),{},{prefix:t.target.value})})):delete Rt.prefix}})]})]}),Object(o.jsx)("div",{children:z(It.type)}),Object(o.jsx)("div",{children:"".concat((null===(v=It.properties)||void 0===v?void 0:v.name)||"")})]});case"aws-fx":return Object(o.jsxs)(mt,{color:Lt.color,background:Lt.background,onDoubleClick:function(){return Jt(!0)},children:[Object(o.jsx)(ut.a,{title:(null===(x=It.properties)||void 0===x?void 0:x.name)||It.type,visible:Bt,onOk:function(){It.properties=Rt,Jt(!1)},onCancel:function(){return Jt(!1)},okButtonProps:{disabled:!1},cancelButtonProps:{disabled:!1},children:Object(o.jsxs)(lt.a,{defaultActiveKey:"1",children:[Object(o.jsxs)(lt.a.TabPane,{tab:"Lambda",children:[Object(o.jsx)(pt.a,{children:"Setup"}),Object(o.jsxs)(wt,{children:[Object(o.jsx)(kt,{children:"Name:"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"darknet",value:null===(h=Rt.lambda)||void 0===h?void 0:h.name,onChange:function(t){Ft(Object(d.a)(Object(d.a)({},Rt),{},{lambda:Object(d.a)(Object(d.a)({},Rt.lambda),{},{name:t.target.value})}))}})]}),Object(o.jsxs)(wt,{children:[Object(o.jsx)(kt,{children:"Region:"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"us-east-1",value:null===(m=Rt.lambda)||void 0===m?void 0:m.region,onChange:function(t){Ft(Object(d.a)(Object(d.a)({},Rt),{},{lambda:Object(d.a)(Object(d.a)({},Rt.lambda),{},{region:t.target.value})}))}})]}),Object(o.jsxs)(wt,{children:[Object(o.jsx)(kt,{children:"Boto profile:"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"default",value:null===(P=Rt.lambda)||void 0===P?void 0:P.boto_profile,onChange:function(t){Ft(Object(d.a)(Object(d.a)({},Rt),{},{lambda:Object(d.a)(Object(d.a)({},Rt.lambda),{},{boto_profile:t.target.value})}))}})]}),Object(o.jsxs)(wt,{children:[Object(o.jsx)(kt,{children:"Memory:"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"1024",value:null===(y=Rt.lambda)||void 0===y?void 0:y.memory,onChange:function(t){Ft(Object(d.a)(Object(d.a)({},Rt),{},{lambda:Object(d.a)(Object(d.a)({},Rt.lambda),{},{memory:t.target.value})}))}})]}),Object(o.jsxs)(wt,{children:[Object(o.jsx)(kt,{children:"Cpu:"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"1.0",value:null===(w=Rt.lambda)||void 0===w?void 0:w.cpu,onChange:function(t){Ft(Object(d.a)(Object(d.a)({},Rt),{},{lambda:Object(d.a)(Object(d.a)({},Rt.lambda),{},{cpu:t.target.value})}))}})]}),Object(o.jsxs)(wt,{children:[Object(o.jsx)(kt,{children:"Init script:"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"yolo.sh",value:null===(k=Rt.lambda)||void 0===k?void 0:k.init_script,onChange:function(t){Ft(Object(d.a)(Object(d.a)({},Rt),{},{lambda:Object(d.a)(Object(d.a)({},Rt.lambda),{},{init_script:t.target.value})}))}})]}),Object(o.jsxs)(wt,{children:[Object(o.jsx)(kt,{children:"Timeout:"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"300",value:null===(C=Rt.lambda)||void 0===C?void 0:C.timeout,onChange:function(t){Ft(Object(d.a)(Object(d.a)({},Rt),{},{lambda:Object(d.a)(Object(d.a)({},Rt.lambda),{},{timeout:t.target.value})}))}})]}),Object(o.jsxs)(wt,{children:[Object(o.jsx)(kt,{children:"Log level:"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"INFO | DEBUG | ERROR | WARNING",value:null===(M=Rt.lambda)||void 0===M?void 0:M.log_level,onChange:function(t){Ft(Object(d.a)(Object(d.a)({},Rt),{},{lambda:Object(d.a)(Object(d.a)({},Rt.lambda),{},{log_level:t.target.value})}))}})]}),Object(o.jsxs)(wt,{children:[Object(o.jsx)(kt,{children:"Execution mode:"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"lambda | lambda-batch | batch",value:null===(D=Rt.lambda)||void 0===D?void 0:D.execution_mode,onChange:function(t){Ft(Object(d.a)(Object(d.a)({},Rt),{},{lambda:Object(d.a)(Object(d.a)({},Rt.lambda),{},{execution_mode:t.target.value})}))}})]}),Object(o.jsxs)(wt,{children:[Object(o.jsx)(kt,{children:"Environment variables"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"KEY1=val1, KEY2=val2...",value:null===(_=Rt.lambda)||void 0===_||null===(K=_.environment)||void 0===K?void 0:K.Variables,onChange:function(t){var n,e=t.target.value;Ft(Object(d.a)(Object(d.a)({},Rt),{},{lambda:Object(d.a)(Object(d.a)({},Rt.lambda),{},{environment:Object(d.a)(Object(d.a)({},null===(n=Rt.lambda)||void 0===n?void 0:n.environment),{},{Variables:t.target.value})})})),e&&delete Rt.lambda.environment}})]}),Object(o.jsx)(pt.a,{children:"Container"}),Object(o.jsxs)(wt,{children:[Object(o.jsx)(kt,{children:"Image:"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"grycap/darknet",value:null===(S=Rt.lambda)||void 0===S||null===(U=S.container)||void 0===U?void 0:U.image,onChange:function(t){var n;Ft(Object(d.a)(Object(d.a)({},Rt),{},{lambda:Object(d.a)(Object(d.a)({},Rt.lambda),{},{container:Object(d.a)(Object(d.a)({},null===(n=Rt.lambda)||void 0===n?void 0:n.container),{},{image:t.target.value})})}))}})]}),Object(o.jsxs)(wt,{children:[Object(o.jsx)(kt,{children:"Timeout threshold"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"grycap/darknet",value:null===(I=Rt.lambda)||void 0===I||null===(N=I.container)||void 0===N?void 0:N.timeout_threshold,onChange:function(t){var n;Ft(Object(d.a)(Object(d.a)({},Rt),{},{lambda:Object(d.a)(Object(d.a)({},Rt.lambda),{},{container:Object(d.a)(Object(d.a)({},null===(n=Rt.lambda)||void 0===n?void 0:n.container),{},{timeout_threshold:t.target.value})})}))}})]}),Object(o.jsxs)(wt,{children:[Object(o.jsx)(kt,{children:"Environment variables"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"KEY1=val1, KEY2=val2...",value:null===(E=Rt.lambda)||void 0===E||null===(B=E.container)||void 0===B||null===(J=B.environment)||void 0===J?void 0:J.Variables,onChange:function(t){var n,e,o=t.target.value;Ft(Object(d.a)(Object(d.a)({},Rt),{},{lambda:Object(d.a)(Object(d.a)({},Rt.lambda),{},{container:Object(d.a)(Object(d.a)({},null===(n=Rt.lambda)||void 0===n?void 0:n.container),{},{environment:Object(d.a)(Object(d.a)({},null===(e=Rt.lambda)||void 0===e?void 0:e.container.environment),{},{Variables:t.target.value})})})})),!o&&delete Rt.lambda.container.environment}})]}),Object(o.jsx)(pt.a,{children:"Input"}),Object(o.jsxs)(wt,{children:[Object(o.jsx)(kt,{children:"Path:"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"darknet-workflow/input",value:null===(A=Rt.lambda)||void 0===A||null===(T=A.input)||void 0===T?void 0:T.path,onChange:function(t){var n;Ft(Object(d.a)(Object(d.a)({},Rt),{},{lambda:Object(d.a)(Object(d.a)({},Rt.lambda),{},{input:Object(d.a)(Object(d.a)({},null===(n=Rt.lambda)||void 0===n?void 0:n.input),{},{path:t.target.value})})}))}})]}),Object(o.jsxs)(wt,{children:[Object(o.jsx)(kt,{children:"Suffix"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"png, jpg, xls",value:null===(R=Rt.lambda)||void 0===R||null===(F=R.input)||void 0===F?void 0:F.suffix,onChange:function(t){var n;t.target.value?Ft(Object(d.a)(Object(d.a)({},Rt),{},{lambda:Object(d.a)(Object(d.a)({},Rt.lambda),{},{input:Object(d.a)(Object(d.a)({},null===(n=Rt.lambda)||void 0===n?void 0:n.input),{},{suffix:t.target.value})})})):delete Rt.lambda.input.suffix}})]}),Object(o.jsxs)(wt,{children:[Object(o.jsx)(kt,{children:"Prefix"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"result-, demo-",value:null===(L=Rt.lambda)||void 0===L||null===(H=L.input)||void 0===H?void 0:H.prefix,onChange:function(t){var n;t.target.value?Ft(Object(d.a)(Object(d.a)({},Rt),{},{lambda:Object(d.a)(Object(d.a)({},Rt.lambda),{},{input:Object(d.a)(Object(d.a)({},null===(n=Rt.lambda)||void 0===n?void 0:n.input),{},{prefix:t.target.value})})})):delete Rt.lambda.input.prefix}})]}),Object(o.jsx)(pt.a,{children:"Output"}),Object(o.jsxs)(wt,{children:[Object(o.jsx)(kt,{children:"Path:"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"darknet-workflow/output",value:null===(G=Rt.lambda)||void 0===G||null===(W=G.output)||void 0===W?void 0:W.path,onChange:function(t){var n;Ft(Object(d.a)(Object(d.a)({},Rt),{},{lambda:Object(d.a)(Object(d.a)({},Rt.lambda),{},{output:Object(d.a)(Object(d.a)({},null===(n=Rt.lambda)||void 0===n?void 0:n.input),{},{path:t.target.value})})}))}})]}),Object(o.jsxs)(wt,{children:[Object(o.jsx)(kt,{children:"Suffix"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"png, jpg, xls",value:null===(Q=Rt.lambda)||void 0===Q||null===(q=Q.output)||void 0===q?void 0:q.suffix,onChange:function(t){var n;t.target.value?Ft(Object(d.a)(Object(d.a)({},Rt),{},{lambda:Object(d.a)(Object(d.a)({},Rt.lambda),{},{output:Object(d.a)(Object(d.a)({},null===(n=Rt.lambda)||void 0===n?void 0:n.input),{},{suffix:t.target.value})})})):delete Rt.lambda.output.suffix}})]}),Object(o.jsxs)(wt,{children:[Object(o.jsx)(kt,{children:"Prefix"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"result-, demo-",value:null===(X=Rt.lambda)||void 0===X||null===(Z=X.output)||void 0===Z?void 0:Z.prefix,onChange:function(t){var n;t.target.value?Ft(Object(d.a)(Object(d.a)({},Rt),{},{lambda:Object(d.a)(Object(d.a)({},Rt.lambda),{},{output:Object(d.a)(Object(d.a)({},null===(n=Rt.lambda)||void 0===n?void 0:n.input),{},{prefix:t.target.value})})})):delete Rt.prefix}})]})]},"1"),Object(o.jsxs)(lt.a.TabPane,{tab:"Batch",children:[Object(o.jsx)(pt.a,{children:"Setup"}),Object(o.jsxs)(wt,{children:[Object(o.jsx)(kt,{children:"Region:"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"us-east-1",value:null===($=Rt.batch)||void 0===$?void 0:$.region,onChange:function(t){Ft(Object(d.a)(Object(d.a)({},Rt),{},{batch:Object(d.a)(Object(d.a)({},Rt.batch),{},{region:t.target.value})}))}})]}),Object(o.jsxs)(wt,{children:[Object(o.jsx)(kt,{children:"Boto profile:"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"default",value:null===(tt=Rt.batch)||void 0===tt?void 0:tt.boto_profile,onChange:function(t){Ft(Object(d.a)(Object(d.a)({},Rt),{},{batch:Object(d.a)(Object(d.a)({},Rt.batch),{},{boto_profile:t.target.value})}))}})]}),Object(o.jsxs)(wt,{children:[Object(o.jsx)(kt,{children:"Memory:"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"1024",value:null===(nt=Rt.batch)||void 0===nt?void 0:nt.memory,onChange:function(t){Ft(Object(d.a)(Object(d.a)({},Rt),{},{batch:Object(d.a)(Object(d.a)({},Rt.batch),{},{memory:t.target.value})}))}})]}),Object(o.jsxs)(wt,{children:[Object(o.jsx)(kt,{children:"vCpu:"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"1.0",value:Rt.vcpus,onChange:function(t){Ft(Object(d.a)(Object(d.a)({},Rt),{},{batch:Object(d.a)(Object(d.a)({},Rt.batch),{},{cpu:t.target.value})}))}})]}),Object(o.jsxs)(wt,{children:[Object(o.jsx)(kt,{children:"Enable gpu:"}),Object(o.jsx)(st.a,{onClick:function(t){return t.stopPropagation()},value:Rt.enable_gpu,onChange:function(t){Ft(Object(d.a)(Object(d.a)({},Rt),{},{batch:Object(d.a)(Object(d.a)({},Rt.batch),{},{enable_gpu:t.target.checked})}))}})]}),Object(o.jsxs)(wt,{children:[Object(o.jsx)(kt,{children:"Service role:"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"aren:...",value:Rt.service_role,onChange:function(t){Ft(Object(d.a)(Object(d.a)({},Rt),{},{batch:Object(d.a)(Object(d.a)({},Rt.batch),{},{service_role:t.target.value})}))}})]}),Object(o.jsxs)(wt,{children:[Object(o.jsx)(kt,{children:"Environment variables"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"KEY1=val1, KEY2=val2...",value:null===(et=Rt.batch)||void 0===et||null===(ot=et.environment)||void 0===ot?void 0:ot.Variables,onChange:function(t){var n,e=t.target.value;Ft(Object(d.a)(Object(d.a)({},Rt),{},{batch:Object(d.a)(Object(d.a)({},Rt.batch),{},{environment:Object(d.a)(Object(d.a)({},null===(n=Rt.batch)||void 0===n?void 0:n.environment),{},{Variables:t.target.value})})})),e&&delete Rt.batch.environment}})]}),Object(o.jsx)(pt.a,{children:"Compute resources"}),Object(o.jsxs)(wt,{children:[Object(o.jsx)(kt,{children:"Desired vCpus"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"0",value:null===(rt=Rt.batch)||void 0===rt||null===(at=rt.compute_resources)||void 0===at?void 0:at.desired_v_cpus,onChange:function(t){var n;Ft(Object(d.a)(Object(d.a)({},Rt),{},{batch:Object(d.a)(Object(d.a)({},Rt.batch),{},{compute_resources:Object(d.a)(Object(d.a)({},null===(n=Rt.batch)||void 0===n?void 0:n.compute_resources),{},{desired_v_cpus:t.target.value})})}))}})]}),Object(o.jsxs)(wt,{children:[Object(o.jsx)(kt,{children:"Min vCpus"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"0",value:null===(it=Rt.batch)||void 0===it||null===(dt=it.compute_resources)||void 0===dt?void 0:dt.min_v_cpus,onChange:function(t){var n;Ft(Object(d.a)(Object(d.a)({},Rt),{},{batch:Object(d.a)(Object(d.a)({},Rt.batch),{},{compute_resources:Object(d.a)(Object(d.a)({},null===(n=Rt.batch)||void 0===n?void 0:n.compute_resources),{},{min_v_cpus:t.target.value})})}))}})]}),Object(o.jsxs)(wt,{children:[Object(o.jsx)(kt,{children:"Max vCpus"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"2",value:null===(bt=Rt.batch)||void 0===bt||null===(jt=bt.compute_resources)||void 0===jt?void 0:jt.max_v_cpus,onChange:function(t){var n;Ft(Object(d.a)(Object(d.a)({},Rt),{},{batch:Object(d.a)(Object(d.a)({},Rt.batch),{},{compute_resources:Object(d.a)(Object(d.a)({},null===(n=Rt.batch)||void 0===n?void 0:n.compute_resources),{},{max_v_cpus:t.target.value})})}))}})]}),Object(o.jsxs)(wt,{children:[Object(o.jsx)(kt,{children:"Max vCpus"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"2",value:null===(ft=Rt.batch)||void 0===ft||null===(Ot=ft.compute_resources)||void 0===Ot?void 0:Ot.max_v_cpus,onChange:function(t){var n;Ft(Object(d.a)(Object(d.a)({},Rt),{},{batch:Object(d.a)(Object(d.a)({},Rt.batch),{},{compute_resources:Object(d.a)(Object(d.a)({},null===(n=Rt.batch)||void 0===n?void 0:n.compute_resources),{},{max_v_cpus:t.target.value})})}))}})]}),Object(o.jsxs)(wt,{children:[Object(o.jsx)(kt,{children:"Instance role"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"arn:...",value:null===(gt=Rt.batch)||void 0===gt||null===(vt=gt.compute_resources)||void 0===vt?void 0:vt.instance_role,onChange:function(t){var n;Ft(Object(d.a)(Object(d.a)({},Rt),{},{batch:Object(d.a)(Object(d.a)({},Rt.batch),{},{compute_resources:Object(d.a)(Object(d.a)({},null===(n=Rt.batch)||void 0===n?void 0:n.compute_resources),{},{instance_role:t.target.value})})}))}})]}),Object(o.jsxs)(wt,{children:[Object(o.jsx)(kt,{children:"Security group ids"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"sg-12345678, sg-12345679...",value:null===(xt=Rt.batch)||void 0===xt||null===(ht=xt.security_group_ids)||void 0===ht?void 0:ht.security_group_ids,onChange:function(t){var n;Ft(Object(d.a)(Object(d.a)({},Rt),{},{batch:Object(d.a)(Object(d.a)({},Rt.batch),{},{compute_resources:Object(d.a)(Object(d.a)({},null===(n=Rt.batch)||void 0===n?void 0:n.compute_resources),{},{security_group_ids:t.target.value})})}))}})]}),Object(o.jsxs)(wt,{children:[Object(o.jsx)(kt,{children:"Subnets"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"subnet-12345, subnet-67891...",value:null===(Ct=Rt.batch)||void 0===Ct||null===(Mt=Ct.subnets)||void 0===Mt?void 0:Mt.subnets,onChange:function(t){var n;Ft(Object(d.a)(Object(d.a)({},Rt),{},{batch:Object(d.a)(Object(d.a)({},Rt.batch),{},{compute_resources:Object(d.a)(Object(d.a)({},null===(n=Rt.batch)||void 0===n?void 0:n.compute_resources),{},{subnets:t.target.value})})}))}})]}),Object(o.jsxs)(wt,{children:[Object(o.jsx)(kt,{children:"Instance types"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"m3.medium, m3.large...",value:null===(Dt=Rt.batch)||void 0===Dt||null===(_t=Dt.subnets)||void 0===_t?void 0:_t.instance_types,onChange:function(t){var n;Ft(Object(d.a)(Object(d.a)({},Rt),{},{batch:Object(d.a)(Object(d.a)({},Rt.batch),{},{compute_resources:Object(d.a)(Object(d.a)({},null===(n=Rt.batch)||void 0===n?void 0:n.compute_resources),{},{instance_types:t.target.value})})}))}})]})]},"2")]})}),Object(o.jsx)("div",{children:z(It.type)}),Object(o.jsx)("div",{children:"".concat((null===(Kt=It.properties)||void 0===Kt?void 0:Kt.lambda.name)||"")})]});default:return Object(o.jsxs)(mt,{color:Lt.color,background:Lt.background,onDoubleClick:function(){Jt(!0)},children:[Object(o.jsx)(ut.a,{title:(null===(St=It.properties)||void 0===St?void 0:St.name)||It.type,visible:Bt,onOk:function(){It.properties=Rt,Jt(!1)},onCancel:function(){return Jt(!1)},okButtonProps:{disabled:!1},cancelButtonProps:{disabled:!1}}),Object(o.jsx)("div",{children:z(It.type)}),Object(o.jsx)("div",{children:"".concat((null===(Ut=It.properties)||void 0===Ut?void 0:Ut.name)||"")})]})}},Mt=e(75),Dt=e.n(Mt),_t=function(t){var n=t.visible,e=t.onOk,r=t.onCancel,i=a.a.useState({}),c=Object(ct.a)(i,2),u=c[0],s=c[1];return Object(o.jsxs)(ut.a,{title:"S3 Storage Provider",visible:n,onCancel:r,onOk:function(){e(JSON.parse(JSON.stringify(u))),s({})},children:[Object(o.jsxs)(wt,{children:[Object(o.jsx)(kt,{children:"Name:"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"my-s3",value:u.name,onChange:function(t){s(Object(d.a)(Object(d.a)({},u),{},{name:t.target.value}))}})]}),Object(o.jsxs)(wt,{children:[Object(o.jsx)(kt,{children:"Access Key:"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"xxxxxxxxxxxxxxxx",value:u.access_key,onChange:function(t){s(Object(d.a)(Object(d.a)({},u),{},{access_key:t.target.value}))}})]}),Object(o.jsxs)(wt,{children:[Object(o.jsx)(kt,{children:"Secret Key:"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"xxxxxxxxxxxxxxxx",value:u.secret_key,onChange:function(t){s(Object(d.a)(Object(d.a)({},u),{},{secret_key:t.target.value}))}})]}),Object(o.jsxs)(wt,{children:[Object(o.jsx)(kt,{children:"Region:"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"us-east-1",value:u.region,onChange:function(t){s(Object(d.a)(Object(d.a)({},u),{},{region:t.target.value}))}})]})]})};function Kt(){var t=Object(x.a)(["\n  margin-right: 1rem;\n"]);return Kt=function(){return t},t}var St=Z.a.Header,Ut=$.a.SubMenu,It=Object(m.default)(K.a)(Kt()),Vt=function(t){Object(g.a)(e,t);var n=Object(v.a)(e);function e(t){var o;return Object(j.a)(this,e),(o=n.call(this,t)).state=Object(h.cloneDeep)(X),o.removeStorageProvider=o.removeStorageProvider.bind(Object(O.a)(o)),o}return Object(f.a)(e,[{key:"exportToYaml",value:function(){var t=Object.values(this.state.nodes),n=Object.values(this.state.links),e=t.filter((function(t){return"s3"===t.type||"onedata"===t.type||"minio"===t.type})),o=t.filter((function(t){return"oscar-fx"===t.type})).map((function(t){var o=n.filter((function(n){return n.to.nodeId===t.id&&("port1"===n.to.portId||"port4"===n.to.portId)||n.from.nodeId===t.id&&("port1"===n.from.portId||"port4"===n.from.portId)})),r=n.filter((function(n){return n.to.nodeId===t.id&&("port2"===n.to.portId||"port3"===n.to.portId)||n.from.nodeId===t.id&&("port2"===n.from.portId||"port3"===n.from.portId)})),a=e.find((function(t){return o.some((function(n){return n.from.nodeId===t.id||n.to.nodeId===t.id}))})),i=e.find((function(t){return r.some((function(n){return n.from.nodeId===t.id||n.to.nodeId===t.id}))})),c=JSON.parse(JSON.stringify(t.properties)),u=c.input;u&&(u.storage_provider="".concat(null===a||void 0===a?void 0:a.type,".").concat(null===a||void 0===a?void 0:a.properties.name),u.prefix&&(u.prefix=u.prefix.replace(" ","").split(",")),(null===u||void 0===u?void 0:u.suffix)&&(u.suffix=u.suffix.replace(" ","").split(",")),c.input=[u]);var s=c.output;s&&(s.storage_provider="".concat(null===i||void 0===i?void 0:i.type,".").concat(null===i||void 0===i?void 0:i.properties.name),s.prefix&&(s.prefix=s.prefix.replace(" ","").split(",")),s.suffix&&(s.suffix=s.suffix.replace(" ","").split(",")),c.output=[s]);var p=c.environment;return p&&(c.environment={Variables:p.Variables.replace(" ","").split(",").map((function(t){var n=t.split("=");return Object(b.a)({},n[0].trim(),n[1].trim())})).reduce((function(t,n){return Object(d.a)(Object(d.a)({},t),n)}))}),c})),r=t.filter((function(t){return"aws-fx"===t.type})).map((function(t){var o,r,a,i,c,u,s,p=JSON.parse(JSON.stringify(t.properties)),l=n.filter((function(n){return n.to.nodeId===t.id&&("port1"===n.to.portId||"port4"===n.to.portId)||n.from.nodeId===t.id&&("port1"===n.from.portId||"port4"===n.from.portId)})),j=n.filter((function(n){return n.to.nodeId===t.id&&("port2"===n.to.portId||"port3"===n.to.portId)||n.from.nodeId===t.id&&("port2"===n.from.portId||"port3"===n.from.portId)})),f=e.find((function(t){return l.some((function(n){return n.from.nodeId===t.id||n.to.nodeId===t.id}))})),O=e.find((function(t){return j.some((function(n){return n.from.nodeId===t.id||n.to.nodeId===t.id}))})),g=null===(o=p.lambda)||void 0===o?void 0:o.input;g&&(g.storage_provider="".concat(null===f||void 0===f?void 0:f.type,".").concat(null===f||void 0===f?void 0:f.properties.name),(null===g||void 0===g?void 0:g.prefix)&&(g.prefix=g.prefix.replace(" ","").split(",")),(null===g||void 0===g?void 0:g.suffix)&&(g.suffix=g.suffix.replace(" ","").split(",")),p.lambda.input=g);var v=null===(r=p.lambda)||void 0===r?void 0:r.output;v&&(v.storage_provider="".concat(null===O||void 0===O?void 0:O.type,".").concat(null===O||void 0===O?void 0:O.properties.name),(null===v||void 0===v?void 0:v.prefix)&&(v.prefix=v.prefix.replace(" ","").split(",")),v.suffix&&(v.suffix=v.suffix.replace(" ","").split(",")),p.lambda.output=v);var x=null===(a=p.batch)||void 0===a?void 0:a.compute_resources;(null===x||void 0===x?void 0:x.instance_types)&&(x.instance_types=x.instance_types.replace(" ","").split(",")),(null===x||void 0===x?void 0:x.subnets)&&(x.subnets=x.subnets.replace(" ","").split(",")),(null===x||void 0===x?void 0:x.security_group_ids)&&(x.security_group_ids=x.security_group_ids.replace(" ","").split(","));var h=null===(i=p.lambda)||void 0===i?void 0:i.environment;h&&(p.lambda.environment={Variables:h.Variables.replace(" ","").split(",").map((function(t){var n=t.split("=");return Object(b.a)({},n[0].trim(),n[1].trim())})).reduce((function(t,n){return Object(d.a)(Object(d.a)({},t),n)}))}),(null===(c=p.batch)||void 0===c?void 0:c.environment)&&(p.batch.environment={Variables:h.Variables.replace(" ","").split(",").map((function(t){var n=t.split("=");return Object(b.a)({},n[0].trim(),n[1].trim())})).reduce((function(t,n){return Object(d.a)(Object(d.a)({},t),n)}))});var m=null===(u=p.lambda)||void 0===u||null===(s=u.container)||void 0===s?void 0:s.environment;return m&&(p.lambda.container.environment={Variables:m.Variables.replace(" ","").split(",").map((function(t){var n=t.split("=");return Object(b.a)({},n[0].trim(),n[1].trim())})).reduce((function(t,n){return Object(d.a)(Object(d.a)({},t),n)}))}),p})),a=t.filter((function(t){return"onedata"===t.type})).map((function(t){return t.properties})).reduce((function(t,n){var e=JSON.parse(JSON.stringify(n));return Object(d.a)(Object(d.a)({},t),{},Object(b.a)({},n.name,e))}),{}),i=t.filter((function(t){return"s3"===t.type})).map((function(t){return t.properties})).reduce((function(t,n){var e=JSON.parse(JSON.stringify(n));return delete e.name,Object(d.a)(Object(d.a)({},t),{},Object(b.a)({},n.name,e))}),{}),c=t.filter((function(t){return"minio"===t.type})).map((function(t){return t.properties})).reduce((function(t,n){var e=JSON.parse(JSON.stringify(n));return delete e.name,Object(d.a)(Object(d.a)({},t),{},Object(b.a)({},n.name,e))}),{}),u=it.a.dump({functions:{oscar:o.map((function(t){return JSON.parse('{ "'.concat(t.name,'": ').concat(JSON.stringify(t)," }"))})),aws:r},storage_providers:{s3:i,onedata:a,minio:c}}),s=new Blob([u],{type:"text/plain;charset=utf-8"});Object(rt.saveAs)(s,"workflow.yaml")}},{key:"exportState",value:function(){var t=JSON.stringify(this.state),n=new Blob([t],{type:"text/plain;charset=utf-8"});Object(rt.saveAs)(n,"state.json")}},{key:"importState",value:function(){var t=this,n=document.createElement("input");n.type="file",n.onchange=function(e){var o=new FileReader;o.onload=function(){var n=Object(l.a)(p.a.mark((function n(e){var o;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:(null===e||void 0===e||null===(o=e.target)||void 0===o?void 0:o.result)&&t.setState(JSON.parse(e.target.result));case 1:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),o.readAsText(n.files[0])},n.click()}},{key:"removeStorageProvider",value:function(t,n){console.log("removing ".concat(t," ").concat(n)),console.log(this.state.storageProviders);var e=this.state.storageProviders.findIndex((function(e){return e.type===t&&e.properties.name===n})),o=Object(u.a)(this.state.storageProviders);o.splice(e,1),this.setState(Object(d.a)(Object(d.a)({},this.state),{},{storageProviders:o}))}},{key:"addStorageProvider",value:function(t,n){var e=[].concat(Object(u.a)(this.state.storageProviders),[{type:t,ports:{port1:{id:"port1",type:"top",properties:{path:""}},port2:{id:"port2",type:"right",properties:{path:""}},port3:{id:"port3",type:"bottom",properties:{path:""}},port4:{id:"port4",type:"left",properties:{path:""}}},properties:n}]);this.setState(Object(d.a)(Object(d.a)({},this.state),{},{storageProviders:e,s3ModalVisible:!1,oneDataModalVisible:!1,minioModalVisible:!1}))}},{key:"render",value:function(){var t=this,n=this.state,e=Object(h.mapValues)(Object(d.a)(Object(d.a)({},N.actions),{},{onNodeDoubleClick:function(){return Object(d.a)(Object(d.a)({},t.state),{},{selected:{}})}}),(function(n){return function(){t.setState(n.apply(void 0,arguments))}}));return Object(o.jsx)("div",{className:"App",children:Object(o.jsxs)(Z.a,{className:"layout",children:[Object(o.jsx)(_t,{visible:this.state.s3ModalVisible,onCancel:function(){return t.setState(Object(d.a)(Object(d.a)({},t.state),{},{s3ModalVisible:!1}))},onOk:function(n){t.addStorageProvider("s3",n)}}),Object(o.jsx)(Dt.a,{title:"One-data Storage Provider",visible:this.state.oneDataModalVisible,onCancel:function(){return t.setState(Object(d.a)(Object(d.a)({},t.state),{},{oneDataModalVisible:!1}))}}),Object(o.jsx)(Dt.a,{title:"Minio Storage Provider",visible:this.state.minioModalVisible,onCancel:function(){return t.setState(Object(d.a)(Object(d.a)({},t.state),{},{minioModalVisible:!1}))}}),Object(o.jsx)(St,{children:Object(o.jsxs)($.a,{theme:"dark",mode:"horizontal",children:[Object(o.jsx)(It,{ghost:!0,icon:Object(o.jsx)(tt.a,{}),onClick:function(){return t.exportState()},children:"Download state"}),Object(o.jsx)(It,{ghost:!0,icon:Object(o.jsx)(nt.a,{}),onClick:function(){return t.importState()},children:"Load state"}),Object(o.jsx)(It,{ghost:!0,icon:Object(o.jsx)(et.a,{}),onClick:function(){t.exportToYaml()},children:"Export yaml"}),Object(o.jsxs)(Ut,{icon:Object(o.jsx)(ot.a,{}),title:"Storage providers",children:[Object(o.jsx)($.a.Item,{onClick:function(){t.setState(Object(d.a)(Object(d.a)({},t.state),{},{s3ModalVisible:!0}))},children:"S3"},"storage:s3"),Object(o.jsx)($.a.Item,{onClick:function(){t.setState(Object(d.a)(Object(d.a)({},t.state),{},{minioModalVisible:!0}))},children:"Minio"},"storage:minio"),Object(o.jsx)($.a.Item,{onClick:function(){t.setState(Object(d.a)(Object(d.a)({},t.state),{},{oneDataModalVisible:!0}))},children:"One data"},"storage:onedata")]},"SubMenu")]})}),Object(o.jsxs)(D,{children:[Object(o.jsx)(N.FlowChart,{chart:n,callbacks:e,Components:{NodeInner:Ct,Port:q}}),Object(o.jsx)(I,{removeStorageProvider:this.removeStorageProvider,storageProviders:this.state.storageProviders})]})]})})}}]),e}(a.a.Component),Nt=function(t){t&&t instanceof Function&&e.e(3).then(e.bind(null,346)).then((function(n){var e=n.getCLS,o=n.getFID,r=n.getFCP,a=n.getLCP,i=n.getTTFB;e(t),o(t),r(t),a(t),i(t)}))};c.a.render(Object(o.jsx)(Vt,{}),document.getElementById("root")),Nt()}},[[331,1,2]]]);
//# sourceMappingURL=main.489e5f50.chunk.js.map