(this["webpackJsonpworkflow-builder"]=this["webpackJsonpworkflow-builder"]||[]).push([[0],{151:function(t,n,o){},153:function(t,n,o){},272:function(t,n,o){"use strict";o.r(n);var e=o(2),r=o(0),a=o.n(r),i=o(11),c=o.n(i),u=(o(151),o(62)),p=o.n(u),l=o(79),s=o(6),b=o(1),d=o(13),j=o(14),f=o(15),O=o(16),g=o(9),v=(o(153),o(64)),x=o(8);function h(){var t=Object(g.a)(["\n  margin: 10px;\n  padding: 10px;\n  line-height: 1.4em;\n  white-space: pre-wrap;\n  font-family: Consolas, 'Andale Mono WT', 'Andale Mono', 'Lucida Console', 'Lucida Sans Typewriter', 'DejaVu Sans Mono',\n    'Bitstream Vera Sans Mono', 'Liberation Mono', 'Nimbus Mono L', Monaco, 'Courier New', Courier, monospace;\n\n  background-color: #eff0f1;\n  overflow: auto;\n"]);return h=function(){return t},t}x.default.pre(h());function m(){var t=Object(g.a)(["\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  overflow: hidden;\n"]);return m=function(){return t},t}x.default.div(m());function P(){var t=Object(g.a)(["\n  margin: 10px 10px 0px;\n  padding: 10px;\n  line-height: 1.4em;\n"]);return P=function(){return t},t}var y=x.default.div(P());function w(){var t=Object(g.a)(["\n  display: flex;\n  flex-direction: row;\n  flex: 1;\n  max-width: 100vw;\n  max-height: 93vh;\n"]);return w=function(){return t},t}function k(){var t=Object(g.a)(["\n  body {\n    margin: 0px;\n    max-width: 100vw;\n    max-height: 100vh;\n    overflow: hidden;\n    box-sizing: border-box;\n    font-family: sans-serif;\n  }\n\n  *, :after, :before {\n    box-sizing: inherit;\n  }\n"]);return k=function(){return t},t}Object(x.createGlobalStyle)(k());var C=x.default.div(w());function D(){var t=Object(g.a)(["\n  width: 200px;\n  background: white;\n  display: flex;\n  flex-direction: column;\n  flex-shrink: 0;\n"]);return D=function(){return t},t}var M=x.default.div(D()),K=function(){return Object(e.jsxs)(M,{children:[Object(e.jsx)(y,{children:"Drag and drop these items onto the canvas."}),Object(e.jsx)(F,{type:"s3-storage",ports:{port1:{id:"port1",type:"top",properties:{path:""}},port2:{id:"port2",type:"right",properties:{path:""}},port3:{id:"port3",type:"bottom",properties:{path:""}},port4:{id:"port4",type:"left",properties:{path:""}}}})," ",Object(e.jsx)(F,{type:"minio-storage",ports:{port1:{id:"port1",type:"top",properties:{path:""}},port2:{id:"port2",type:"right",properties:{path:""}},port3:{id:"port3",type:"bottom",properties:{path:""}},port4:{id:"port4",type:"left",properties:{path:""}}}}),Object(e.jsx)(F,{type:"one-data-storage",ports:{port1:{id:"port1",type:"top",properties:{path:""}},port2:{id:"port2",type:"right",properties:{path:""}},port3:{id:"port3",type:"bottom",properties:{path:""}},port4:{id:"port4",type:"left",properties:{path:""}}}}),Object(e.jsx)(F,{type:"oscar-fx",ports:{port1:{id:"port1",type:"top",properties:{path:""}},port2:{id:"port2",type:"right",properties:{path:""}},port3:{id:"port3",type:"bottom",properties:{path:""}},port4:{id:"port4",type:"left",properties:{path:""}}}}),Object(e.jsx)(F,{type:"aws-fx",ports:{port1:{id:"port1",type:"top",properties:{path:""}},port2:{id:"port2",type:"right",properties:{path:""}},port3:{id:"port3",type:"bottom",properties:{path:""}},port4:{id:"port4",type:"left",properties:{path:""}}}})]})},U=o(30);function S(){var t=Object(g.a)(["\n      background: ",";\n    "]);return S=function(){return t},t}function _(){var t=Object(g.a)(["\n      color: ",";\n    "]);return _=function(){return t},t}function N(){var t=Object(g.a)(["\n  margin-bottom: 1rem;\n  border: 0.5px solid grey;\n  padding: 20px 30px;\n  border-radius: 50%;\n  font-size: 14px;\n  cursor: move;\n  ","\n  ",";\n"]);return N=function(){return t},t}function B(){var t=Object(g.a)(["\n      background: ",";\n    "]);return B=function(){return t},t}function E(){var t=Object(g.a)(["\n      color: ",";\n    "]);return E=function(){return t},t}function T(){var t=Object(g.a)(["\n  margin-bottom: 1rem;\n  border: 0.5px solid grey;\n  padding: 20px 30px;\n  font-size: 14px;\n  background: white;\n  cursor: move;\n  ","\n  ",";\n"]);return T=function(){return t},t}var V=x.default.div(T(),(function(t){return t.color&&Object(x.css)(E(),t.color)}),(function(t){return t.background&&Object(x.css)(B(),t.background)})),A=x.default.div(N(),(function(t){return t.color&&Object(x.css)(_(),t.color)}),(function(t){return t.background&&Object(x.css)(S(),t.background)})),R=function(t){switch(t){case"oscar-fx":return{background:"#005e14",color:"white"};case"aws-fx":return{background:"#a32a06",color:"white"};case"s3-storage":return{background:"#aa5237",color:"white"};case"one-data-storage":return{background:"#02005e",color:"white"};case"minio-storage":return{background:"#5e4d00",color:"white"};default:return{background:"#FFF",color:"black"}}},F=function(t){var n=t.type,o=t.ports,r=t.properties,a=R(n);return n.includes("storage")?Object(e.jsx)(A,{background:a.background,color:a.color,draggable:!0,onDragStart:function(t){t.dataTransfer.setData(U.REACT_FLOW_CHART,JSON.stringify({type:n,ports:o,properties:r}))},children:n}):Object(e.jsx)(V,{background:a.background,color:a.color,draggable:!0,onDragStart:function(t){t.dataTransfer.setData(U.REACT_FLOW_CHART,JSON.stringify({type:n,ports:o,properties:r}))},children:n})},J=o(279),I=o(280),L=o(281),z=function(t){switch(t.port.type){case"right":case"left":return Object(e.jsx)(J.a,{style:{fontSize:"1rem"}});case"top":case"bottom":return Object(e.jsx)(I.a,{style:{fontSize:"1rem"}});default:return Object(e.jsx)(L.a,{style:{fontSize:"1rem"}})}},Y={offset:{x:0,y:0},scale:1,nodes:{},links:{},selected:{},hovered:{},modalVisible:!1},G=o(274),H=o(72),W=o(277),q=o(282),Q=o(283),X=o(284),Z=o(97),$=o(131),tt=o.n($),nt=o(19),ot=o(5),et=o(276),rt=o(278),at=o(273),it=o(275);function ct(){var t=Object(g.a)(["\n  width: 20%;\n  align-content: center;\n"]);return ct=function(){return t},t}function ut(){var t=Object(g.a)(["\n  display: flex;\n  flex-direction: row;\n"]);return ut=function(){return t},t}function pt(){var t=Object(g.a)(["\n  padding: 10px;\n  border: 1px solid cornflowerblue;\n  margin-bottom: 0.5rem;\n  width: 80%;\n"]);return pt=function(){return t},t}function lt(){var t=Object(g.a)(["\n      background: ",";\n    "]);return lt=function(){return t},t}function st(){var t=Object(g.a)(["\n      color: ",";\n    "]);return st=function(){return t},t}function bt(){var t=Object(g.a)(["\n  padding: 30px;\n  border-radius: 50%;\n  ","\n  ",";\n"]);return bt=function(){return t},t}function dt(){var t=Object(g.a)(["\n      background: ",";\n    "]);return dt=function(){return t},t}function jt(){var t=Object(g.a)(["\n      color: ",";\n    "]);return jt=function(){return t},t}function ft(){var t=Object(g.a)(["\n  padding: 30px;\n  ","\n  ",";\n"]);return ft=function(){return t},t}var Ot=x.default.div(ft(),(function(t){return t.color&&Object(x.css)(jt(),t.color)}),(function(t){return t.background&&Object(x.css)(dt(),t.background)})),gt=x.default.div(bt(),(function(t){return t.color&&Object(x.css)(st(),t.color)}),(function(t){return t.background&&Object(x.css)(lt(),t.background)})),vt=x.default.input(pt()),xt=x.default.div(ut()),ht=x.default.div(ct()),mt=function(t){var n,o,r,i,c,u,p,l,s,d,j,f,O,g,v,x,h,m,P,y,w,k,C,D,M,K,U,S,_,N,B,E,T,V,A,F,J,I,L,z,Y,G,H,W,q,Q,X,Z,$,tt,ct,ut,pt,lt,st,bt,dt,jt,ft=t.node,mt=(t.config,Object(nt.a)(t,["node","config"])),Pt=a.a.useState(!1),yt=Object(ot.a)(Pt,2),wt=yt[0],kt=yt[1],Ct=a.a.useState(ft.properties||{}),Dt=Object(ot.a)(Ct,2),Mt=Dt[0],Kt=Dt[1],Ut=R(ft.type);switch(ft.type){case"s3-storage":return Object(e.jsxs)(gt,Object(b.a)(Object(b.a)({},mt),{},{color:Ut.color,background:Ut.background,onDoubleClick:function(t){return kt(!0)},children:[Object(e.jsxs)(et.a,{title:(null===(n=ft.properties)||void 0===n?void 0:n.name)||ft.type,visible:wt,onOk:function(){ft.properties=Mt,kt(!1)},onCancel:function(){return kt(!1)},okButtonProps:{disabled:!1},cancelButtonProps:{disabled:!1},children:[Object(e.jsxs)(xt,{children:[Object(e.jsx)(ht,{children:"Name:"}),Object(e.jsx)(vt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"my-s3",value:Mt.name,onChange:function(t){Kt(Object(b.a)(Object(b.a)({},Mt),{},{name:t.target.value}))}})]}),Object(e.jsxs)(xt,{children:[Object(e.jsx)(ht,{children:"Access Key:"}),Object(e.jsx)(vt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"xxxxxxxxxxxxxxxx",value:Mt.access_key,onChange:function(t){Kt(Object(b.a)(Object(b.a)({},Mt),{},{access_key:t.target.value}))}})]}),Object(e.jsxs)(xt,{children:[Object(e.jsx)(ht,{children:"Secret Key:"}),Object(e.jsx)(vt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"xxxxxxxxxxxxxxxx",value:Mt.secret_key,onChange:function(t){Kt(Object(b.a)(Object(b.a)({},Mt),{},{secret_key:t.target.value}))}})]}),Object(e.jsxs)(xt,{children:[Object(e.jsx)(ht,{children:"Region:"}),Object(e.jsx)(vt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"us-east-1",value:Mt.region,onChange:function(t){Kt(Object(b.a)(Object(b.a)({},Mt),{},{region:t.target.value}))}})]})]}),Object(e.jsx)("p",{children:"".concat(ft.type," ").concat((null===(o=ft.properties)||void 0===o?void 0:o.name)||"")})]}));case"minio-storage":return Object(e.jsxs)(gt,{color:Ut.color,background:Ut.background,onDoubleClick:function(t){return kt(!0)},children:[Object(e.jsxs)(et.a,{title:(null===(r=ft.properties)||void 0===r?void 0:r.name)||ft.type,visible:wt,onOk:function(){ft.properties=Mt,kt(!1)},onCancel:function(){return kt(!1)},okButtonProps:{disabled:!1},cancelButtonProps:{disabled:!1},children:[Object(e.jsxs)(xt,{children:[Object(e.jsx)(ht,{children:"Name:"}),Object(e.jsx)(vt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"my_minio",value:Mt.name,onChange:function(t){Kt(Object(b.a)(Object(b.a)({},Mt),{},{name:t.target.value}))}})]}),Object(e.jsxs)(xt,{children:[Object(e.jsx)(ht,{children:"Endpoint:"}),Object(e.jsx)(vt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"minio-endpoint",value:Mt.endpoint,onChange:function(t){Kt(Object(b.a)(Object(b.a)({},Mt),{},{endpoint:t.target.value}))}})]}),Object(e.jsxs)(xt,{children:[Object(e.jsx)(ht,{children:"Verify:"}),Object(e.jsx)(rt.a,{onClick:function(t){return t.stopPropagation()},value:Mt.verify,onChange:function(t){Kt(Object(b.a)(Object(b.a)({},Mt),{},{verify:t.target.checked}))}})]}),Object(e.jsxs)(xt,{children:[Object(e.jsx)(ht,{children:"Region:"}),Object(e.jsx)(vt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"us-east-1",value:Mt.region,onChange:function(t){Kt(Object(b.a)(Object(b.a)({},Mt),{},{region:t.target.value}))}})]}),Object(e.jsxs)(xt,{children:[Object(e.jsx)(ht,{children:"Access Key:"}),Object(e.jsx)(vt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"xxxxxxxxxxxxxxxx",value:Mt.access_key,onChange:function(t){Kt(Object(b.a)(Object(b.a)({},Mt),{},{access_key:t.target.value}))}})]}),Object(e.jsxs)(xt,{children:[Object(e.jsx)(ht,{children:"Secret Key:"}),Object(e.jsx)(vt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"xxxxxxxxxxxxxxxx",value:Mt.secret_key,onChange:function(t){Kt(Object(b.a)(Object(b.a)({},Mt),{},{secret_key:t.target.value}))}})]})]}),Object(e.jsx)("p",{children:"".concat(ft.type," ").concat((null===(i=ft.properties)||void 0===i?void 0:i.name)||"")})]});case"one-data-storage":return Object(e.jsxs)(gt,{color:Ut.color,background:Ut.background,onDoubleClick:function(){return kt(!0)},children:[Object(e.jsxs)(et.a,{title:(null===(c=ft.properties)||void 0===c?void 0:c.name)||ft.type,visible:wt,onOk:function(){ft.properties=Mt,kt(!1)},onCancel:function(){return kt(!1)},okButtonProps:{disabled:!1},cancelButtonProps:{disabled:!1},children:[Object(e.jsxs)(xt,{children:[Object(e.jsx)(ht,{children:"Name:"}),Object(e.jsx)(vt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"my-onedata",value:Mt.name,onChange:function(t){Kt(Object(b.a)(Object(b.a)({},Mt),{},{name:t.target.value}))}})]}),Object(e.jsxs)(xt,{children:[Object(e.jsx)(ht,{children:"One Provider Host:"}),Object(e.jsx)(vt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"plg-cyfronet-01.datahub.egi.eu",value:Mt.oneprovider_host,onChange:function(t){Kt(Object(b.a)(Object(b.a)({},Mt),{},{oneprovider_host:t.target.value}))}})]}),Object(e.jsxs)(xt,{children:[Object(e.jsx)(ht,{children:"Token:"}),Object(e.jsx)(vt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"xxxxxxxxxxxxxxxx",value:Mt.token,onChange:function(t){Kt(Object(b.a)(Object(b.a)({},Mt),{},{token:t.target.value}))}})]}),Object(e.jsxs)(xt,{children:[Object(e.jsx)(ht,{children:"Space:"}),Object(e.jsx)(vt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"my-space",value:Mt.space,onChange:function(t){Kt(Object(b.a)(Object(b.a)({},Mt),{},{space:t.target.value}))}})]})]}),Object(e.jsx)("p",{children:"".concat(ft.type," ").concat((null===(u=ft.properties)||void 0===u?void 0:u.name)||"")})]});case"oscar-fx":return Object(e.jsxs)(Ot,{color:Ut.color,background:Ut.background,onDoubleClick:function(){return kt(!0)},children:[Object(e.jsxs)(et.a,{title:(null===(p=ft.properties)||void 0===p?void 0:p.name)||ft.type,visible:wt,onOk:function(){ft.properties=Mt,kt(!1)},onCancel:function(){return kt(!1)},okButtonProps:{disabled:!1},cancelButtonProps:{disabled:!1},children:[Object(e.jsx)(at.a,{children:"Setup"}),Object(e.jsxs)(xt,{children:[Object(e.jsx)(ht,{children:"Name:"}),Object(e.jsx)(vt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"darknet",value:Mt.name,onChange:function(t){Kt(Object(b.a)(Object(b.a)({},Mt),{},{name:t.target.value}))}})]}),Object(e.jsxs)(xt,{children:[Object(e.jsx)(ht,{children:"Memory:"}),Object(e.jsx)(vt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"1Gi",value:Mt.memory,onChange:function(t){Kt(Object(b.a)(Object(b.a)({},Mt),{},{memory:t.target.value}))}})]}),Object(e.jsxs)(xt,{children:[Object(e.jsx)(ht,{children:"Cpu:"}),Object(e.jsx)(vt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"1.0",value:Mt.cpu,onChange:function(t){Kt(Object(b.a)(Object(b.a)({},Mt),{},{cpu:t.target.value}))}})]}),Object(e.jsxs)(xt,{children:[Object(e.jsx)(ht,{children:"Image:"}),Object(e.jsx)(vt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"grycap/darknet",value:Mt.image,onChange:function(t){Kt(Object(b.a)(Object(b.a)({},Mt),{},{image:t.target.value}))}})]}),Object(e.jsxs)(xt,{children:[Object(e.jsx)(ht,{children:"Script:"}),Object(e.jsx)(vt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"yolo.sh",value:Mt.script,onChange:function(t){Kt(Object(b.a)(Object(b.a)({},Mt),{},{script:t.target.value}))}})]}),Object(e.jsxs)(xt,{children:[Object(e.jsx)(ht,{children:"Environment variables"}),Object(e.jsx)(vt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"KEY1=val1, KEY2=val2...",value:null===(l=Mt.environment)||void 0===l?void 0:l.Variables,onChange:function(t){var n=t.target.value;Kt(Object(b.a)(Object(b.a)({},Mt),{},{environment:Object(b.a)(Object(b.a)({},Mt.environment),{},{Variables:t.target.value})})),!n&&delete Mt.environment}})]}),Object(e.jsx)(at.a,{children:"Input"}),Object(e.jsxs)(xt,{children:[Object(e.jsx)(ht,{children:"Storage provider:"}),Object(e.jsx)(vt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"storage provider name",value:null===(s=Mt.input)||void 0===s?void 0:s.storage_provider,onChange:function(t){Kt(Object(b.a)(Object(b.a)({},Mt),{},{input:Object(b.a)(Object(b.a)({},Mt.input),{},{storage_provider:t.target.value})}))}})]}),Object(e.jsxs)(xt,{children:[Object(e.jsx)(ht,{children:"Path:"}),Object(e.jsx)(vt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"darknet-workflow/input",value:null===(d=Mt.input)||void 0===d?void 0:d.path,onChange:function(t){Kt(Object(b.a)(Object(b.a)({},Mt),{},{input:Object(b.a)(Object(b.a)({},Mt.input),{},{path:t.target.value})}))}})]}),Object(e.jsxs)(xt,{children:[Object(e.jsx)(ht,{children:"Suffix"}),Object(e.jsx)(vt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"png, jpg, xls",value:null===(j=Mt.input)||void 0===j?void 0:j.suffix,onChange:function(t){t.target.value?Kt(Object(b.a)(Object(b.a)({},Mt),{},{input:Object(b.a)(Object(b.a)({},Mt.input),{},{suffix:t.target.value})})):delete Mt.suffix}})]}),Object(e.jsxs)(xt,{children:[Object(e.jsx)(ht,{children:"Prefix"}),Object(e.jsx)(vt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"result-, demo-",value:null===(f=Mt.input)||void 0===f?void 0:f.prefix,onChange:function(t){t.target.value?Kt(Object(b.a)(Object(b.a)({},Mt),{},{input:Object(b.a)(Object(b.a)({},Mt.input),{},{prefix:t.target.value})})):delete Mt.prefix}})]}),Object(e.jsx)(at.a,{children:"Output"}),Object(e.jsxs)(xt,{children:[Object(e.jsx)(ht,{children:"Storage provider:"}),Object(e.jsx)(vt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"storage provider name",value:null===(O=Mt.output)||void 0===O?void 0:O.storage_provider,onChange:function(t){Kt(Object(b.a)(Object(b.a)({},Mt),{},{output:Object(b.a)(Object(b.a)({},Mt.output),{},{storage_provider:t.target.value})}))}})]}),Object(e.jsxs)(xt,{children:[Object(e.jsx)(ht,{children:"Path:"}),Object(e.jsx)(vt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"darknet-workflow/output",value:null===(g=Mt.output)||void 0===g?void 0:g.path,onChange:function(t){Kt(Object(b.a)(Object(b.a)({},Mt),{},{output:Object(b.a)(Object(b.a)({},Mt.output),{},{path:t.target.value})}))}})]}),Object(e.jsxs)(xt,{children:[Object(e.jsx)(ht,{children:"Suffix"}),Object(e.jsx)(vt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"png, jpg, xls",value:null===(v=Mt.output)||void 0===v?void 0:v.suffix,onChange:function(t){t.target.value?Kt(Object(b.a)(Object(b.a)({},Mt),{},{output:Object(b.a)(Object(b.a)({},Mt.output),{},{suffix:t.target.value})})):delete Mt.suffix}})]}),Object(e.jsxs)(xt,{children:[Object(e.jsx)(ht,{children:"Prefix"}),Object(e.jsx)(vt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"result-, demo-",value:null===(x=Mt.output)||void 0===x?void 0:x.prefix,onChange:function(t){t.target.value?Kt(Object(b.a)(Object(b.a)({},Mt),{},{output:Object(b.a)(Object(b.a)({},Mt.output),{},{prefix:t.target.value})})):delete Mt.prefix}})]})]}),Object(e.jsx)("p",{children:"".concat(ft.type," ").concat((null===(h=ft.properties)||void 0===h?void 0:h.name)||"")})]});case"aws-fx":return Object(e.jsxs)(Ot,{color:Ut.color,background:Ut.background,onDoubleClick:function(){return kt(!0)},children:[Object(e.jsx)(et.a,{title:(null===(m=ft.properties)||void 0===m?void 0:m.name)||ft.type,visible:wt,onOk:function(){ft.properties=Mt,kt(!1)},onCancel:function(){return kt(!1)},okButtonProps:{disabled:!1},cancelButtonProps:{disabled:!1},children:Object(e.jsxs)(it.a,{defaultActiveKey:"1",children:[Object(e.jsxs)(it.a.TabPane,{tab:"Lambda",children:[Object(e.jsx)(at.a,{children:"Setup"}),Object(e.jsxs)(xt,{children:[Object(e.jsx)(ht,{children:"Name:"}),Object(e.jsx)(vt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"darknet",value:null===(P=Mt.lambda)||void 0===P?void 0:P.name,onChange:function(t){Kt(Object(b.a)(Object(b.a)({},Mt),{},{lambda:Object(b.a)(Object(b.a)({},Mt.lambda),{},{name:t.target.value})}))}})]}),Object(e.jsxs)(xt,{children:[Object(e.jsx)(ht,{children:"Region:"}),Object(e.jsx)(vt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"us-east-1",value:null===(y=Mt.lambda)||void 0===y?void 0:y.region,onChange:function(t){Kt(Object(b.a)(Object(b.a)({},Mt),{},{lambda:Object(b.a)(Object(b.a)({},Mt.lambda),{},{region:t.target.value})}))}})]}),Object(e.jsxs)(xt,{children:[Object(e.jsx)(ht,{children:"Boto profile:"}),Object(e.jsx)(vt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"default",value:null===(w=Mt.lambda)||void 0===w?void 0:w.boto_profile,onChange:function(t){Kt(Object(b.a)(Object(b.a)({},Mt),{},{lambda:Object(b.a)(Object(b.a)({},Mt.lambda),{},{boto_profile:t.target.value})}))}})]}),Object(e.jsxs)(xt,{children:[Object(e.jsx)(ht,{children:"Memory:"}),Object(e.jsx)(vt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"1024",value:null===(k=Mt.lambda)||void 0===k?void 0:k.memory,onChange:function(t){Kt(Object(b.a)(Object(b.a)({},Mt),{},{lambda:Object(b.a)(Object(b.a)({},Mt.lambda),{},{memory:t.target.value})}))}})]}),Object(e.jsxs)(xt,{children:[Object(e.jsx)(ht,{children:"Cpu:"}),Object(e.jsx)(vt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"1.0",value:null===(C=Mt.lambda)||void 0===C?void 0:C.cpu,onChange:function(t){Kt(Object(b.a)(Object(b.a)({},Mt),{},{lambda:Object(b.a)(Object(b.a)({},Mt.lambda),{},{cpu:t.target.value})}))}})]}),Object(e.jsxs)(xt,{children:[Object(e.jsx)(ht,{children:"Init script:"}),Object(e.jsx)(vt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"yolo.sh",value:null===(D=Mt.lambda)||void 0===D?void 0:D.init_script,onChange:function(t){Kt(Object(b.a)(Object(b.a)({},Mt),{},{lambda:Object(b.a)(Object(b.a)({},Mt.lambda),{},{init_script:t.target.value})}))}})]}),Object(e.jsxs)(xt,{children:[Object(e.jsx)(ht,{children:"Timeout:"}),Object(e.jsx)(vt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"300",value:null===(M=Mt.lambda)||void 0===M?void 0:M.timeout,onChange:function(t){Kt(Object(b.a)(Object(b.a)({},Mt),{},{lambda:Object(b.a)(Object(b.a)({},Mt.lambda),{},{timeout:t.target.value})}))}})]}),Object(e.jsxs)(xt,{children:[Object(e.jsx)(ht,{children:"Log level:"}),Object(e.jsx)(vt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"INFO | DEBUG | ERROR | WARNING",value:null===(K=Mt.lambda)||void 0===K?void 0:K.log_level,onChange:function(t){Kt(Object(b.a)(Object(b.a)({},Mt),{},{lambda:Object(b.a)(Object(b.a)({},Mt.lambda),{},{log_level:t.target.value})}))}})]}),Object(e.jsxs)(xt,{children:[Object(e.jsx)(ht,{children:"Execution mode:"}),Object(e.jsx)(vt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"lambda | lambda-batch | batch",value:null===(U=Mt.lambda)||void 0===U?void 0:U.execution_mode,onChange:function(t){Kt(Object(b.a)(Object(b.a)({},Mt),{},{lambda:Object(b.a)(Object(b.a)({},Mt.lambda),{},{execution_mode:t.target.value})}))}})]}),Object(e.jsxs)(xt,{children:[Object(e.jsx)(ht,{children:"Environment variables"}),Object(e.jsx)(vt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"KEY1=val1, KEY2=val2...",value:null===(S=Mt.lambda)||void 0===S||null===(_=S.environment)||void 0===_?void 0:_.Variables,onChange:function(t){var n,o=t.target.value;Kt(Object(b.a)(Object(b.a)({},Mt),{},{lambda:Object(b.a)(Object(b.a)({},Mt.lambda),{},{environment:Object(b.a)(Object(b.a)({},null===(n=Mt.lambda)||void 0===n?void 0:n.environment),{},{Variables:t.target.value})})})),o&&delete Mt.lambda.environment}})]}),Object(e.jsx)(at.a,{children:"Container"}),Object(e.jsxs)(xt,{children:[Object(e.jsx)(ht,{children:"Image:"}),Object(e.jsx)(vt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"grycap/darknet",value:null===(N=Mt.lambda)||void 0===N||null===(B=N.container)||void 0===B?void 0:B.image,onChange:function(t){var n;Kt(Object(b.a)(Object(b.a)({},Mt),{},{lambda:Object(b.a)(Object(b.a)({},Mt.lambda),{},{container:Object(b.a)(Object(b.a)({},null===(n=Mt.lambda)||void 0===n?void 0:n.container),{},{image:t.target.value})})}))}})]}),Object(e.jsxs)(xt,{children:[Object(e.jsx)(ht,{children:"Timeout threshold"}),Object(e.jsx)(vt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"grycap/darknet",value:null===(E=Mt.lambda)||void 0===E||null===(T=E.container)||void 0===T?void 0:T.timeout_threshold,onChange:function(t){var n;Kt(Object(b.a)(Object(b.a)({},Mt),{},{lambda:Object(b.a)(Object(b.a)({},Mt.lambda),{},{container:Object(b.a)(Object(b.a)({},null===(n=Mt.lambda)||void 0===n?void 0:n.container),{},{timeout_threshold:t.target.value})})}))}})]}),Object(e.jsxs)(xt,{children:[Object(e.jsx)(ht,{children:"Environment variables"}),Object(e.jsx)(vt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"KEY1=val1, KEY2=val2...",value:null===(V=Mt.lambda)||void 0===V||null===(A=V.container)||void 0===A||null===(F=A.environment)||void 0===F?void 0:F.Variables,onChange:function(t){var n,o,e=t.target.value;Kt(Object(b.a)(Object(b.a)({},Mt),{},{lambda:Object(b.a)(Object(b.a)({},Mt.lambda),{},{container:Object(b.a)(Object(b.a)({},null===(n=Mt.lambda)||void 0===n?void 0:n.container),{},{environment:Object(b.a)(Object(b.a)({},null===(o=Mt.lambda)||void 0===o?void 0:o.container.environment),{},{Variables:t.target.value})})})})),!e&&delete Mt.lambda.container.environment}})]}),Object(e.jsx)(at.a,{children:"Input"}),Object(e.jsxs)(xt,{children:[Object(e.jsx)(ht,{children:"Storage provider:"}),Object(e.jsx)(vt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"storage provider name",value:null===(J=Mt.lambda)||void 0===J||null===(I=J.input)||void 0===I?void 0:I.storage_provider,onChange:function(t){var n;Kt(Object(b.a)(Object(b.a)({},Mt),{},{lambda:Object(b.a)(Object(b.a)({},Mt.lambda),{},{input:Object(b.a)(Object(b.a)({},null===(n=Mt.lambda)||void 0===n?void 0:n.input),{},{storage_provider:t.target.value})})}))}})]}),Object(e.jsxs)(xt,{children:[Object(e.jsx)(ht,{children:"Path:"}),Object(e.jsx)(vt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"darknet-workflow/input",value:null===(L=Mt.lambda)||void 0===L||null===(z=L.input)||void 0===z?void 0:z.path,onChange:function(t){var n;Kt(Object(b.a)(Object(b.a)({},Mt),{},{lambda:Object(b.a)(Object(b.a)({},Mt.lambda),{},{input:Object(b.a)(Object(b.a)({},null===(n=Mt.lambda)||void 0===n?void 0:n.input),{},{path:t.target.value})})}))}})]}),Object(e.jsxs)(xt,{children:[Object(e.jsx)(ht,{children:"Suffix"}),Object(e.jsx)(vt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"png, jpg, xls",value:null===(Y=Mt.lambda)||void 0===Y||null===(G=Y.input)||void 0===G?void 0:G.suffix,onChange:function(t){var n;t.target.value?Kt(Object(b.a)(Object(b.a)({},Mt),{},{lambda:Object(b.a)(Object(b.a)({},Mt.lambda),{},{input:Object(b.a)(Object(b.a)({},null===(n=Mt.lambda)||void 0===n?void 0:n.input),{},{suffix:t.target.value})})})):delete Mt.lambda.input.suffix}})]}),Object(e.jsxs)(xt,{children:[Object(e.jsx)(ht,{children:"Prefix"}),Object(e.jsx)(vt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"result-, demo-",value:null===(H=Mt.lambda)||void 0===H||null===(W=H.input)||void 0===W?void 0:W.prefix,onChange:function(t){var n;t.target.value?Kt(Object(b.a)(Object(b.a)({},Mt),{},{lambda:Object(b.a)(Object(b.a)({},Mt.lambda),{},{input:Object(b.a)(Object(b.a)({},null===(n=Mt.lambda)||void 0===n?void 0:n.input),{},{prefix:t.target.value})})})):delete Mt.lambda.input.prefix}})]}),Object(e.jsx)(at.a,{children:"Output"}),Object(e.jsxs)(xt,{children:[Object(e.jsx)(ht,{children:"Storage provider:"}),Object(e.jsx)(vt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"storage provider name",value:null===(q=Mt.lambda)||void 0===q||null===(Q=q.output)||void 0===Q?void 0:Q.storage_provider,onChange:function(t){var n;Kt(Object(b.a)(Object(b.a)({},Mt),{},{lambda:Object(b.a)(Object(b.a)({},Mt.lambda),{},{output:Object(b.a)(Object(b.a)({},null===(n=Mt.lambda)||void 0===n?void 0:n.input),{},{storage_provider:t.target.value})})}))}})]}),Object(e.jsxs)(xt,{children:[Object(e.jsx)(ht,{children:"Path:"}),Object(e.jsx)(vt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"darknet-workflow/output",value:null===(X=Mt.lambda)||void 0===X||null===(Z=X.output)||void 0===Z?void 0:Z.path,onChange:function(t){var n;Kt(Object(b.a)(Object(b.a)({},Mt),{},{lambda:Object(b.a)(Object(b.a)({},Mt.lambda),{},{output:Object(b.a)(Object(b.a)({},null===(n=Mt.lambda)||void 0===n?void 0:n.input),{},{path:t.target.value})})}))}})]}),Object(e.jsxs)(xt,{children:[Object(e.jsx)(ht,{children:"Suffix"}),Object(e.jsx)(vt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"png, jpg, xls",value:null===($=Mt.lambda)||void 0===$||null===(tt=$.output)||void 0===tt?void 0:tt.suffix,onChange:function(t){var n;t.target.value?Kt(Object(b.a)(Object(b.a)({},Mt),{},{lambda:Object(b.a)(Object(b.a)({},Mt.lambda),{},{output:Object(b.a)(Object(b.a)({},null===(n=Mt.lambda)||void 0===n?void 0:n.input),{},{suffix:t.target.value})})})):delete Mt.lambda.output.suffix}})]}),Object(e.jsxs)(xt,{children:[Object(e.jsx)(ht,{children:"Prefix"}),Object(e.jsx)(vt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"result-, demo-",value:null===(ct=Mt.lambda)||void 0===ct||null===(ut=ct.output)||void 0===ut?void 0:ut.prefix,onChange:function(t){var n;t.target.value?Kt(Object(b.a)(Object(b.a)({},Mt),{},{lambda:Object(b.a)(Object(b.a)({},Mt.lambda),{},{output:Object(b.a)(Object(b.a)({},null===(n=Mt.lambda)||void 0===n?void 0:n.input),{},{prefix:t.target.value})})})):delete Mt.prefix}})]})]},"1"),Object(e.jsxs)(it.a.TabPane,{tab:"Batch",children:[Object(e.jsx)(at.a,{children:"Setup"}),Object(e.jsxs)(xt,{children:[Object(e.jsx)(ht,{children:"Region:"}),Object(e.jsx)(vt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"us-east-1",value:null===(pt=Mt.batch)||void 0===pt?void 0:pt.region,onChange:function(t){Kt(Object(b.a)(Object(b.a)({},Mt),{},{batch:Object(b.a)(Object(b.a)({},Mt.batch),{},{region:t.target.value})}))}})]}),Object(e.jsxs)(xt,{children:[Object(e.jsx)(ht,{children:"Boto profile:"}),Object(e.jsx)(vt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"default",value:null===(lt=Mt.batch)||void 0===lt?void 0:lt.boto_profile,onChange:function(t){Kt(Object(b.a)(Object(b.a)({},Mt),{},{batch:Object(b.a)(Object(b.a)({},Mt.batch),{},{boto_profile:t.target.value})}))}})]}),Object(e.jsxs)(xt,{children:[Object(e.jsx)(ht,{children:"Memory:"}),Object(e.jsx)(vt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"1024",value:null===(st=Mt.batch)||void 0===st?void 0:st.memory,onChange:function(t){Kt(Object(b.a)(Object(b.a)({},Mt),{},{batch:Object(b.a)(Object(b.a)({},Mt.batch),{},{memory:t.target.value})}))}})]}),Object(e.jsxs)(xt,{children:[Object(e.jsx)(ht,{children:"vCpu:"}),Object(e.jsx)(vt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"1.0",value:Mt.vcpus,onChange:function(t){Kt(Object(b.a)(Object(b.a)({},Mt),{},{batch:Object(b.a)(Object(b.a)({},Mt.batch),{},{cpu:t.target.value})}))}})]}),Object(e.jsxs)(xt,{children:[Object(e.jsx)(ht,{children:"Enable gpu:"}),Object(e.jsx)(rt.a,{onClick:function(t){return t.stopPropagation()},value:Mt.enable_gpu,onChange:function(t){Kt(Object(b.a)(Object(b.a)({},Mt),{},{batch:Object(b.a)(Object(b.a)({},Mt.batch),{},{enable_gpu:t.target.checked})}))}})]}),Object(e.jsx)(at.a,{children:"Compute resources"})]},"2")]})}),Object(e.jsx)("p",{children:"".concat(ft.type," ").concat((null===(bt=ft.properties)||void 0===bt?void 0:bt.name)||"")})]});default:return Object(e.jsxs)(Ot,{color:Ut.color,background:Ut.background,onDoubleClick:function(){kt(!0)},children:[Object(e.jsx)(et.a,{title:(null===(dt=ft.properties)||void 0===dt?void 0:dt.name)||ft.type,visible:wt,onOk:function(){ft.properties=Mt,kt(!1)},onCancel:function(){return kt(!1)},okButtonProps:{disabled:!1},cancelButtonProps:{disabled:!1}}),Object(e.jsx)("p",{children:"".concat(ft.type," ").concat((null===(jt=ft.properties)||void 0===jt?void 0:jt.name)||"")})]})}};function Pt(){var t=Object(g.a)(["\n  margin-right: 1rem;\n"]);return Pt=function(){return t},t}var yt=G.a.Header,wt=Object(x.default)(H.a)(Pt()),kt=function(t){Object(f.a)(o,t);var n=Object(O.a)(o);function o(){var t;Object(d.a)(this,o);for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return(t=n.call.apply(n,[this].concat(r))).state=Object(v.cloneDeep)(Y),t}return Object(j.a)(o,[{key:"extractIO",value:function(t){var n,o,e=(null===(n=t.properties.lambda)||void 0===n?void 0:n.input)?t.properties.lambda.input:{};e.prefix&&(e.prefix=e.prefix.split(",")),e.suffix&&(e.suffix=e.suffix.split(","));var r=(null===(o=t.properties.lambda)||void 0===o?void 0:o.output)?t.properties.lambda.output:{};return r.prefix&&(r.prefix=r.prefix.split(",")),r.suffix&&(r.suffix=r.suffix.split(",")),Object(b.a)(Object(b.a)({},t.properties),{},{lambda:Object(b.a)(Object(b.a)({},t.properties.lambda),{},{input:[e],output:[r]})})}},{key:"exportToYaml",value:function(){var t=Object.values(this.state.nodes),n=(Object.values(this.state.links),t.filter((function(t){return"oscar-fx"===t.type})).map((function(t){var n=JSON.parse(JSON.stringify(t.properties)),o=n.input;o&&((null===o||void 0===o?void 0:o.prefix)&&(o.prefix=o.prefix.replace(" ","").split(",")),(null===o||void 0===o?void 0:o.suffix)&&(o.suffix=o.suffix.replace(" ","").split(",")),n.input=[o]);var e=n.output;e&&(e.prefix&&(e.prefix=e.prefix.replace(" ","").split(",")),e.suffix&&(e.suffix=e.suffix.replace(" ","").split(",")),n.output=[e]);var r=n.environment;return r&&(n.environment={Variables:r.Variables.replace(" ","").split(",").map((function(t){var n=t.split("=");return Object(s.a)({},n[0].trim(),n[1].trim())})).reduce((function(t,n){return Object(b.a)(Object(b.a)({},t),n)}))}),n}))),o=t.filter((function(t){return"aws-fx"===t.type})).map((function(t){var n,o,e,r,a,i=JSON.parse(JSON.stringify(t.properties)),c=null===(n=i.lambda)||void 0===n?void 0:n.input;c&&((null===c||void 0===c?void 0:c.prefix)&&(c.prefix=c.prefix.replace(" ","").split(",")),(null===c||void 0===c?void 0:c.suffix)&&(c.suffix=c.suffix.replace(" ","").split(",")),i.lambda.input=c);var u=null===(o=i.lambda)||void 0===o?void 0:o.output;u&&((null===u||void 0===u?void 0:u.prefix)&&(u.prefix=u.prefix.replace(" ","").split(",")),u.suffix&&(u.suffix=u.suffix.replace(" ","").split(",")),i.lambda.output=u);var p=null===(e=i.lambda)||void 0===e?void 0:e.environment;p&&(i.lambda.environment={Variables:p.Variables.replace(" ","").split(",").map((function(t){var n=t.split("=");return Object(s.a)({},n[0].trim(),n[1].trim())})).reduce((function(t,n){return Object(b.a)(Object(b.a)({},t),n)}))});var l=null===(r=i.lambda)||void 0===r||null===(a=r.container)||void 0===a?void 0:a.environment;return l&&(i.lambda.container.environment={Variables:l.Variables.replace(" ","").split(",").map((function(t){var n=t.split("=");return Object(s.a)({},n[0].trim(),n[1].trim())})).reduce((function(t,n){return Object(b.a)(Object(b.a)({},t),n)}))}),i})),e=t.filter((function(t){return"one-data-storage"===t.type})).map((function(t){return t.properties})).reduce((function(t,n){var o=Object(v.cloneDeep)(n);return delete o.name,Object(b.a)(Object(b.a)({},t),{},Object(s.a)({},n.name,o))}),{}),r=t.filter((function(t){return"s3-storage"===t.type})).map((function(t){return t.properties})).reduce((function(t,n){var o=Object(v.cloneDeep)(n);return delete o.name,Object(b.a)(Object(b.a)({},t),{},Object(s.a)({},n.name,o))}),{}),a=tt.a.dump({functions:{oscar:n.map((function(t){return JSON.parse('{ "'.concat(t.name,'": ').concat(JSON.stringify(t)," }"))})),aws:o},storage_providers:{s3:r,onedata:e}}),i=new Blob([a],{type:"text/plain;charset=utf-8"});Object(Z.saveAs)(i,"workflow.yaml")}},{key:"exportState",value:function(){var t=JSON.stringify(this.state),n=new Blob([t],{type:"text/plain;charset=utf-8"});Object(Z.saveAs)(n,"state.json")}},{key:"importState",value:function(){var t=this,n=document.createElement("input");n.type="file",n.onchange=function(o){var e=new FileReader;e.onload=function(){var n=Object(l.a)(p.a.mark((function n(o){var e;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:(null===o||void 0===o||null===(e=o.target)||void 0===e?void 0:e.result)&&t.setState(JSON.parse(o.target.result));case 1:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),e.readAsText(n.files[0])},n.click()}},{key:"render",value:function(){var t=this,n=this.state,o=Object(v.mapValues)(Object(b.a)(Object(b.a)({},U.actions),{},{onNodeDoubleClick:function(){return Object(b.a)(Object(b.a)({},t.state),{},{selected:{}})}}),(function(n){return function(){t.setState(n.apply(void 0,arguments))}}));return Object(e.jsx)("div",{className:"App",children:Object(e.jsxs)(G.a,{className:"layout",children:[Object(e.jsx)(yt,{children:Object(e.jsxs)(W.a,{theme:"dark",mode:"horizontal",children:[Object(e.jsx)(wt,{ghost:!0,icon:Object(e.jsx)(q.a,{}),onClick:function(){return t.exportState()},children:"Download state"}),Object(e.jsx)(wt,{ghost:!0,icon:Object(e.jsx)(Q.a,{}),onClick:function(){return t.importState()},children:"Load state"}),Object(e.jsx)(wt,{ghost:!0,icon:Object(e.jsx)(X.a,{}),onClick:function(){t.exportToYaml()},children:"Export yaml"})]})}),Object(e.jsxs)(C,{children:[Object(e.jsx)(U.FlowChart,{chart:n,callbacks:o,Components:{NodeInner:mt,Port:z}}),Object(e.jsx)(K,{})]})]})})}}]),o}(a.a.Component),Ct=function(t){t&&t instanceof Function&&o.e(3).then(o.bind(null,285)).then((function(n){var o=n.getCLS,e=n.getFID,r=n.getFCP,a=n.getLCP,i=n.getTTFB;o(t),e(t),r(t),a(t),i(t)}))};c.a.render(Object(e.jsx)(kt,{}),document.getElementById("root")),Ct()}},[[272,1,2]]]);
//# sourceMappingURL=main.71e85b08.chunk.js.map