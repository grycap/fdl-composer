(this["webpackJsonpworkflow-builder"]=this["webpackJsonpworkflow-builder"]||[]).push([[0],{182:function(e,t,n){},183:function(e,t,n){},332:function(e,t,n){"use strict";n.r(t);var o,a,r,i,c,s,u,l,p,d,b,j,f,O,v,g,h,m,x,P,y,k,w=n(0),C=n.n(w),D=n(25),M=n.n(D),S=(n(182),n(118)),_=n(71),I=n.n(_),V=n(98),K=n(2),U=n(44),N=n(161),E=n(162),F=n(80),T=n(176),A=n(172),B=n(19),J=(n(183),n(99)),R=n(15),q=(R.default.pre(o||(o=Object(B.a)(["\n  margin: 10px;\n  padding: 10px;\n  line-height: 1.4em;\n  white-space: pre-wrap;\n  font-family: Consolas, 'Andale Mono WT', 'Andale Mono', 'Lucida Console', 'Lucida Sans Typewriter', 'DejaVu Sans Mono',\n    'Bitstream Vera Sans Mono', 'Liberation Mono', 'Nimbus Mono L', Monaco, 'Courier New', Courier, monospace;\n\n  background-color: #eff0f1;\n  overflow: auto;\n"]))),R.default.div(a||(a=Object(B.a)(["\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  overflow: hidden;\n"]))),R.default.div(r||(r=Object(B.a)(["\n  margin: 10px 10px 0px;\n  padding: 10px;\n  line-height: 1.4em;\n"])))),L=n(1),Y=(Object(R.createGlobalStyle)(i||(i=Object(B.a)(["\n  body {\n    margin: 0px;\n    max-width: 100vw;\n    max-height: 100vh;\n    overflow: hidden;\n    box-sizing: border-box;\n    font-family: sans-serif;\n  }\n\n  *, :after, :before {\n    box-sizing: inherit;\n  }\n"]))),R.default.div(c||(c=Object(B.a)(["\n  display: flex;\n  flex-direction: row;\n  flex: 1;\n  max-width: 100vw;\n  max-height: 93vh;\n"])))),z=n(344),H=n(53),G=R.default.div(s||(s=Object(B.a)(["\n  width: 200px;\n  background: white;\n  display: flex;\n  flex-direction: column;\n  flex-shrink: 0;\n  overflow: auto;\n"]))),W=function(e){var t=e.storageProviders,n=e.removeStorageProvider,o=e.editStorageProvider;return Object(L.jsxs)(G,{children:[Object(L.jsx)(q,{children:"Drag and drop these items onto the canvas."}),null===t||void 0===t?void 0:t.filter((function(e){var t;return null===(t=e.properties)||void 0===t?void 0:t.name})).map((function(e,t){return Object(L.jsx)(z.a,{placement:"top",title:"Delete provider ".concat(e.properties.name),content:Object(L.jsx)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center"},children:Object(L.jsxs)("div",{style:{display:"flex",flexDirection:"column",rowGap:"1rem"},children:[Object(L.jsx)(H.a,{onClick:function(){return o(e.type,e.properties.name)},children:"Edit"}),Object(L.jsx)(H.a,{danger:!0,onClick:function(){return n(e.type,e.properties.name)},children:"Delete"})]})}),children:Object(L.jsx)(ne,Object(K.a)(Object(K.a)({},e),{},{onDoubleClick:function(e){e.stopPropagation()}}))},"Popover_".concat(t))})),Object(L.jsx)(ne,{type:"oscar-fx",ports:{port1:{id:"port1",type:"top",properties:{path:""}},port2:{id:"port2",type:"right",properties:{path:""}},port3:{id:"port3",type:"bottom",properties:{path:""}},port4:{id:"port4",type:"left",properties:{path:""}}}}),Object(L.jsx)(ne,{type:"aws-fx",ports:{port1:{id:"port1",type:"top",properties:{path:""}},port2:{id:"port2",type:"right",properties:{path:""}},port3:{id:"port3",type:"bottom",properties:{path:""}},port4:{id:"port4",type:"left",properties:{path:""}}}})]})},Q=n(112),X=n(35),Z=R.default.div(u||(u=Object(B.a)(["\n  margin-bottom: 1rem;\n  border: 0.5px solid grey;\n  padding: 20px 30px;\n  font-size: 14px;\n  background: black;\n  cursor: move;\n  ","\n  ",";\n"])),(function(e){return e.color&&Object(R.css)(l||(l=Object(B.a)(["\n      color: ",";\n    "])),e.color)}),(function(e){return e.background&&Object(R.css)(p||(p=Object(B.a)(["\n      background: ",";\n    "])),e.background)})),$=R.default.div(d||(d=Object(B.a)(["\n  margin-bottom: 1rem;\n  border: 0.5px solid grey;\n  padding: 30px;\n  min-height: 100px;\n  border-radius: 50%;\n  font-size: 14px;\n  cursor: move;\n  ","\n  ",";\n"])),(function(e){return e.color&&Object(R.css)(b||(b=Object(B.a)(["\n      color: ",";\n    "])),e.color)}),(function(e){return e.background&&Object(R.css)(j||(j=Object(B.a)(["\n      background: ",";\n    "])),e.background)})),ee=function(e){switch(e){case"oscar-fx":return{background:"#fff",color:"black"};case"aws-fx":return{background:"#080301",color:"white"};case"s3":return{background:"#ebe4c0",color:"black"};case"onedata":return{background:"#c2d4ad",color:"black"};case"minio":return{background:"#c47878",color:"black"};default:return{background:"#FFF",color:"black"}}},te=function(e){switch(e){case"oscar-fx":return Object(L.jsx)("img",{alt:"oscar logo",src:"https://github.com/grycap/oscar/blob/master/docs/images/oscar3.png?raw=true",width:"96px"});case"aws-fx":return Object(L.jsx)("img",{alt:"aws logo",src:"https://d1.awsstatic.com/Digital%20Marketing/House/PAC/2up/PAC-Q4_House-Ads_Lambda_2up.62dc7e19b7b2e0a2c06821594c31f1ce00a6bdda.png",height:"32px"});case"s3":return Object(L.jsx)("img",{alt:"s3 logo",src:"https://servmask.com/img/products/s3.png",height:"48px"});case"onedata":return Object(L.jsx)("img",{alt:"aws logo",src:"https://www.ebi.ac.uk/about/technology/wp-content/uploads/2019/10/onedata-logo.png",height:"24px"});case"minio":return Object(L.jsx)("img",{alt:"aws logo",src:"https://suarapapua.com/wp-content/plugins/ilab-media-tools-premium/public/img/wizard-icon-minio.png",height:"36px"})}},ne=function(e){var t=e.type,n=e.ports,o=e.properties,a=Object(Q.a)(e,["type","ports","properties"]),r=ee(t);return["s3","onedata","minio"].includes(t)?Object(L.jsxs)($,Object(K.a)(Object(K.a)({background:r.background,color:r.color,draggable:!0,onDragStart:function(e){e.dataTransfer.setData(X.REACT_FLOW_CHART,JSON.stringify({type:t,ports:n,properties:o}))}},a),{},{children:[te(t),null===o||void 0===o?void 0:o.name]})):Object(L.jsx)(Z,{background:r.background,color:r.color,draggable:!0,onDragStart:function(e){e.dataTransfer.setData(X.REACT_FLOW_CHART,JSON.stringify({type:t,ports:n,properties:o}))},children:te(t)})},oe=n(345),ae=n(346),re=n(347),ie=function(e){switch(e.port.type){case"right":case"left":return Object(L.jsx)(oe.a,{style:{fontSize:"1rem"}});case"top":case"bottom":return Object(L.jsx)(ae.a,{style:{fontSize:"1rem"}});default:return Object(L.jsx)(re.a,{style:{fontSize:"1rem"}})}},ce={offset:{x:0,y:0},scale:1,nodes:{},links:{},selected:{},hovered:{},modalVisible:!1,storageProviders:[],s3ModalVisible:!1,oneDataModalVisible:!1,minioModalVisible:!1,s3DefaultValue:void 0,oneDataDefaultValue:void 0,minioDefaultValue:void 0},se=n(337),ue=n(343),le=n(349),pe=n(348),de=n(350),be=n(351),je=n(131),fe=n(167),Oe=n.n(fe),ve=n(42),ge=n(341),he=n(334),me=n(338),xe=n(342),Pe=R.default.div(f||(f=Object(B.a)(["\n  padding: 30px;\n  ","\n  ",";\n"])),(function(e){return e.color&&Object(R.css)(O||(O=Object(B.a)(["\n      color: ",";\n    "])),e.color)}),(function(e){return e.background&&Object(R.css)(v||(v=Object(B.a)(["\n      background: ",";\n    "])),e.background)})),ye=R.default.div(g||(g=Object(B.a)(["\n  padding: 30px;\n  border-radius: 50%;\n  ","\n  ",";\n"])),(function(e){return e.color&&Object(R.css)(h||(h=Object(B.a)(["\n      color: ",";\n    "])),e.color)}),(function(e){return e.background&&Object(R.css)(m||(m=Object(B.a)(["\n      background: ",";\n    "])),e.background)})),ke=R.default.input(x||(x=Object(B.a)(["\n  padding: 10px;\n  border: 1px solid cornflowerblue;\n  margin-bottom: 0.5rem;\n  width: 80%;\n"]))),we=R.default.div(P||(P=Object(B.a)(["\n  display: flex;\n  flex-direction: row;\n"]))),Ce=R.default.div(y||(y=Object(B.a)(["\n  width: 20%;\n  align-content: center;\n"]))),De=function(e){var t,n,o,a,r,i,c,s,u,l,p,d,b,j,f,O,v,g,h,m,x,P,y,k,w,D,M,S,_,U,N,E,F,T,A,B,J,R,q,Y,z,G,W,X,Z,$,ne,oe,ae,re,ie,ce,se,ue,le,de,be,je,fe,Oe,De=e.node,Me=(e.config,Object(Q.a)(e,["node","config"])),Se=C.a.useState(!1),_e=Object(ve.a)(Se,2),Ie=_e[0],Ve=_e[1],Ke=C.a.useState(De.properties||{}),Ue=Object(ve.a)(Ke,2),Ne=Ue[0],Ee=Ue[1],Fe=ee(De.type);switch(De.type){case"s3":case"onedata":case"minio":return Object(L.jsxs)(ye,Object(K.a)(Object(K.a)({},Me),{},{color:Fe.color,background:Fe.background,onDoubleClick:function(e){return Ve(!0)},children:[Object(L.jsx)(ge.a,{title:(null===(t=De.properties)||void 0===t?void 0:t.name)||De.type,visible:Ie,onOk:function(){De.properties=Ne,Ve(!1)},onCancel:function(){return Ve(!1)},okButtonProps:{disabled:!1},cancelButtonProps:{disabled:!1},children:Object(L.jsxs)(we,{children:[Object(L.jsx)(Ce,{children:"Path:"}),Object(L.jsx)(ke,{onClick:function(e){return e.stopPropagation()},onMouseUp:function(e){return e.stopPropagation()},onMouseDown:function(e){return e.stopPropagation()},onKeyDown:function(e){return e.stopPropagation()},placeholder:"darknet-workflow/output",value:Ne.path,onChange:function(e){Ee(Object(K.a)(Object(K.a)({},Ne),{},{path:e.target.value}))}})]})}),Object(L.jsx)("div",{children:te(De.type)}),Object(L.jsx)("div",{children:"".concat((null===(n=De.properties)||void 0===n?void 0:n.name)||"")})]}));case"oscar-fx":return Object(L.jsxs)(Pe,{color:Fe.color,background:Fe.background,onDoubleClick:function(){return Ve(!0)},children:[Object(L.jsxs)(ge.a,{title:(null===(o=De.properties)||void 0===o?void 0:o.name)||De.type,visible:Ie,onOk:function(){De.properties=Ne,Ve(!1)},onCancel:function(){return Ve(!1)},okButtonProps:{disabled:!1},cancelButtonProps:{disabled:!1},children:[Object(L.jsx)(he.a,{children:"Setup"}),Object(L.jsxs)(we,{children:[Object(L.jsx)(Ce,{children:"Name:"}),Object(L.jsx)(ke,{onClick:function(e){return e.stopPropagation()},onMouseUp:function(e){return e.stopPropagation()},onMouseDown:function(e){return e.stopPropagation()},onKeyDown:function(e){return e.stopPropagation()},placeholder:"darknet",value:Ne.name,onChange:function(e){Ee(Object(K.a)(Object(K.a)({},Ne),{},{name:e.target.value}))}})]}),Object(L.jsxs)(we,{children:[Object(L.jsx)(Ce,{children:"Memory:"}),Object(L.jsx)(ke,{onClick:function(e){return e.stopPropagation()},onMouseUp:function(e){return e.stopPropagation()},onMouseDown:function(e){return e.stopPropagation()},onKeyDown:function(e){return e.stopPropagation()},placeholder:"1Gi",value:Ne.memory,onChange:function(e){Ee(Object(K.a)(Object(K.a)({},Ne),{},{memory:e.target.value}))}})]}),Object(L.jsxs)(we,{children:[Object(L.jsx)(Ce,{children:"Cpu:"}),Object(L.jsx)(ke,{onClick:function(e){return e.stopPropagation()},onMouseUp:function(e){return e.stopPropagation()},onMouseDown:function(e){return e.stopPropagation()},onKeyDown:function(e){return e.stopPropagation()},placeholder:"1.0",value:Ne.cpu,onChange:function(e){Ee(Object(K.a)(Object(K.a)({},Ne),{},{cpu:e.target.value}))}})]}),Object(L.jsxs)(we,{children:[Object(L.jsx)(Ce,{children:"Image:"}),Object(L.jsx)(ke,{onClick:function(e){return e.stopPropagation()},onMouseUp:function(e){return e.stopPropagation()},onMouseDown:function(e){return e.stopPropagation()},onKeyDown:function(e){return e.stopPropagation()},placeholder:"grycap/darknet",value:Ne.image,onChange:function(e){Ee(Object(K.a)(Object(K.a)({},Ne),{},{image:e.target.value}))}})]}),Object(L.jsxs)(we,{children:[Object(L.jsx)(Ce,{children:"Script:"}),Object(L.jsx)(ke,{onClick:function(e){return e.stopPropagation()},onMouseUp:function(e){return e.stopPropagation()},onMouseDown:function(e){return e.stopPropagation()},onKeyDown:function(e){return e.stopPropagation()},disabled:!0,value:Ne.script}),Object(L.jsx)(H.a,{icon:Object(L.jsx)(pe.a,{}),onClick:function(){return function(){var e=document.createElement("input");e.type="file",e.accept=".json",e.onchange=function(t){console.log(t.target.files[0].name);var n=t.target.files[0].name,o=new FileReader;o.onload=function(){var e=Object(V.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ee(Object(K.a)(Object(K.a)({},Ne),{},{script_value:t.target.result,script:n}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o.readAsText(e.files[0])},e.click()}()}})]}),Object(L.jsxs)(we,{children:[Object(L.jsx)(Ce,{children:"Environment variables"}),Object(L.jsx)(ke,{onClick:function(e){return e.stopPropagation()},onMouseUp:function(e){return e.stopPropagation()},onMouseDown:function(e){return e.stopPropagation()},onKeyDown:function(e){return e.stopPropagation()},placeholder:"KEY1=val1, KEY2=val2...",value:null===(a=Ne.environment)||void 0===a?void 0:a.Variables,onChange:function(e){var t=e.target.value;Ee(Object(K.a)(Object(K.a)({},Ne),{},{environment:Object(K.a)(Object(K.a)({},Ne.environment),{},{Variables:e.target.value})})),!t&&delete Ne.environment}})]}),Object(L.jsx)(he.a,{children:"Input"}),Object(L.jsxs)(we,{children:[Object(L.jsx)(Ce,{children:"Suffix"}),Object(L.jsx)(ke,{onClick:function(e){return e.stopPropagation()},onMouseUp:function(e){return e.stopPropagation()},onMouseDown:function(e){return e.stopPropagation()},onKeyDown:function(e){return e.stopPropagation()},placeholder:"png, jpg, xls",value:null===(r=Ne.input)||void 0===r?void 0:r.suffix,onChange:function(e){e.target.value?Ee(Object(K.a)(Object(K.a)({},Ne),{},{input:Object(K.a)(Object(K.a)({},Ne.input),{},{suffix:e.target.value})})):delete Ne.suffix}})]}),Object(L.jsxs)(we,{children:[Object(L.jsx)(Ce,{children:"Prefix"}),Object(L.jsx)(ke,{onClick:function(e){return e.stopPropagation()},onMouseUp:function(e){return e.stopPropagation()},onMouseDown:function(e){return e.stopPropagation()},onKeyDown:function(e){return e.stopPropagation()},placeholder:"result-, demo-",value:null===(i=Ne.input)||void 0===i?void 0:i.prefix,onChange:function(e){e.target.value?Ee(Object(K.a)(Object(K.a)({},Ne),{},{input:Object(K.a)(Object(K.a)({},Ne.input),{},{prefix:e.target.value})})):delete Ne.prefix}})]}),Object(L.jsx)(he.a,{children:"Output"}),Object(L.jsxs)(we,{children:[Object(L.jsx)(Ce,{children:"Suffix"}),Object(L.jsx)(ke,{onClick:function(e){return e.stopPropagation()},onMouseUp:function(e){return e.stopPropagation()},onMouseDown:function(e){return e.stopPropagation()},onKeyDown:function(e){return e.stopPropagation()},placeholder:"png, jpg, xls",value:null===(c=Ne.output)||void 0===c?void 0:c.suffix,onChange:function(e){e.target.value?Ee(Object(K.a)(Object(K.a)({},Ne),{},{output:Object(K.a)(Object(K.a)({},Ne.output),{},{suffix:e.target.value})})):delete Ne.suffix}})]}),Object(L.jsxs)(we,{children:[Object(L.jsx)(Ce,{children:"Prefix"}),Object(L.jsx)(ke,{onClick:function(e){return e.stopPropagation()},onMouseUp:function(e){return e.stopPropagation()},onMouseDown:function(e){return e.stopPropagation()},onKeyDown:function(e){return e.stopPropagation()},placeholder:"result-, demo-",value:null===(s=Ne.output)||void 0===s?void 0:s.prefix,onChange:function(e){e.target.value?Ee(Object(K.a)(Object(K.a)({},Ne),{},{output:Object(K.a)(Object(K.a)({},Ne.output),{},{prefix:e.target.value})})):delete Ne.prefix}})]})]}),Object(L.jsx)("div",{children:te(De.type)}),Object(L.jsx)("div",{children:"".concat((null===(u=De.properties)||void 0===u?void 0:u.name)||"")})]});case"aws-fx":return Object(L.jsxs)(Pe,{color:Fe.color,background:Fe.background,onDoubleClick:function(){return Ve(!0)},children:[Object(L.jsx)(ge.a,{title:(null===(l=De.properties)||void 0===l?void 0:l.name)||De.type,visible:Ie,onOk:function(){De.properties=Ne,Ve(!1)},onCancel:function(){return Ve(!1)},okButtonProps:{disabled:!1},cancelButtonProps:{disabled:!1},children:Object(L.jsxs)(me.a,{defaultActiveKey:"1",children:[Object(L.jsxs)(me.a.TabPane,{tab:"Lambda",children:[Object(L.jsx)(he.a,{children:"Setup"}),Object(L.jsxs)(we,{children:[Object(L.jsx)(Ce,{children:"Name:"}),Object(L.jsx)(ke,{onClick:function(e){return e.stopPropagation()},onMouseUp:function(e){return e.stopPropagation()},onMouseDown:function(e){return e.stopPropagation()},onKeyDown:function(e){return e.stopPropagation()},placeholder:"darknet",value:null===(p=Ne.lambda)||void 0===p?void 0:p.name,onChange:function(e){Ee(Object(K.a)(Object(K.a)({},Ne),{},{lambda:Object(K.a)(Object(K.a)({},Ne.lambda),{},{name:e.target.value})}))}})]}),Object(L.jsxs)(we,{children:[Object(L.jsx)(Ce,{children:"Region:"}),Object(L.jsx)(ke,{onClick:function(e){return e.stopPropagation()},onMouseUp:function(e){return e.stopPropagation()},onMouseDown:function(e){return e.stopPropagation()},onKeyDown:function(e){return e.stopPropagation()},placeholder:"us-east-1",value:null===(d=Ne.lambda)||void 0===d?void 0:d.region,onChange:function(e){Ee(Object(K.a)(Object(K.a)({},Ne),{},{lambda:Object(K.a)(Object(K.a)({},Ne.lambda),{},{region:e.target.value})}))}})]}),Object(L.jsxs)(we,{children:[Object(L.jsx)(Ce,{children:"Boto profile:"}),Object(L.jsx)(ke,{onClick:function(e){return e.stopPropagation()},onMouseUp:function(e){return e.stopPropagation()},onMouseDown:function(e){return e.stopPropagation()},onKeyDown:function(e){return e.stopPropagation()},placeholder:"default",value:null===(b=Ne.lambda)||void 0===b?void 0:b.boto_profile,onChange:function(e){Ee(Object(K.a)(Object(K.a)({},Ne),{},{lambda:Object(K.a)(Object(K.a)({},Ne.lambda),{},{boto_profile:e.target.value})}))}})]}),Object(L.jsxs)(we,{children:[Object(L.jsx)(Ce,{children:"Memory:"}),Object(L.jsx)(ke,{onClick:function(e){return e.stopPropagation()},onMouseUp:function(e){return e.stopPropagation()},onMouseDown:function(e){return e.stopPropagation()},onKeyDown:function(e){return e.stopPropagation()},placeholder:"1024",value:null===(j=Ne.lambda)||void 0===j?void 0:j.memory,onChange:function(e){Ee(Object(K.a)(Object(K.a)({},Ne),{},{lambda:Object(K.a)(Object(K.a)({},Ne.lambda),{},{memory:e.target.value})}))}})]}),Object(L.jsxs)(we,{children:[Object(L.jsx)(Ce,{children:"Cpu:"}),Object(L.jsx)(ke,{onClick:function(e){return e.stopPropagation()},onMouseUp:function(e){return e.stopPropagation()},onMouseDown:function(e){return e.stopPropagation()},onKeyDown:function(e){return e.stopPropagation()},placeholder:"1.0",value:null===(f=Ne.lambda)||void 0===f?void 0:f.cpu,onChange:function(e){Ee(Object(K.a)(Object(K.a)({},Ne),{},{lambda:Object(K.a)(Object(K.a)({},Ne.lambda),{},{cpu:e.target.value})}))}})]}),Object(L.jsxs)(we,{children:[Object(L.jsx)(Ce,{children:"Init script:"}),Object(L.jsx)(ke,{onClick:function(e){return e.stopPropagation()},onMouseUp:function(e){return e.stopPropagation()},onMouseDown:function(e){return e.stopPropagation()},onKeyDown:function(e){return e.stopPropagation()},placeholder:"yolo.sh",value:null===(O=Ne.lambda)||void 0===O?void 0:O.init_script,onChange:function(e){Ee(Object(K.a)(Object(K.a)({},Ne),{},{lambda:Object(K.a)(Object(K.a)({},Ne.lambda),{},{init_script:e.target.value})}))}})]}),Object(L.jsxs)(we,{children:[Object(L.jsx)(Ce,{children:"Timeout:"}),Object(L.jsx)(ke,{onClick:function(e){return e.stopPropagation()},onMouseUp:function(e){return e.stopPropagation()},onMouseDown:function(e){return e.stopPropagation()},onKeyDown:function(e){return e.stopPropagation()},placeholder:"300",value:null===(v=Ne.lambda)||void 0===v?void 0:v.timeout,onChange:function(e){Ee(Object(K.a)(Object(K.a)({},Ne),{},{lambda:Object(K.a)(Object(K.a)({},Ne.lambda),{},{timeout:e.target.value})}))}})]}),Object(L.jsxs)(we,{children:[Object(L.jsx)(Ce,{children:"Log level:"}),Object(L.jsx)(ke,{onClick:function(e){return e.stopPropagation()},onMouseUp:function(e){return e.stopPropagation()},onMouseDown:function(e){return e.stopPropagation()},onKeyDown:function(e){return e.stopPropagation()},placeholder:"INFO | DEBUG | ERROR | WARNING",value:null===(g=Ne.lambda)||void 0===g?void 0:g.log_level,onChange:function(e){Ee(Object(K.a)(Object(K.a)({},Ne),{},{lambda:Object(K.a)(Object(K.a)({},Ne.lambda),{},{log_level:e.target.value})}))}})]}),Object(L.jsxs)(we,{children:[Object(L.jsx)(Ce,{children:"Execution mode:"}),Object(L.jsx)(ke,{onClick:function(e){return e.stopPropagation()},onMouseUp:function(e){return e.stopPropagation()},onMouseDown:function(e){return e.stopPropagation()},onKeyDown:function(e){return e.stopPropagation()},placeholder:"lambda | lambda-batch | batch",value:null===(h=Ne.lambda)||void 0===h?void 0:h.execution_mode,onChange:function(e){Ee(Object(K.a)(Object(K.a)({},Ne),{},{lambda:Object(K.a)(Object(K.a)({},Ne.lambda),{},{execution_mode:e.target.value})}))}})]}),Object(L.jsxs)(we,{children:[Object(L.jsx)(Ce,{children:"Environment variables"}),Object(L.jsx)(ke,{onClick:function(e){return e.stopPropagation()},onMouseUp:function(e){return e.stopPropagation()},onMouseDown:function(e){return e.stopPropagation()},onKeyDown:function(e){return e.stopPropagation()},placeholder:"KEY1=val1, KEY2=val2...",value:null===(m=Ne.lambda)||void 0===m||null===(x=m.environment)||void 0===x?void 0:x.Variables,onChange:function(e){var t,n=e.target.value;Ee(Object(K.a)(Object(K.a)({},Ne),{},{lambda:Object(K.a)(Object(K.a)({},Ne.lambda),{},{environment:Object(K.a)(Object(K.a)({},null===(t=Ne.lambda)||void 0===t?void 0:t.environment),{},{Variables:e.target.value})})})),n&&delete Ne.lambda.environment}})]}),Object(L.jsx)(he.a,{children:"Container"}),Object(L.jsxs)(we,{children:[Object(L.jsx)(Ce,{children:"Image:"}),Object(L.jsx)(ke,{onClick:function(e){return e.stopPropagation()},onMouseUp:function(e){return e.stopPropagation()},onMouseDown:function(e){return e.stopPropagation()},onKeyDown:function(e){return e.stopPropagation()},placeholder:"grycap/darknet",value:null===(P=Ne.lambda)||void 0===P||null===(y=P.container)||void 0===y?void 0:y.image,onChange:function(e){var t;Ee(Object(K.a)(Object(K.a)({},Ne),{},{lambda:Object(K.a)(Object(K.a)({},Ne.lambda),{},{container:Object(K.a)(Object(K.a)({},null===(t=Ne.lambda)||void 0===t?void 0:t.container),{},{image:e.target.value})})}))}})]}),Object(L.jsxs)(we,{children:[Object(L.jsx)(Ce,{children:"Timeout threshold"}),Object(L.jsx)(ke,{onClick:function(e){return e.stopPropagation()},onMouseUp:function(e){return e.stopPropagation()},onMouseDown:function(e){return e.stopPropagation()},onKeyDown:function(e){return e.stopPropagation()},placeholder:"grycap/darknet",value:null===(k=Ne.lambda)||void 0===k||null===(w=k.container)||void 0===w?void 0:w.timeout_threshold,onChange:function(e){var t;Ee(Object(K.a)(Object(K.a)({},Ne),{},{lambda:Object(K.a)(Object(K.a)({},Ne.lambda),{},{container:Object(K.a)(Object(K.a)({},null===(t=Ne.lambda)||void 0===t?void 0:t.container),{},{timeout_threshold:e.target.value})})}))}})]}),Object(L.jsxs)(we,{children:[Object(L.jsx)(Ce,{children:"Environment variables"}),Object(L.jsx)(ke,{onClick:function(e){return e.stopPropagation()},onMouseUp:function(e){return e.stopPropagation()},onMouseDown:function(e){return e.stopPropagation()},onKeyDown:function(e){return e.stopPropagation()},placeholder:"KEY1=val1, KEY2=val2...",value:null===(D=Ne.lambda)||void 0===D||null===(M=D.container)||void 0===M||null===(S=M.environment)||void 0===S?void 0:S.Variables,onChange:function(e){var t,n,o=e.target.value;Ee(Object(K.a)(Object(K.a)({},Ne),{},{lambda:Object(K.a)(Object(K.a)({},Ne.lambda),{},{container:Object(K.a)(Object(K.a)({},null===(t=Ne.lambda)||void 0===t?void 0:t.container),{},{environment:Object(K.a)(Object(K.a)({},null===(n=Ne.lambda)||void 0===n?void 0:n.container.environment),{},{Variables:e.target.value})})})})),!o&&delete Ne.lambda.container.environment}})]}),Object(L.jsx)(he.a,{children:"Input"}),Object(L.jsxs)(we,{children:[Object(L.jsx)(Ce,{children:"Suffix"}),Object(L.jsx)(ke,{onClick:function(e){return e.stopPropagation()},onMouseUp:function(e){return e.stopPropagation()},onMouseDown:function(e){return e.stopPropagation()},onKeyDown:function(e){return e.stopPropagation()},placeholder:"png, jpg, xls",value:null===(_=Ne.lambda)||void 0===_||null===(U=_.input)||void 0===U?void 0:U.suffix,onChange:function(e){var t;e.target.value?Ee(Object(K.a)(Object(K.a)({},Ne),{},{lambda:Object(K.a)(Object(K.a)({},Ne.lambda),{},{input:Object(K.a)(Object(K.a)({},null===(t=Ne.lambda)||void 0===t?void 0:t.input),{},{suffix:e.target.value})})})):delete Ne.lambda.input.suffix}})]}),Object(L.jsxs)(we,{children:[Object(L.jsx)(Ce,{children:"Prefix"}),Object(L.jsx)(ke,{onClick:function(e){return e.stopPropagation()},onMouseUp:function(e){return e.stopPropagation()},onMouseDown:function(e){return e.stopPropagation()},onKeyDown:function(e){return e.stopPropagation()},placeholder:"result-, demo-",value:null===(N=Ne.lambda)||void 0===N||null===(E=N.input)||void 0===E?void 0:E.prefix,onChange:function(e){var t;e.target.value?Ee(Object(K.a)(Object(K.a)({},Ne),{},{lambda:Object(K.a)(Object(K.a)({},Ne.lambda),{},{input:Object(K.a)(Object(K.a)({},null===(t=Ne.lambda)||void 0===t?void 0:t.input),{},{prefix:e.target.value})})})):delete Ne.lambda.input.prefix}})]}),Object(L.jsx)(he.a,{children:"Output"}),Object(L.jsxs)(we,{children:[Object(L.jsx)(Ce,{children:"Suffix"}),Object(L.jsx)(ke,{onClick:function(e){return e.stopPropagation()},onMouseUp:function(e){return e.stopPropagation()},onMouseDown:function(e){return e.stopPropagation()},onKeyDown:function(e){return e.stopPropagation()},placeholder:"png, jpg, xls",value:null===(F=Ne.lambda)||void 0===F||null===(T=F.output)||void 0===T?void 0:T.suffix,onChange:function(e){var t;e.target.value?Ee(Object(K.a)(Object(K.a)({},Ne),{},{lambda:Object(K.a)(Object(K.a)({},Ne.lambda),{},{output:Object(K.a)(Object(K.a)({},null===(t=Ne.lambda)||void 0===t?void 0:t.input),{},{suffix:e.target.value})})})):delete Ne.lambda.output.suffix}})]}),Object(L.jsxs)(we,{children:[Object(L.jsx)(Ce,{children:"Prefix"}),Object(L.jsx)(ke,{onClick:function(e){return e.stopPropagation()},onMouseUp:function(e){return e.stopPropagation()},onMouseDown:function(e){return e.stopPropagation()},onKeyDown:function(e){return e.stopPropagation()},placeholder:"result-, demo-",value:null===(A=Ne.lambda)||void 0===A||null===(B=A.output)||void 0===B?void 0:B.prefix,onChange:function(e){var t;e.target.value?Ee(Object(K.a)(Object(K.a)({},Ne),{},{lambda:Object(K.a)(Object(K.a)({},Ne.lambda),{},{output:Object(K.a)(Object(K.a)({},null===(t=Ne.lambda)||void 0===t?void 0:t.input),{},{prefix:e.target.value})})})):delete Ne.prefix}})]})]},"1"),Object(L.jsxs)(me.a.TabPane,{tab:"Batch",children:[Object(L.jsx)(he.a,{children:"Setup"}),Object(L.jsxs)(we,{children:[Object(L.jsx)(Ce,{children:"Region:"}),Object(L.jsx)(ke,{onClick:function(e){return e.stopPropagation()},onMouseUp:function(e){return e.stopPropagation()},onMouseDown:function(e){return e.stopPropagation()},onKeyDown:function(e){return e.stopPropagation()},placeholder:"us-east-1",value:null===(J=Ne.batch)||void 0===J?void 0:J.region,onChange:function(e){Ee(Object(K.a)(Object(K.a)({},Ne),{},{batch:Object(K.a)(Object(K.a)({},Ne.batch),{},{region:e.target.value})}))}})]}),Object(L.jsxs)(we,{children:[Object(L.jsx)(Ce,{children:"Boto profile:"}),Object(L.jsx)(ke,{onClick:function(e){return e.stopPropagation()},onMouseUp:function(e){return e.stopPropagation()},onMouseDown:function(e){return e.stopPropagation()},onKeyDown:function(e){return e.stopPropagation()},placeholder:"default",value:null===(R=Ne.batch)||void 0===R?void 0:R.boto_profile,onChange:function(e){Ee(Object(K.a)(Object(K.a)({},Ne),{},{batch:Object(K.a)(Object(K.a)({},Ne.batch),{},{boto_profile:e.target.value})}))}})]}),Object(L.jsxs)(we,{children:[Object(L.jsx)(Ce,{children:"Memory:"}),Object(L.jsx)(ke,{onClick:function(e){return e.stopPropagation()},onMouseUp:function(e){return e.stopPropagation()},onMouseDown:function(e){return e.stopPropagation()},onKeyDown:function(e){return e.stopPropagation()},placeholder:"1024",value:null===(q=Ne.batch)||void 0===q?void 0:q.memory,onChange:function(e){Ee(Object(K.a)(Object(K.a)({},Ne),{},{batch:Object(K.a)(Object(K.a)({},Ne.batch),{},{memory:e.target.value})}))}})]}),Object(L.jsxs)(we,{children:[Object(L.jsx)(Ce,{children:"vCpu:"}),Object(L.jsx)(ke,{onClick:function(e){return e.stopPropagation()},onMouseUp:function(e){return e.stopPropagation()},onMouseDown:function(e){return e.stopPropagation()},onKeyDown:function(e){return e.stopPropagation()},placeholder:"1.0",value:Ne.vcpus,onChange:function(e){Ee(Object(K.a)(Object(K.a)({},Ne),{},{batch:Object(K.a)(Object(K.a)({},Ne.batch),{},{cpu:e.target.value})}))}})]}),Object(L.jsxs)(we,{children:[Object(L.jsx)(Ce,{children:"Enable gpu:"}),Object(L.jsx)(xe.a,{onClick:function(e){return e.stopPropagation()},value:Ne.enable_gpu,onChange:function(e){Ee(Object(K.a)(Object(K.a)({},Ne),{},{batch:Object(K.a)(Object(K.a)({},Ne.batch),{},{enable_gpu:e.target.checked})}))}})]}),Object(L.jsxs)(we,{children:[Object(L.jsx)(Ce,{children:"Service role:"}),Object(L.jsx)(ke,{onClick:function(e){return e.stopPropagation()},onMouseUp:function(e){return e.stopPropagation()},onMouseDown:function(e){return e.stopPropagation()},onKeyDown:function(e){return e.stopPropagation()},placeholder:"aren:...",value:Ne.service_role,onChange:function(e){Ee(Object(K.a)(Object(K.a)({},Ne),{},{batch:Object(K.a)(Object(K.a)({},Ne.batch),{},{service_role:e.target.value})}))}})]}),Object(L.jsxs)(we,{children:[Object(L.jsx)(Ce,{children:"Environment variables"}),Object(L.jsx)(ke,{onClick:function(e){return e.stopPropagation()},onMouseUp:function(e){return e.stopPropagation()},onMouseDown:function(e){return e.stopPropagation()},onKeyDown:function(e){return e.stopPropagation()},placeholder:"KEY1=val1, KEY2=val2...",value:null===(Y=Ne.batch)||void 0===Y||null===(z=Y.environment)||void 0===z?void 0:z.Variables,onChange:function(e){var t,n=e.target.value;Ee(Object(K.a)(Object(K.a)({},Ne),{},{batch:Object(K.a)(Object(K.a)({},Ne.batch),{},{environment:Object(K.a)(Object(K.a)({},null===(t=Ne.batch)||void 0===t?void 0:t.environment),{},{Variables:e.target.value})})})),n&&delete Ne.batch.environment}})]}),Object(L.jsx)(he.a,{children:"Compute resources"}),Object(L.jsxs)(we,{children:[Object(L.jsx)(Ce,{children:"Desired vCpus"}),Object(L.jsx)(ke,{onClick:function(e){return e.stopPropagation()},onMouseUp:function(e){return e.stopPropagation()},onMouseDown:function(e){return e.stopPropagation()},onKeyDown:function(e){return e.stopPropagation()},placeholder:"0",value:null===(G=Ne.batch)||void 0===G||null===(W=G.compute_resources)||void 0===W?void 0:W.desired_v_cpus,onChange:function(e){var t;Ee(Object(K.a)(Object(K.a)({},Ne),{},{batch:Object(K.a)(Object(K.a)({},Ne.batch),{},{compute_resources:Object(K.a)(Object(K.a)({},null===(t=Ne.batch)||void 0===t?void 0:t.compute_resources),{},{desired_v_cpus:e.target.value})})}))}})]}),Object(L.jsxs)(we,{children:[Object(L.jsx)(Ce,{children:"Min vCpus"}),Object(L.jsx)(ke,{onClick:function(e){return e.stopPropagation()},onMouseUp:function(e){return e.stopPropagation()},onMouseDown:function(e){return e.stopPropagation()},onKeyDown:function(e){return e.stopPropagation()},placeholder:"0",value:null===(X=Ne.batch)||void 0===X||null===(Z=X.compute_resources)||void 0===Z?void 0:Z.min_v_cpus,onChange:function(e){var t;Ee(Object(K.a)(Object(K.a)({},Ne),{},{batch:Object(K.a)(Object(K.a)({},Ne.batch),{},{compute_resources:Object(K.a)(Object(K.a)({},null===(t=Ne.batch)||void 0===t?void 0:t.compute_resources),{},{min_v_cpus:e.target.value})})}))}})]}),Object(L.jsxs)(we,{children:[Object(L.jsx)(Ce,{children:"Max vCpus"}),Object(L.jsx)(ke,{onClick:function(e){return e.stopPropagation()},onMouseUp:function(e){return e.stopPropagation()},onMouseDown:function(e){return e.stopPropagation()},onKeyDown:function(e){return e.stopPropagation()},placeholder:"2",value:null===($=Ne.batch)||void 0===$||null===(ne=$.compute_resources)||void 0===ne?void 0:ne.max_v_cpus,onChange:function(e){var t;Ee(Object(K.a)(Object(K.a)({},Ne),{},{batch:Object(K.a)(Object(K.a)({},Ne.batch),{},{compute_resources:Object(K.a)(Object(K.a)({},null===(t=Ne.batch)||void 0===t?void 0:t.compute_resources),{},{max_v_cpus:e.target.value})})}))}})]}),Object(L.jsxs)(we,{children:[Object(L.jsx)(Ce,{children:"Max vCpus"}),Object(L.jsx)(ke,{onClick:function(e){return e.stopPropagation()},onMouseUp:function(e){return e.stopPropagation()},onMouseDown:function(e){return e.stopPropagation()},onKeyDown:function(e){return e.stopPropagation()},placeholder:"2",value:null===(oe=Ne.batch)||void 0===oe||null===(ae=oe.compute_resources)||void 0===ae?void 0:ae.max_v_cpus,onChange:function(e){var t;Ee(Object(K.a)(Object(K.a)({},Ne),{},{batch:Object(K.a)(Object(K.a)({},Ne.batch),{},{compute_resources:Object(K.a)(Object(K.a)({},null===(t=Ne.batch)||void 0===t?void 0:t.compute_resources),{},{max_v_cpus:e.target.value})})}))}})]}),Object(L.jsxs)(we,{children:[Object(L.jsx)(Ce,{children:"Instance role"}),Object(L.jsx)(ke,{onClick:function(e){return e.stopPropagation()},onMouseUp:function(e){return e.stopPropagation()},onMouseDown:function(e){return e.stopPropagation()},onKeyDown:function(e){return e.stopPropagation()},placeholder:"arn:...",value:null===(re=Ne.batch)||void 0===re||null===(ie=re.compute_resources)||void 0===ie?void 0:ie.instance_role,onChange:function(e){var t;Ee(Object(K.a)(Object(K.a)({},Ne),{},{batch:Object(K.a)(Object(K.a)({},Ne.batch),{},{compute_resources:Object(K.a)(Object(K.a)({},null===(t=Ne.batch)||void 0===t?void 0:t.compute_resources),{},{instance_role:e.target.value})})}))}})]}),Object(L.jsxs)(we,{children:[Object(L.jsx)(Ce,{children:"Security group ids"}),Object(L.jsx)(ke,{onClick:function(e){return e.stopPropagation()},onMouseUp:function(e){return e.stopPropagation()},onMouseDown:function(e){return e.stopPropagation()},onKeyDown:function(e){return e.stopPropagation()},placeholder:"sg-12345678, sg-12345679...",value:null===(ce=Ne.batch)||void 0===ce||null===(se=ce.security_group_ids)||void 0===se?void 0:se.security_group_ids,onChange:function(e){var t;Ee(Object(K.a)(Object(K.a)({},Ne),{},{batch:Object(K.a)(Object(K.a)({},Ne.batch),{},{compute_resources:Object(K.a)(Object(K.a)({},null===(t=Ne.batch)||void 0===t?void 0:t.compute_resources),{},{security_group_ids:e.target.value})})}))}})]}),Object(L.jsxs)(we,{children:[Object(L.jsx)(Ce,{children:"Subnets"}),Object(L.jsx)(ke,{onClick:function(e){return e.stopPropagation()},onMouseUp:function(e){return e.stopPropagation()},onMouseDown:function(e){return e.stopPropagation()},onKeyDown:function(e){return e.stopPropagation()},placeholder:"subnet-12345, subnet-67891...",value:null===(ue=Ne.batch)||void 0===ue||null===(le=ue.subnets)||void 0===le?void 0:le.subnets,onChange:function(e){var t;Ee(Object(K.a)(Object(K.a)({},Ne),{},{batch:Object(K.a)(Object(K.a)({},Ne.batch),{},{compute_resources:Object(K.a)(Object(K.a)({},null===(t=Ne.batch)||void 0===t?void 0:t.compute_resources),{},{subnets:e.target.value})})}))}})]}),Object(L.jsxs)(we,{children:[Object(L.jsx)(Ce,{children:"Instance types"}),Object(L.jsx)(ke,{onClick:function(e){return e.stopPropagation()},onMouseUp:function(e){return e.stopPropagation()},onMouseDown:function(e){return e.stopPropagation()},onKeyDown:function(e){return e.stopPropagation()},placeholder:"m3.medium, m3.large...",value:null===(de=Ne.batch)||void 0===de||null===(be=de.subnets)||void 0===be?void 0:be.instance_types,onChange:function(e){var t;Ee(Object(K.a)(Object(K.a)({},Ne),{},{batch:Object(K.a)(Object(K.a)({},Ne.batch),{},{compute_resources:Object(K.a)(Object(K.a)({},null===(t=Ne.batch)||void 0===t?void 0:t.compute_resources),{},{instance_types:e.target.value})})}))}})]})]},"2")]})}),Object(L.jsx)("div",{children:te(De.type)}),Object(L.jsx)("div",{children:"".concat((null===(je=De.properties)||void 0===je?void 0:je.lambda.name)||"")})]});default:return Object(L.jsxs)(Pe,{color:Fe.color,background:Fe.background,onDoubleClick:function(){Ve(!0)},children:[Object(L.jsx)(ge.a,{title:(null===(fe=De.properties)||void 0===fe?void 0:fe.name)||De.type,visible:Ie,onOk:function(){De.properties=Ne,Ve(!1)},onCancel:function(){return Ve(!1)},okButtonProps:{disabled:!1},cancelButtonProps:{disabled:!1}}),Object(L.jsx)("div",{children:te(De.type)}),Object(L.jsx)("div",{children:"".concat((null===(Oe=De.properties)||void 0===Oe?void 0:Oe.name)||"")})]})}},Me=n(339),Se=n(340),_e=function(e){var t=e.visible,n=e.onOk,o=e.onCancel,a=e.defaultValue,r=e.removeStorageProvider,i=Me.a.useForm(),c=Object(ve.a)(i,1)[0];return Object(w.useEffect)((function(){a&&c.setFieldsValue(a)}),[a,t,c]),Object(L.jsx)(ge.a,{title:"S3 Storage Provider ".concat((null===a||void 0===a?void 0:a.name)||""),visible:t,onCancel:function(){o(),c.resetFields()},onOk:function(){c.validateFields().then((function(e){a&&r&&e.name!==a.name&&r("s3",a.name),n(e),c.resetFields()})).catch((function(e){return console.log("Error",e)}))},children:Object(L.jsxs)(Me.a,{form:c,initialValues:a,name:"Form s3 modal",children:[Object(L.jsx)(Me.a.Item,{name:"name",label:"Name",rules:[{required:!0,message:"Please input the name of the storage provider"}],children:Object(L.jsx)(Se.a,{})}),Object(L.jsx)(Me.a.Item,{name:"region",label:"Region",rules:[{required:!0,message:"Please input the region of the storage provider"}],children:Object(L.jsx)(Se.a,{})}),Object(L.jsx)(Me.a.Item,{name:"access_key",label:"Access Key",rules:[{required:!0,message:"Please input the access key of the storage provider"}],children:Object(L.jsx)(Se.a,{})}),Object(L.jsx)(Me.a.Item,{name:"secret_key",label:"Secret Key",rules:[{required:!0,message:"Please input the secret key of the storage provider"}],children:Object(L.jsx)(Se.a,{})})]})})},Ie=function(e){var t=e.visible,n=e.onOk,o=e.onCancel,a=e.defaultValue,r=e.removeStorageProvider,i=Me.a.useForm(),c=Object(ve.a)(i,1)[0];return Object(w.useEffect)((function(){a&&c.setFieldsValue(a)}),[a,t,c]),Object(L.jsx)(ge.a,{title:"OneData Storage Provider ".concat((null===a||void 0===a?void 0:a.name)||""),visible:t,onCancel:function(){o(),c.resetFields()},onOk:function(){c.validateFields().then((function(e){a&&r&&e.name!==a.name&&r("onedata",a.name),n(e),c.resetFields()})).catch((function(e){return console.log("Error",e)}))},children:Object(L.jsxs)(Me.a,{form:c,initialValues:a,name:"Form s3 modal",children:[Object(L.jsx)(Me.a.Item,{name:"name",label:"Name",rules:[{required:!0,message:"Please input the name of the storage provider"}],children:Object(L.jsx)(Se.a,{})}),Object(L.jsx)(Me.a.Item,{name:"oneprovider_host",label:"One Provider Host",rules:[{required:!0,message:"Please input the One Provider Host of the storage provider"}],children:Object(L.jsx)(Se.a,{})}),Object(L.jsx)(Me.a.Item,{name:"token",label:"Token",rules:[{required:!0,message:"Please input the token of the storage provider"}],children:Object(L.jsx)(Se.a,{})}),Object(L.jsx)(Me.a.Item,{name:"space",label:"Space",rules:[{required:!0,message:"Please input the space of the storage provider"}],children:Object(L.jsx)(Se.a,{})})]})})},Ve=n(335),Ke=n(336),Ue=function(e){var t=e.visible,n=e.onOk,o=e.onCancel,a=e.defaultValue,r=e.removeStorageProvider,i=Me.a.useForm(),c=Object(ve.a)(i,1)[0],s=Object(w.useState)(!1),u=Object(ve.a)(s,2),l=u[0],p=u[1];Object(w.useEffect)((function(){a&&c.setFieldsValue(a)}),[a,t,c]),Object(w.useEffect)((function(){a&&p(a.verify)}),[a]);return Object(L.jsx)(ge.a,{title:"MinIO Storage Provider ".concat((null===a||void 0===a?void 0:a.name)||""),visible:t,onCancel:function(){o(),c.resetFields(),p(!1)},onOk:function(){c.validateFields().then((function(e){var t=Object(K.a)(Object(K.a)({},e),{},{verify:l});a&&r&&t.name!==a.name&&r("minio",a.name),n(t),c.resetFields(),p(!1)})).catch((function(e){return console.log("Error",e)}))},children:Object(L.jsxs)(Me.a,{form:c,initialValues:a,name:"Form minio modal",children:[Object(L.jsx)(Me.a.Item,{name:"name",label:"Name",rules:[{required:!0,message:"Please input the name of the storage provider"}],children:Object(L.jsx)(Se.a,{})}),Object(L.jsx)(Me.a.Item,{name:"endpoint",label:"Endpoint",rules:[{required:!0,message:"Please input the endpoint of the storage provider"}],children:Object(L.jsx)(Se.a,{})}),Object(L.jsxs)(Ve.a,{style:{marginBottom:"1rem"},children:[Object(L.jsx)(Ke.a,{span:3,children:"Verify:"}),Object(L.jsx)(Ke.a,{span:1,children:Object(L.jsx)(xe.a,{value:l,onChange:function(e){p(e.target.checked)}})})]}),Object(L.jsx)(Me.a.Item,{name:"region",label:"Region",rules:[{required:!0,message:"Please input the region of the storage provider"}],children:Object(L.jsx)(Se.a,{})}),Object(L.jsx)(Me.a.Item,{name:"access_key",label:"Access Key",rules:[{required:!0,message:"Please input the access key of the storage provider"}],children:Object(L.jsx)(Se.a,{})}),Object(L.jsx)(Me.a.Item,{name:"secret_key",label:"Secret Key",rules:[{required:!0,message:"Please input the secret key of the storage provider"}],children:Object(L.jsx)(Se.a,{})})]})})},Ne=se.a.Header,Ee=ue.a.SubMenu,Fe=Object(R.default)(H.a)(k||(k=Object(B.a)(["\n  margin-right: 1rem;\n"]))),Te=function(e){Object(T.a)(n,e);var t=Object(A.a)(n);function n(e){var o;return Object(N.a)(this,n),(o=t.call(this,e)).state=Object(J.cloneDeep)(ce),o.removeStorageProvider=o.removeStorageProvider.bind(Object(F.a)(o)),o.editStorageProvider=o.editStorageProvider.bind(Object(F.a)(o)),o}return Object(E.a)(n,[{key:"exportToYaml",value:function(){var e=Object.values(this.state.nodes),t=Object.values(this.state.links),n=e.filter((function(e){return"s3"===e.type||"onedata"===e.type||"minio"===e.type})),o=e.filter((function(e){return"oscar-fx"===e.type})).map((function(e){var o=t.filter((function(t){return t.to.nodeId===e.id&&("port1"===t.to.portId||"port4"===t.to.portId)||t.from.nodeId===e.id&&("port1"===t.from.portId||"port4"===t.from.portId)})),a=t.filter((function(t){return t.to.nodeId===e.id&&("port2"===t.to.portId||"port3"===t.to.portId)||t.from.nodeId===e.id&&("port2"===t.from.portId||"port3"===t.from.portId)})),r=n.find((function(e){return o.some((function(t){return t.from.nodeId===e.id||t.to.nodeId===e.id}))}));console.log("Input node",r);var i=n.find((function(e){return a.some((function(t){return t.from.nodeId===e.id||t.to.nodeId===e.id}))}));console.log("Output node",i);var c=JSON.parse(JSON.stringify(e.properties)),s=c.input;s&&(s.storage_provider="".concat(null===r||void 0===r?void 0:r.type,".").concat(null===r||void 0===r?void 0:r.properties.name),s.path=null===r||void 0===r?void 0:r.properties.path,s.prefix&&(s.prefix=s.prefix.replace(" ","").split(",")),(null===s||void 0===s?void 0:s.suffix)&&(s.suffix=s.suffix.replace(" ","").split(",")),c.input=[s]);var u=c.output;u&&(u.storage_provider="".concat(null===i||void 0===i?void 0:i.type,".").concat(null===i||void 0===i?void 0:i.properties.name),u.path=null===i||void 0===i?void 0:i.properties.path,u.prefix&&(u.prefix=u.prefix.replace(" ","").split(",")),u.suffix&&(u.suffix=u.suffix.replace(" ","").split(",")),c.output=[u]);var l=c.environment;return l&&(c.environment={Variables:l.Variables.replace(" ","").split(",").map((function(e){var t=e.split("=");return Object(U.a)({},t[0].trim(),t[1].trim())})).reduce((function(e,t){return Object(K.a)(Object(K.a)({},e),t)}))}),c})),a=e.filter((function(e){return"aws-fx"===e.type})).map((function(e){var o,a,r,i,c,s,u,l=JSON.parse(JSON.stringify(e.properties)),p=t.filter((function(t){return t.to.nodeId===e.id&&("port1"===t.to.portId||"port4"===t.to.portId)||t.from.nodeId===e.id&&("port1"===t.from.portId||"port4"===t.from.portId)})),d=t.filter((function(t){return t.to.nodeId===e.id&&("port2"===t.to.portId||"port3"===t.to.portId)||t.from.nodeId===e.id&&("port2"===t.from.portId||"port3"===t.from.portId)})),b=n.find((function(e){return p.some((function(t){return t.from.nodeId===e.id||t.to.nodeId===e.id}))})),j=n.find((function(e){return d.some((function(t){return t.from.nodeId===e.id||t.to.nodeId===e.id}))})),f=null===(o=l.lambda)||void 0===o?void 0:o.input;f&&(f.storage_provider="".concat(null===b||void 0===b?void 0:b.type,".").concat(null===b||void 0===b?void 0:b.properties.name),(null===f||void 0===f?void 0:f.prefix)&&(f.prefix=f.prefix.replace(" ","").split(",")),(null===f||void 0===f?void 0:f.suffix)&&(f.suffix=f.suffix.replace(" ","").split(",")),l.lambda.input=f);var O=null===(a=l.lambda)||void 0===a?void 0:a.output;O&&(O.storage_provider="".concat(null===j||void 0===j?void 0:j.type,".").concat(null===j||void 0===j?void 0:j.properties.name),(null===O||void 0===O?void 0:O.prefix)&&(O.prefix=O.prefix.replace(" ","").split(",")),O.suffix&&(O.suffix=O.suffix.replace(" ","").split(",")),l.lambda.output=O);var v=null===(r=l.batch)||void 0===r?void 0:r.compute_resources;(null===v||void 0===v?void 0:v.instance_types)&&(v.instance_types=v.instance_types.replace(" ","").split(",")),(null===v||void 0===v?void 0:v.subnets)&&(v.subnets=v.subnets.replace(" ","").split(",")),(null===v||void 0===v?void 0:v.security_group_ids)&&(v.security_group_ids=v.security_group_ids.replace(" ","").split(","));var g=null===(i=l.lambda)||void 0===i?void 0:i.environment;g&&(l.lambda.environment={Variables:g.Variables.replace(" ","").split(",").map((function(e){var t=e.split("=");return Object(U.a)({},t[0].trim(),t[1].trim())})).reduce((function(e,t){return Object(K.a)(Object(K.a)({},e),t)}))}),(null===(c=l.batch)||void 0===c?void 0:c.environment)&&(l.batch.environment={Variables:g.Variables.replace(" ","").split(",").map((function(e){var t=e.split("=");return Object(U.a)({},t[0].trim(),t[1].trim())})).reduce((function(e,t){return Object(K.a)(Object(K.a)({},e),t)}))});var h=null===(s=l.lambda)||void 0===s||null===(u=s.container)||void 0===u?void 0:u.environment;return h&&(l.lambda.container.environment={Variables:h.Variables.replace(" ","").split(",").map((function(e){var t=e.split("=");return Object(U.a)({},t[0].trim(),t[1].trim())})).reduce((function(e,t){return Object(K.a)(Object(K.a)({},e),t)}))}),l})),r=e.filter((function(e){return"onedata"===e.type})).map((function(e){return e.properties})).reduce((function(e,t){var n=JSON.parse(JSON.stringify(t));return delete n.path,Object(K.a)(Object(K.a)({},e),{},Object(U.a)({},t.name,n))}),{}),i=e.filter((function(e){return"s3"===e.type})).map((function(e){return e.properties})).reduce((function(e,t){var n=JSON.parse(JSON.stringify(t));return delete n.name,delete n.path,Object(K.a)(Object(K.a)({},e),{},Object(U.a)({},t.name,n))}),{}),c=e.filter((function(e){return"minio"===e.type})).map((function(e){return e.properties})).reduce((function(e,t){var n=JSON.parse(JSON.stringify(t));return delete n.name,delete n.path,Object(K.a)(Object(K.a)({},e),{},Object(U.a)({},t.name,n))}),{}),s=Oe.a.dump({functions:{oscar:o.map((function(e){return JSON.parse('{ "'.concat(e.name,'": ').concat(JSON.stringify(e)," }"))})),aws:a},storage_providers:{s3:i,onedata:r,minio:c}}),u=new Blob([s],{type:"text/plain;charset=utf-8"});Object(je.saveAs)(u,"workflow.yaml")}},{key:"exportState",value:function(){var e=JSON.stringify(this.state),t=new Blob([e],{type:"text/plain;charset=utf-8"});Object(je.saveAs)(t,"state.json")}},{key:"importState",value:function(){var e=this,t=document.createElement("input");t.type="file",t.accept=".json",t.onchange=function(n){console.log(n.target.files[0].name);var o=new FileReader;o.onload=function(){var t=Object(V.a)(I.a.mark((function t(n){var o;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(null===n||void 0===n||null===(o=n.target)||void 0===o?void 0:o.result)&&e.setState(JSON.parse(n.target.result));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),o.readAsText(t.files[0])},t.click()}},{key:"editStorageProvider",value:function(e,t){console.log("editing ".concat(e," ").concat(t));var n=this.state.storageProviders.find((function(n){return n.type===e&&n.properties.name===t}));switch(e){case"s3":this.setState(Object(K.a)(Object(K.a)({},this.state),{},{s3DefaultValue:null===n||void 0===n?void 0:n.properties,s3ModalVisible:!0}));break;case"onedata":this.setState(Object(K.a)(Object(K.a)({},this.state),{},{oneDataDefaultValue:null===n||void 0===n?void 0:n.properties,oneDataModalVisible:!0}));break;case"minio":this.setState(Object(K.a)(Object(K.a)({},this.state),{},{minioDefaultValue:null===n||void 0===n?void 0:n.properties,minioModalVisible:!0}))}}},{key:"removeStorageProvider",value:function(e,t){console.log("removing ".concat(e," ").concat(t)),console.log(this.state.storageProviders);var n=this.state.storageProviders.findIndex((function(n){return n.type===e&&n.properties.name===t})),o=Object(S.a)(this.state.storageProviders);o.splice(n,1),this.setState(Object(K.a)(Object(K.a)({},this.state),{},{storageProviders:o}))}},{key:"addOrUpdateStorageProvider",value:function(e,t){var n=this.state.storageProviders.findIndex((function(n){var o;return n.type===e&&t.name===(null===(o=n.properties)||void 0===o?void 0:o.name)}));console.log(n);var o=Object(S.a)(this.state.storageProviders);-1!==n&&o.splice(n,1);var a=[].concat(Object(S.a)(o),[{type:e,ports:{port1:{id:"port1",type:"top",properties:{path:""}},port2:{id:"port2",type:"right",properties:{path:""}},port3:{id:"port3",type:"bottom",properties:{path:""}},port4:{id:"port4",type:"left",properties:{path:""}}},properties:t}]);this.setState(Object(K.a)(Object(K.a)({},this.state),{},{storageProviders:a,s3ModalVisible:!1,oneDataModalVisible:!1,minioModalVisible:!1}))}},{key:"render",value:function(){var e=this,t=this.state,n=Object(J.mapValues)(Object(K.a)(Object(K.a)({},X.actions),{},{onNodeDoubleClick:function(){return Object(K.a)(Object(K.a)({},e.state),{},{selected:{}})}}),(function(t){return function(){e.setState(t.apply(void 0,arguments))}}));return Object(L.jsx)("div",{className:"App",children:Object(L.jsxs)(se.a,{className:"layout",children:[Object(L.jsx)(_e,{defaultValue:this.state.s3DefaultValue,removeStorageProvider:this.removeStorageProvider,visible:this.state.s3ModalVisible,onCancel:function(){return e.setState(Object(K.a)(Object(K.a)({},e.state),{},{s3DefaultValue:void 0,s3ModalVisible:!1}))},onOk:function(t){e.addOrUpdateStorageProvider("s3",t)}}),Object(L.jsx)(Ie,{defaultValue:this.state.oneDataDefaultValue,removeStorageProvider:this.removeStorageProvider,visible:this.state.oneDataModalVisible,onCancel:function(){return e.setState(Object(K.a)(Object(K.a)({},e.state),{},{oneDataDefaultValue:void 0,oneDataModalVisible:!1}))},onOk:function(t){e.addOrUpdateStorageProvider("onedata",t)}}),Object(L.jsx)(Ue,{defaultValue:this.state.minioDefaultValue,removeStorageProvider:this.removeStorageProvider,visible:this.state.minioModalVisible,onCancel:function(){return e.setState(Object(K.a)(Object(K.a)({},e.state),{},{minioDefaultValue:void 0,minioModalVisible:!1}))},onOk:function(t){e.addOrUpdateStorageProvider("minio",t)}}),Object(L.jsx)(Ne,{children:Object(L.jsxs)(ue.a,{theme:"dark",mode:"horizontal",children:[Object(L.jsx)(Fe,{ghost:!0,icon:Object(L.jsx)(le.a,{}),onClick:function(){return e.exportState()},children:"Download state"}),Object(L.jsx)(Fe,{ghost:!0,icon:Object(L.jsx)(pe.a,{}),onClick:function(){return e.importState()},children:"Load state"}),Object(L.jsx)(Fe,{ghost:!0,icon:Object(L.jsx)(de.a,{}),onClick:function(){e.exportToYaml()},children:"Export yaml"}),Object(L.jsxs)(Ee,{icon:Object(L.jsx)(be.a,{}),title:"Storage providers",children:[Object(L.jsx)(ue.a.Item,{onClick:function(){e.setState(Object(K.a)(Object(K.a)({},e.state),{},{s3ModalVisible:!0}))},children:"New S3"},"storage:s3"),Object(L.jsx)(ue.a.Item,{onClick:function(){e.setState(Object(K.a)(Object(K.a)({},e.state),{},{minioModalVisible:!0}))},children:"New Minio"},"storage:minio"),Object(L.jsx)(ue.a.Item,{onClick:function(){e.setState(Object(K.a)(Object(K.a)({},e.state),{},{oneDataModalVisible:!0}))},children:"New One data"},"storage:onedata")]},"SubMenu")]})}),Object(L.jsxs)(Y,{children:[Object(L.jsx)(X.FlowChart,{chart:t,callbacks:n,Components:{NodeInner:De,Port:ie}}),Object(L.jsx)(W,{removeStorageProvider:this.removeStorageProvider,editStorageProvider:this.editStorageProvider,storageProviders:this.state.storageProviders})]})]})})}}]),n}(C.a.Component),Ae=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,352)).then((function(t){var n=t.getCLS,o=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),o(e),a(e),r(e),i(e)}))};M.a.render(Object(L.jsx)(Te,{}),document.getElementById("root")),Ae()}},[[332,1,2]]]);
//# sourceMappingURL=main.1b4ea54b.chunk.js.map