(this["webpackJsonpworkflow-builder"]=this["webpackJsonpworkflow-builder"]||[]).push([[0],{152:function(t,e,n){},154:function(t,e,n){},273:function(t,e,n){"use strict";n.r(e);var o=n(2),a=n(0),r=n.n(a),i=n(12),c=n.n(i),u=(n(152),n(44)),s=n(63),l=n.n(s),p=n(80),d=n(1),b=n(6),j=n(13),f=n(14),O=n(10),v=n(15),g=n(16),h=n(9),x=(n(154),n(82)),m=n(8);function P(){var t=Object(h.a)(["\n  margin: 10px;\n  padding: 10px;\n  line-height: 1.4em;\n  white-space: pre-wrap;\n  font-family: Consolas, 'Andale Mono WT', 'Andale Mono', 'Lucida Console', 'Lucida Sans Typewriter', 'DejaVu Sans Mono',\n    'Bitstream Vera Sans Mono', 'Liberation Mono', 'Nimbus Mono L', Monaco, 'Courier New', Courier, monospace;\n\n  background-color: #eff0f1;\n  overflow: auto;\n"]);return P=function(){return t},t}m.default.pre(P());function y(){var t=Object(h.a)(["\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  overflow: hidden;\n"]);return y=function(){return t},t}m.default.div(y());function k(){var t=Object(h.a)(["\n  margin: 10px 10px 0px;\n  padding: 10px;\n  line-height: 1.4em;\n"]);return k=function(){return t},t}var w=m.default.div(k());function C(){var t=Object(h.a)(["\n  display: flex;\n  flex-direction: row;\n  flex: 1;\n  max-width: 100vw;\n  max-height: 93vh;\n"]);return C=function(){return t},t}function D(){var t=Object(h.a)(["\n  body {\n    margin: 0px;\n    max-width: 100vw;\n    max-height: 100vh;\n    overflow: hidden;\n    box-sizing: border-box;\n    font-family: sans-serif;\n  }\n\n  *, :after, :before {\n    box-sizing: inherit;\n  }\n"]);return D=function(){return t},t}Object(m.createGlobalStyle)(D());var M=m.default.div(C()),_=n(280),S=n(72);function K(){var t=Object(h.a)(["\n  width: 200px;\n  background: white;\n  display: flex;\n  flex-direction: column;\n  flex-shrink: 0;\n  overflow: auto;\n"]);return K=function(){return t},t}var V=m.default.div(K()),U=function(t){var e=t.storageProviders,n=t.removeStorageProvider,a=t.editStorageProvider;return Object(o.jsxs)(V,{children:[Object(o.jsx)(w,{children:"Drag and drop these items onto the canvas."}),null===e||void 0===e?void 0:e.filter((function(t){var e;return null===(e=t.properties)||void 0===e?void 0:e.name})).map((function(t,e){return Object(o.jsx)(_.a,{placement:"top",title:"Delete provider ".concat(t.properties.name),content:Object(o.jsx)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center"},children:Object(o.jsxs)("div",{style:{display:"flex",flexDirection:"column",rowGap:"1rem"},children:[Object(o.jsx)(S.a,{onClick:function(){return a(t.type,t.properties.name)},children:"Edit"}),Object(o.jsx)(S.a,{danger:!0,onClick:function(){return n(t.type,t.properties.name)},children:"Delete"})]})}),children:Object(o.jsx)(H,Object(d.a)(Object(d.a)({},t),{},{onDoubleClick:function(t){t.stopPropagation()}}))},"Popover_".concat(e))})),Object(o.jsx)(H,{type:"oscar-fx",ports:{port1:{id:"port1",type:"top",properties:{path:""}},port2:{id:"port2",type:"right",properties:{path:""}},port3:{id:"port3",type:"bottom",properties:{path:""}},port4:{id:"port4",type:"left",properties:{path:""}}}}),Object(o.jsx)(H,{type:"aws-fx",ports:{port1:{id:"port1",type:"top",properties:{path:""}},port2:{id:"port2",type:"right",properties:{path:""}},port3:{id:"port3",type:"bottom",properties:{path:""}},port4:{id:"port4",type:"left",properties:{path:""}}}})]})},I=n(17),N=n(31);function E(){var t=Object(h.a)(["\n      background: ",";\n    "]);return E=function(){return t},t}function J(){var t=Object(h.a)(["\n      color: ",";\n    "]);return J=function(){return t},t}function T(){var t=Object(h.a)(["\n  margin-bottom: 1rem;\n  border: 0.5px solid grey;\n  padding: 30px;\n  min-height: 100px;\n  border-radius: 50%;\n  font-size: 14px;\n  cursor: move;\n  ","\n  ",";\n"]);return T=function(){return t},t}function A(){var t=Object(h.a)(["\n      background: ",";\n    "]);return A=function(){return t},t}function B(){var t=Object(h.a)(["\n      color: ",";\n    "]);return B=function(){return t},t}function R(){var t=Object(h.a)(["\n  margin-bottom: 1rem;\n  border: 0.5px solid grey;\n  padding: 20px 30px;\n  font-size: 14px;\n  background: black;\n  cursor: move;\n  ","\n  ",";\n"]);return R=function(){return t},t}var F=m.default.div(R(),(function(t){return t.color&&Object(m.css)(B(),t.color)}),(function(t){return t.background&&Object(m.css)(A(),t.background)})),L=m.default.div(T(),(function(t){return t.color&&Object(m.css)(J(),t.color)}),(function(t){return t.background&&Object(m.css)(E(),t.background)})),Y=function(t){switch(t){case"oscar-fx":return{background:"#fff",color:"black"};case"aws-fx":return{background:"#080301",color:"white"};case"s3":return{background:"#ebe4c0",color:"black"};case"onedata":return{background:"#c2d4ad",color:"black"};case"minio":return{background:"#c47878",color:"black"};default:return{background:"#FFF",color:"black"}}},z=function(t){switch(t){case"oscar-fx":return Object(o.jsx)("img",{alt:"oscar logo",src:"https://github.com/grycap/oscar/blob/master/docs/images/oscar3.png?raw=true",width:"96px"});case"aws-fx":return Object(o.jsx)("img",{alt:"aws logo",src:"https://d1.awsstatic.com/Digital%20Marketing/House/PAC/2up/PAC-Q4_House-Ads_Lambda_2up.62dc7e19b7b2e0a2c06821594c31f1ce00a6bdda.png",height:"32px"});case"s3":return Object(o.jsx)("img",{alt:"s3 logo",src:"https://servmask.com/img/products/s3.png",height:"48px"});case"onedata":return Object(o.jsx)("img",{alt:"aws logo",src:"https://www.ebi.ac.uk/about/technology/wp-content/uploads/2019/10/onedata-logo.png",height:"24px"});case"minio":return Object(o.jsx)("img",{alt:"aws logo",src:"https://suarapapua.com/wp-content/plugins/ilab-media-tools-premium/public/img/wizard-icon-minio.png",height:"36px"})}},H=function(t){var e=t.type,n=t.ports,a=t.properties,r=Object(I.a)(t,["type","ports","properties"]),i=Y(e);return["s3","onedata","minio"].includes(e)?Object(o.jsxs)(L,Object(d.a)(Object(d.a)({background:i.background,color:i.color,draggable:!0,onDragStart:function(t){t.dataTransfer.setData(N.REACT_FLOW_CHART,JSON.stringify({type:e,ports:n,properties:a}))}},r),{},{children:[z(e),null===a||void 0===a?void 0:a.name]})):Object(o.jsx)(F,{background:i.background,color:i.color,draggable:!0,onDragStart:function(t){t.dataTransfer.setData(N.REACT_FLOW_CHART,JSON.stringify({type:e,ports:n,properties:a}))},children:z(e)})},G=n(281),W=n(282),Q=n(283),q=function(t){switch(t.port.type){case"right":case"left":return Object(o.jsx)(G.a,{style:{fontSize:"1rem"}});case"top":case"bottom":return Object(o.jsx)(W.a,{style:{fontSize:"1rem"}});default:return Object(o.jsx)(Q.a,{style:{fontSize:"1rem"}})}},X={offset:{x:0,y:0},scale:1,nodes:{},links:{},selected:{},hovered:{},modalVisible:!1,storageProviders:[],s3ModalVisible:!1,oneDataModalVisible:!1,minioModalVisible:!1,s3DefaultValue:void 0,oneDataDefaultValue:void 0,minioDefaultValue:void 0},Z=n(275),$=n(278),tt=n(284),et=n(285),nt=n(286),ot=n(287),at=n(100),rt=n(135),it=n.n(rt),ct=n(5),ut=n(277),st=n(274),lt=n(276),pt=n(279);function dt(){var t=Object(h.a)(["\n  width: 20%;\n  align-content: center;\n"]);return dt=function(){return t},t}function bt(){var t=Object(h.a)(["\n  display: flex;\n  flex-direction: row;\n"]);return bt=function(){return t},t}function jt(){var t=Object(h.a)(["\n  padding: 10px;\n  border: 1px solid cornflowerblue;\n  margin-bottom: 0.5rem;\n  width: 80%;\n"]);return jt=function(){return t},t}function ft(){var t=Object(h.a)(["\n      background: ",";\n    "]);return ft=function(){return t},t}function Ot(){var t=Object(h.a)(["\n      color: ",";\n    "]);return Ot=function(){return t},t}function vt(){var t=Object(h.a)(["\n  padding: 30px;\n  border-radius: 50%;\n  ","\n  ",";\n"]);return vt=function(){return t},t}function gt(){var t=Object(h.a)(["\n      background: ",";\n    "]);return gt=function(){return t},t}function ht(){var t=Object(h.a)(["\n      color: ",";\n    "]);return ht=function(){return t},t}function xt(){var t=Object(h.a)(["\n  padding: 30px;\n  ","\n  ",";\n"]);return xt=function(){return t},t}var mt=m.default.div(xt(),(function(t){return t.color&&Object(m.css)(ht(),t.color)}),(function(t){return t.background&&Object(m.css)(gt(),t.background)})),Pt=m.default.div(vt(),(function(t){return t.color&&Object(m.css)(Ot(),t.color)}),(function(t){return t.background&&Object(m.css)(ft(),t.background)})),yt=m.default.input(jt()),kt=m.default.div(bt()),wt=m.default.div(dt()),Ct=function(t){var e,n,a,i,c,u,s,l,p,b,j,f,O,v,g,h,x,m,P,y,k,w,C,D,M,_,S,K,V,U,N,E,J,T,A,B,R,F,L,H,G,W,Q,q,X,Z,$,tt,et,nt,ot,at,rt,it,dt,bt,jt,ft,Ot,vt,gt=t.node,ht=(t.config,Object(I.a)(t,["node","config"])),xt=r.a.useState(!1),Ct=Object(ct.a)(xt,2),Dt=Ct[0],Mt=Ct[1],_t=r.a.useState(gt.properties||{}),St=Object(ct.a)(_t,2),Kt=St[0],Vt=St[1],Ut=Y(gt.type);switch(gt.type){case"s3":case"onedata":case"minio":return Object(o.jsxs)(Pt,Object(d.a)(Object(d.a)({},ht),{},{color:Ut.color,background:Ut.background,onDoubleClick:function(t){return Mt(!0)},children:[Object(o.jsx)(ut.a,{title:(null===(e=gt.properties)||void 0===e?void 0:e.name)||gt.type,visible:Dt,onOk:function(){gt.properties=Kt,Mt(!1)},onCancel:function(){return Mt(!1)},okButtonProps:{disabled:!1},cancelButtonProps:{disabled:!1},children:Object(o.jsxs)(kt,{children:[Object(o.jsx)(wt,{children:"Path:"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"darknet-workflow/output",value:Kt.path,onChange:function(t){Vt(Object(d.a)(Object(d.a)({},Kt),{},{path:t.target.value}))}})]})}),Object(o.jsx)("div",{children:z(gt.type)}),Object(o.jsx)("div",{children:"".concat((null===(n=gt.properties)||void 0===n?void 0:n.name)||"")})]}));case"oscar-fx":return Object(o.jsxs)(mt,{color:Ut.color,background:Ut.background,onDoubleClick:function(){return Mt(!0)},children:[Object(o.jsxs)(ut.a,{title:(null===(a=gt.properties)||void 0===a?void 0:a.name)||gt.type,visible:Dt,onOk:function(){gt.properties=Kt,Mt(!1)},onCancel:function(){return Mt(!1)},okButtonProps:{disabled:!1},cancelButtonProps:{disabled:!1},children:[Object(o.jsx)(st.a,{children:"Setup"}),Object(o.jsxs)(kt,{children:[Object(o.jsx)(wt,{children:"Name:"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"darknet",value:Kt.name,onChange:function(t){Vt(Object(d.a)(Object(d.a)({},Kt),{},{name:t.target.value}))}})]}),Object(o.jsxs)(kt,{children:[Object(o.jsx)(wt,{children:"Memory:"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"1Gi",value:Kt.memory,onChange:function(t){Vt(Object(d.a)(Object(d.a)({},Kt),{},{memory:t.target.value}))}})]}),Object(o.jsxs)(kt,{children:[Object(o.jsx)(wt,{children:"Cpu:"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"1.0",value:Kt.cpu,onChange:function(t){Vt(Object(d.a)(Object(d.a)({},Kt),{},{cpu:t.target.value}))}})]}),Object(o.jsxs)(kt,{children:[Object(o.jsx)(wt,{children:"Image:"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"grycap/darknet",value:Kt.image,onChange:function(t){Vt(Object(d.a)(Object(d.a)({},Kt),{},{image:t.target.value}))}})]}),Object(o.jsxs)(kt,{children:[Object(o.jsx)(wt,{children:"Script:"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"yolo.sh",value:Kt.script,onChange:function(t){Vt(Object(d.a)(Object(d.a)({},Kt),{},{script:t.target.value}))}})]}),Object(o.jsxs)(kt,{children:[Object(o.jsx)(wt,{children:"Environment variables"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"KEY1=val1, KEY2=val2...",value:null===(i=Kt.environment)||void 0===i?void 0:i.Variables,onChange:function(t){var e=t.target.value;Vt(Object(d.a)(Object(d.a)({},Kt),{},{environment:Object(d.a)(Object(d.a)({},Kt.environment),{},{Variables:t.target.value})})),!e&&delete Kt.environment}})]}),Object(o.jsx)(st.a,{children:"Input"}),Object(o.jsxs)(kt,{children:[Object(o.jsx)(wt,{children:"Suffix"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"png, jpg, xls",value:null===(c=Kt.input)||void 0===c?void 0:c.suffix,onChange:function(t){t.target.value?Vt(Object(d.a)(Object(d.a)({},Kt),{},{input:Object(d.a)(Object(d.a)({},Kt.input),{},{suffix:t.target.value})})):delete Kt.suffix}})]}),Object(o.jsxs)(kt,{children:[Object(o.jsx)(wt,{children:"Prefix"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"result-, demo-",value:null===(u=Kt.input)||void 0===u?void 0:u.prefix,onChange:function(t){t.target.value?Vt(Object(d.a)(Object(d.a)({},Kt),{},{input:Object(d.a)(Object(d.a)({},Kt.input),{},{prefix:t.target.value})})):delete Kt.prefix}})]}),Object(o.jsx)(st.a,{children:"Output"}),Object(o.jsxs)(kt,{children:[Object(o.jsx)(wt,{children:"Suffix"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"png, jpg, xls",value:null===(s=Kt.output)||void 0===s?void 0:s.suffix,onChange:function(t){t.target.value?Vt(Object(d.a)(Object(d.a)({},Kt),{},{output:Object(d.a)(Object(d.a)({},Kt.output),{},{suffix:t.target.value})})):delete Kt.suffix}})]}),Object(o.jsxs)(kt,{children:[Object(o.jsx)(wt,{children:"Prefix"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"result-, demo-",value:null===(l=Kt.output)||void 0===l?void 0:l.prefix,onChange:function(t){t.target.value?Vt(Object(d.a)(Object(d.a)({},Kt),{},{output:Object(d.a)(Object(d.a)({},Kt.output),{},{prefix:t.target.value})})):delete Kt.prefix}})]})]}),Object(o.jsx)("div",{children:z(gt.type)}),Object(o.jsx)("div",{children:"".concat((null===(p=gt.properties)||void 0===p?void 0:p.name)||"")})]});case"aws-fx":return Object(o.jsxs)(mt,{color:Ut.color,background:Ut.background,onDoubleClick:function(){return Mt(!0)},children:[Object(o.jsx)(ut.a,{title:(null===(b=gt.properties)||void 0===b?void 0:b.name)||gt.type,visible:Dt,onOk:function(){gt.properties=Kt,Mt(!1)},onCancel:function(){return Mt(!1)},okButtonProps:{disabled:!1},cancelButtonProps:{disabled:!1},children:Object(o.jsxs)(lt.a,{defaultActiveKey:"1",children:[Object(o.jsxs)(lt.a.TabPane,{tab:"Lambda",children:[Object(o.jsx)(st.a,{children:"Setup"}),Object(o.jsxs)(kt,{children:[Object(o.jsx)(wt,{children:"Name:"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"darknet",value:null===(j=Kt.lambda)||void 0===j?void 0:j.name,onChange:function(t){Vt(Object(d.a)(Object(d.a)({},Kt),{},{lambda:Object(d.a)(Object(d.a)({},Kt.lambda),{},{name:t.target.value})}))}})]}),Object(o.jsxs)(kt,{children:[Object(o.jsx)(wt,{children:"Region:"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"us-east-1",value:null===(f=Kt.lambda)||void 0===f?void 0:f.region,onChange:function(t){Vt(Object(d.a)(Object(d.a)({},Kt),{},{lambda:Object(d.a)(Object(d.a)({},Kt.lambda),{},{region:t.target.value})}))}})]}),Object(o.jsxs)(kt,{children:[Object(o.jsx)(wt,{children:"Boto profile:"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"default",value:null===(O=Kt.lambda)||void 0===O?void 0:O.boto_profile,onChange:function(t){Vt(Object(d.a)(Object(d.a)({},Kt),{},{lambda:Object(d.a)(Object(d.a)({},Kt.lambda),{},{boto_profile:t.target.value})}))}})]}),Object(o.jsxs)(kt,{children:[Object(o.jsx)(wt,{children:"Memory:"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"1024",value:null===(v=Kt.lambda)||void 0===v?void 0:v.memory,onChange:function(t){Vt(Object(d.a)(Object(d.a)({},Kt),{},{lambda:Object(d.a)(Object(d.a)({},Kt.lambda),{},{memory:t.target.value})}))}})]}),Object(o.jsxs)(kt,{children:[Object(o.jsx)(wt,{children:"Cpu:"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"1.0",value:null===(g=Kt.lambda)||void 0===g?void 0:g.cpu,onChange:function(t){Vt(Object(d.a)(Object(d.a)({},Kt),{},{lambda:Object(d.a)(Object(d.a)({},Kt.lambda),{},{cpu:t.target.value})}))}})]}),Object(o.jsxs)(kt,{children:[Object(o.jsx)(wt,{children:"Init script:"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"yolo.sh",value:null===(h=Kt.lambda)||void 0===h?void 0:h.init_script,onChange:function(t){Vt(Object(d.a)(Object(d.a)({},Kt),{},{lambda:Object(d.a)(Object(d.a)({},Kt.lambda),{},{init_script:t.target.value})}))}})]}),Object(o.jsxs)(kt,{children:[Object(o.jsx)(wt,{children:"Timeout:"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"300",value:null===(x=Kt.lambda)||void 0===x?void 0:x.timeout,onChange:function(t){Vt(Object(d.a)(Object(d.a)({},Kt),{},{lambda:Object(d.a)(Object(d.a)({},Kt.lambda),{},{timeout:t.target.value})}))}})]}),Object(o.jsxs)(kt,{children:[Object(o.jsx)(wt,{children:"Log level:"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"INFO | DEBUG | ERROR | WARNING",value:null===(m=Kt.lambda)||void 0===m?void 0:m.log_level,onChange:function(t){Vt(Object(d.a)(Object(d.a)({},Kt),{},{lambda:Object(d.a)(Object(d.a)({},Kt.lambda),{},{log_level:t.target.value})}))}})]}),Object(o.jsxs)(kt,{children:[Object(o.jsx)(wt,{children:"Execution mode:"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"lambda | lambda-batch | batch",value:null===(P=Kt.lambda)||void 0===P?void 0:P.execution_mode,onChange:function(t){Vt(Object(d.a)(Object(d.a)({},Kt),{},{lambda:Object(d.a)(Object(d.a)({},Kt.lambda),{},{execution_mode:t.target.value})}))}})]}),Object(o.jsxs)(kt,{children:[Object(o.jsx)(wt,{children:"Environment variables"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"KEY1=val1, KEY2=val2...",value:null===(y=Kt.lambda)||void 0===y||null===(k=y.environment)||void 0===k?void 0:k.Variables,onChange:function(t){var e,n=t.target.value;Vt(Object(d.a)(Object(d.a)({},Kt),{},{lambda:Object(d.a)(Object(d.a)({},Kt.lambda),{},{environment:Object(d.a)(Object(d.a)({},null===(e=Kt.lambda)||void 0===e?void 0:e.environment),{},{Variables:t.target.value})})})),n&&delete Kt.lambda.environment}})]}),Object(o.jsx)(st.a,{children:"Container"}),Object(o.jsxs)(kt,{children:[Object(o.jsx)(wt,{children:"Image:"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"grycap/darknet",value:null===(w=Kt.lambda)||void 0===w||null===(C=w.container)||void 0===C?void 0:C.image,onChange:function(t){var e;Vt(Object(d.a)(Object(d.a)({},Kt),{},{lambda:Object(d.a)(Object(d.a)({},Kt.lambda),{},{container:Object(d.a)(Object(d.a)({},null===(e=Kt.lambda)||void 0===e?void 0:e.container),{},{image:t.target.value})})}))}})]}),Object(o.jsxs)(kt,{children:[Object(o.jsx)(wt,{children:"Timeout threshold"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"grycap/darknet",value:null===(D=Kt.lambda)||void 0===D||null===(M=D.container)||void 0===M?void 0:M.timeout_threshold,onChange:function(t){var e;Vt(Object(d.a)(Object(d.a)({},Kt),{},{lambda:Object(d.a)(Object(d.a)({},Kt.lambda),{},{container:Object(d.a)(Object(d.a)({},null===(e=Kt.lambda)||void 0===e?void 0:e.container),{},{timeout_threshold:t.target.value})})}))}})]}),Object(o.jsxs)(kt,{children:[Object(o.jsx)(wt,{children:"Environment variables"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"KEY1=val1, KEY2=val2...",value:null===(_=Kt.lambda)||void 0===_||null===(S=_.container)||void 0===S||null===(K=S.environment)||void 0===K?void 0:K.Variables,onChange:function(t){var e,n,o=t.target.value;Vt(Object(d.a)(Object(d.a)({},Kt),{},{lambda:Object(d.a)(Object(d.a)({},Kt.lambda),{},{container:Object(d.a)(Object(d.a)({},null===(e=Kt.lambda)||void 0===e?void 0:e.container),{},{environment:Object(d.a)(Object(d.a)({},null===(n=Kt.lambda)||void 0===n?void 0:n.container.environment),{},{Variables:t.target.value})})})})),!o&&delete Kt.lambda.container.environment}})]}),Object(o.jsx)(st.a,{children:"Input"}),Object(o.jsxs)(kt,{children:[Object(o.jsx)(wt,{children:"Suffix"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"png, jpg, xls",value:null===(V=Kt.lambda)||void 0===V||null===(U=V.input)||void 0===U?void 0:U.suffix,onChange:function(t){var e;t.target.value?Vt(Object(d.a)(Object(d.a)({},Kt),{},{lambda:Object(d.a)(Object(d.a)({},Kt.lambda),{},{input:Object(d.a)(Object(d.a)({},null===(e=Kt.lambda)||void 0===e?void 0:e.input),{},{suffix:t.target.value})})})):delete Kt.lambda.input.suffix}})]}),Object(o.jsxs)(kt,{children:[Object(o.jsx)(wt,{children:"Prefix"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"result-, demo-",value:null===(N=Kt.lambda)||void 0===N||null===(E=N.input)||void 0===E?void 0:E.prefix,onChange:function(t){var e;t.target.value?Vt(Object(d.a)(Object(d.a)({},Kt),{},{lambda:Object(d.a)(Object(d.a)({},Kt.lambda),{},{input:Object(d.a)(Object(d.a)({},null===(e=Kt.lambda)||void 0===e?void 0:e.input),{},{prefix:t.target.value})})})):delete Kt.lambda.input.prefix}})]}),Object(o.jsx)(st.a,{children:"Output"}),Object(o.jsxs)(kt,{children:[Object(o.jsx)(wt,{children:"Suffix"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"png, jpg, xls",value:null===(J=Kt.lambda)||void 0===J||null===(T=J.output)||void 0===T?void 0:T.suffix,onChange:function(t){var e;t.target.value?Vt(Object(d.a)(Object(d.a)({},Kt),{},{lambda:Object(d.a)(Object(d.a)({},Kt.lambda),{},{output:Object(d.a)(Object(d.a)({},null===(e=Kt.lambda)||void 0===e?void 0:e.input),{},{suffix:t.target.value})})})):delete Kt.lambda.output.suffix}})]}),Object(o.jsxs)(kt,{children:[Object(o.jsx)(wt,{children:"Prefix"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"result-, demo-",value:null===(A=Kt.lambda)||void 0===A||null===(B=A.output)||void 0===B?void 0:B.prefix,onChange:function(t){var e;t.target.value?Vt(Object(d.a)(Object(d.a)({},Kt),{},{lambda:Object(d.a)(Object(d.a)({},Kt.lambda),{},{output:Object(d.a)(Object(d.a)({},null===(e=Kt.lambda)||void 0===e?void 0:e.input),{},{prefix:t.target.value})})})):delete Kt.prefix}})]})]},"1"),Object(o.jsxs)(lt.a.TabPane,{tab:"Batch",children:[Object(o.jsx)(st.a,{children:"Setup"}),Object(o.jsxs)(kt,{children:[Object(o.jsx)(wt,{children:"Region:"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"us-east-1",value:null===(R=Kt.batch)||void 0===R?void 0:R.region,onChange:function(t){Vt(Object(d.a)(Object(d.a)({},Kt),{},{batch:Object(d.a)(Object(d.a)({},Kt.batch),{},{region:t.target.value})}))}})]}),Object(o.jsxs)(kt,{children:[Object(o.jsx)(wt,{children:"Boto profile:"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"default",value:null===(F=Kt.batch)||void 0===F?void 0:F.boto_profile,onChange:function(t){Vt(Object(d.a)(Object(d.a)({},Kt),{},{batch:Object(d.a)(Object(d.a)({},Kt.batch),{},{boto_profile:t.target.value})}))}})]}),Object(o.jsxs)(kt,{children:[Object(o.jsx)(wt,{children:"Memory:"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"1024",value:null===(L=Kt.batch)||void 0===L?void 0:L.memory,onChange:function(t){Vt(Object(d.a)(Object(d.a)({},Kt),{},{batch:Object(d.a)(Object(d.a)({},Kt.batch),{},{memory:t.target.value})}))}})]}),Object(o.jsxs)(kt,{children:[Object(o.jsx)(wt,{children:"vCpu:"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"1.0",value:Kt.vcpus,onChange:function(t){Vt(Object(d.a)(Object(d.a)({},Kt),{},{batch:Object(d.a)(Object(d.a)({},Kt.batch),{},{cpu:t.target.value})}))}})]}),Object(o.jsxs)(kt,{children:[Object(o.jsx)(wt,{children:"Enable gpu:"}),Object(o.jsx)(pt.a,{onClick:function(t){return t.stopPropagation()},value:Kt.enable_gpu,onChange:function(t){Vt(Object(d.a)(Object(d.a)({},Kt),{},{batch:Object(d.a)(Object(d.a)({},Kt.batch),{},{enable_gpu:t.target.checked})}))}})]}),Object(o.jsxs)(kt,{children:[Object(o.jsx)(wt,{children:"Service role:"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"aren:...",value:Kt.service_role,onChange:function(t){Vt(Object(d.a)(Object(d.a)({},Kt),{},{batch:Object(d.a)(Object(d.a)({},Kt.batch),{},{service_role:t.target.value})}))}})]}),Object(o.jsxs)(kt,{children:[Object(o.jsx)(wt,{children:"Environment variables"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"KEY1=val1, KEY2=val2...",value:null===(H=Kt.batch)||void 0===H||null===(G=H.environment)||void 0===G?void 0:G.Variables,onChange:function(t){var e,n=t.target.value;Vt(Object(d.a)(Object(d.a)({},Kt),{},{batch:Object(d.a)(Object(d.a)({},Kt.batch),{},{environment:Object(d.a)(Object(d.a)({},null===(e=Kt.batch)||void 0===e?void 0:e.environment),{},{Variables:t.target.value})})})),n&&delete Kt.batch.environment}})]}),Object(o.jsx)(st.a,{children:"Compute resources"}),Object(o.jsxs)(kt,{children:[Object(o.jsx)(wt,{children:"Desired vCpus"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"0",value:null===(W=Kt.batch)||void 0===W||null===(Q=W.compute_resources)||void 0===Q?void 0:Q.desired_v_cpus,onChange:function(t){var e;Vt(Object(d.a)(Object(d.a)({},Kt),{},{batch:Object(d.a)(Object(d.a)({},Kt.batch),{},{compute_resources:Object(d.a)(Object(d.a)({},null===(e=Kt.batch)||void 0===e?void 0:e.compute_resources),{},{desired_v_cpus:t.target.value})})}))}})]}),Object(o.jsxs)(kt,{children:[Object(o.jsx)(wt,{children:"Min vCpus"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"0",value:null===(q=Kt.batch)||void 0===q||null===(X=q.compute_resources)||void 0===X?void 0:X.min_v_cpus,onChange:function(t){var e;Vt(Object(d.a)(Object(d.a)({},Kt),{},{batch:Object(d.a)(Object(d.a)({},Kt.batch),{},{compute_resources:Object(d.a)(Object(d.a)({},null===(e=Kt.batch)||void 0===e?void 0:e.compute_resources),{},{min_v_cpus:t.target.value})})}))}})]}),Object(o.jsxs)(kt,{children:[Object(o.jsx)(wt,{children:"Max vCpus"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"2",value:null===(Z=Kt.batch)||void 0===Z||null===($=Z.compute_resources)||void 0===$?void 0:$.max_v_cpus,onChange:function(t){var e;Vt(Object(d.a)(Object(d.a)({},Kt),{},{batch:Object(d.a)(Object(d.a)({},Kt.batch),{},{compute_resources:Object(d.a)(Object(d.a)({},null===(e=Kt.batch)||void 0===e?void 0:e.compute_resources),{},{max_v_cpus:t.target.value})})}))}})]}),Object(o.jsxs)(kt,{children:[Object(o.jsx)(wt,{children:"Max vCpus"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"2",value:null===(tt=Kt.batch)||void 0===tt||null===(et=tt.compute_resources)||void 0===et?void 0:et.max_v_cpus,onChange:function(t){var e;Vt(Object(d.a)(Object(d.a)({},Kt),{},{batch:Object(d.a)(Object(d.a)({},Kt.batch),{},{compute_resources:Object(d.a)(Object(d.a)({},null===(e=Kt.batch)||void 0===e?void 0:e.compute_resources),{},{max_v_cpus:t.target.value})})}))}})]}),Object(o.jsxs)(kt,{children:[Object(o.jsx)(wt,{children:"Instance role"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"arn:...",value:null===(nt=Kt.batch)||void 0===nt||null===(ot=nt.compute_resources)||void 0===ot?void 0:ot.instance_role,onChange:function(t){var e;Vt(Object(d.a)(Object(d.a)({},Kt),{},{batch:Object(d.a)(Object(d.a)({},Kt.batch),{},{compute_resources:Object(d.a)(Object(d.a)({},null===(e=Kt.batch)||void 0===e?void 0:e.compute_resources),{},{instance_role:t.target.value})})}))}})]}),Object(o.jsxs)(kt,{children:[Object(o.jsx)(wt,{children:"Security group ids"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"sg-12345678, sg-12345679...",value:null===(at=Kt.batch)||void 0===at||null===(rt=at.security_group_ids)||void 0===rt?void 0:rt.security_group_ids,onChange:function(t){var e;Vt(Object(d.a)(Object(d.a)({},Kt),{},{batch:Object(d.a)(Object(d.a)({},Kt.batch),{},{compute_resources:Object(d.a)(Object(d.a)({},null===(e=Kt.batch)||void 0===e?void 0:e.compute_resources),{},{security_group_ids:t.target.value})})}))}})]}),Object(o.jsxs)(kt,{children:[Object(o.jsx)(wt,{children:"Subnets"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"subnet-12345, subnet-67891...",value:null===(it=Kt.batch)||void 0===it||null===(dt=it.subnets)||void 0===dt?void 0:dt.subnets,onChange:function(t){var e;Vt(Object(d.a)(Object(d.a)({},Kt),{},{batch:Object(d.a)(Object(d.a)({},Kt.batch),{},{compute_resources:Object(d.a)(Object(d.a)({},null===(e=Kt.batch)||void 0===e?void 0:e.compute_resources),{},{subnets:t.target.value})})}))}})]}),Object(o.jsxs)(kt,{children:[Object(o.jsx)(wt,{children:"Instance types"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"m3.medium, m3.large...",value:null===(bt=Kt.batch)||void 0===bt||null===(jt=bt.subnets)||void 0===jt?void 0:jt.instance_types,onChange:function(t){var e;Vt(Object(d.a)(Object(d.a)({},Kt),{},{batch:Object(d.a)(Object(d.a)({},Kt.batch),{},{compute_resources:Object(d.a)(Object(d.a)({},null===(e=Kt.batch)||void 0===e?void 0:e.compute_resources),{},{instance_types:t.target.value})})}))}})]})]},"2")]})}),Object(o.jsx)("div",{children:z(gt.type)}),Object(o.jsx)("div",{children:"".concat((null===(ft=gt.properties)||void 0===ft?void 0:ft.lambda.name)||"")})]});default:return Object(o.jsxs)(mt,{color:Ut.color,background:Ut.background,onDoubleClick:function(){Mt(!0)},children:[Object(o.jsx)(ut.a,{title:(null===(Ot=gt.properties)||void 0===Ot?void 0:Ot.name)||gt.type,visible:Dt,onOk:function(){gt.properties=Kt,Mt(!1)},onCancel:function(){return Mt(!1)},okButtonProps:{disabled:!1},cancelButtonProps:{disabled:!1}}),Object(o.jsx)("div",{children:z(gt.type)}),Object(o.jsx)("div",{children:"".concat((null===(vt=gt.properties)||void 0===vt?void 0:vt.name)||"")})]})}},Dt=function(t){var e=t.visible,n=t.onOk,i=t.onCancel,c=t.defaultValue,u={name:"",access_key:"",secret_key:"",region:""},s=r.a.useState(u),l=Object(ct.a)(s,2),p=l[0],b=l[1];return Object(a.useEffect)((function(){c&&b(c)}),[c,e]),Object(o.jsxs)(ut.a,{title:"S3 Storage Provider ".concat(p.name),visible:e,onCancel:function(){i(),b(u)},onOk:function(){n(JSON.parse(JSON.stringify(p))),b(u)},children:[Object(o.jsxs)(kt,{children:[Object(o.jsx)(wt,{children:"Name:"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"my-s3",value:p.name,onChange:function(t){b(Object(d.a)(Object(d.a)({},p),{},{name:t.target.value}))}})]}),Object(o.jsxs)(kt,{children:[Object(o.jsx)(wt,{children:"Access Key:"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"xxxxxxxxxxxxxxxx",value:p.access_key,onChange:function(t){b(Object(d.a)(Object(d.a)({},p),{},{access_key:t.target.value}))}})]}),Object(o.jsxs)(kt,{children:[Object(o.jsx)(wt,{children:"Secret Key:"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"xxxxxxxxxxxxxxxx",value:p.secret_key,onChange:function(t){b(Object(d.a)(Object(d.a)({},p),{},{secret_key:t.target.value}))}})]}),Object(o.jsxs)(kt,{children:[Object(o.jsx)(wt,{children:"Region:"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"us-east-1",value:p.region,onChange:function(t){b(Object(d.a)(Object(d.a)({},p),{},{region:t.target.value}))}})]})]})},Mt=function(t){var e=t.visible,n=t.onOk,i=t.onCancel,c=t.defaultValue,u={name:"",oneprovider_host:"",token:"",space:""},s=r.a.useState(u),l=Object(ct.a)(s,2),p=l[0],b=l[1];return Object(a.useEffect)((function(){c&&b(c)}),[c,e]),Object(o.jsxs)(ut.a,{title:"OneData Storage Provider ".concat(p.name),visible:e,onCancel:function(){i(),b(u)},onOk:function(){n(JSON.parse(JSON.stringify(p))),b(u)},children:[Object(o.jsxs)(kt,{children:[Object(o.jsx)(wt,{children:"Name:"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"my-onedata",value:p.name,onChange:function(t){b(Object(d.a)(Object(d.a)({},p),{},{name:t.target.value}))}})]}),Object(o.jsxs)(kt,{children:[Object(o.jsx)(wt,{children:"One Provider Host:"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"plg-cyfronet-01.datahub.egi.eu",value:p.oneprovider_host,onChange:function(t){b(Object(d.a)(Object(d.a)({},p),{},{oneprovider_host:t.target.value}))}})]}),Object(o.jsxs)(kt,{children:[Object(o.jsx)(wt,{children:"Token:"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"xxxxxxxxxxxxxxxx",value:p.token,onChange:function(t){b(Object(d.a)(Object(d.a)({},p),{},{token:t.target.value}))}})]}),Object(o.jsxs)(kt,{children:[Object(o.jsx)(wt,{children:"Space:"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"my-space",value:p.space,onChange:function(t){b(Object(d.a)(Object(d.a)({},p),{},{space:t.target.value}))}})]})]})},_t=function(t){var e=t.visible,n=t.onOk,i=t.onCancel,c=t.defaultValue,u={name:"",endpoint:"",verify:!1,region:"",access_key:"",secret_key:""},s=r.a.useState(u),l=Object(ct.a)(s,2),p=l[0],b=l[1];return Object(a.useEffect)((function(){c&&b(c)}),[c,e]),Object(o.jsxs)(ut.a,{title:"OneData Storage Provider ".concat(p.name),visible:e,onCancel:function(){i(),b(u)},onOk:function(){n(JSON.parse(JSON.stringify(p))),b(u)},children:[Object(o.jsxs)(kt,{children:[Object(o.jsx)(wt,{children:"Name:"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"my_minio",value:p.name,onChange:function(t){b(Object(d.a)(Object(d.a)({},p),{},{name:t.target.value}))}})]}),Object(o.jsxs)(kt,{children:[Object(o.jsx)(wt,{children:"Endpoint:"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"minio-endpoint",value:p.endpoint,onChange:function(t){b(Object(d.a)(Object(d.a)({},p),{},{endpoint:t.target.value}))}})]}),Object(o.jsxs)(kt,{children:[Object(o.jsx)(wt,{children:"Verify:"}),Object(o.jsx)(pt.a,{onClick:function(t){return t.stopPropagation()},value:p.verify,onChange:function(t){b(Object(d.a)(Object(d.a)({},p),{},{verify:t.target.checked}))}})]}),Object(o.jsxs)(kt,{children:[Object(o.jsx)(wt,{children:"Region:"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"us-east-1",value:p.region,onChange:function(t){b(Object(d.a)(Object(d.a)({},p),{},{region:t.target.value}))}})]}),Object(o.jsxs)(kt,{children:[Object(o.jsx)(wt,{children:"Access Key:"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"xxxxxxxxxxxxxxxx",value:p.access_key,onChange:function(t){b(Object(d.a)(Object(d.a)({},p),{},{access_key:t.target.value}))}})]}),Object(o.jsxs)(kt,{children:[Object(o.jsx)(wt,{children:"Secret Key:"}),Object(o.jsx)(yt,{onClick:function(t){return t.stopPropagation()},onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},onKeyDown:function(t){return t.stopPropagation()},placeholder:"xxxxxxxxxxxxxxxx",value:p.secret_key,onChange:function(t){b(Object(d.a)(Object(d.a)({},p),{},{secret_key:t.target.value}))}})]})]})};function St(){var t=Object(h.a)(["\n  margin-right: 1rem;\n"]);return St=function(){return t},t}var Kt=Z.a.Header,Vt=$.a.SubMenu,Ut=Object(m.default)(S.a)(St()),It=function(t){Object(v.a)(n,t);var e=Object(g.a)(n);function n(t){var o;return Object(j.a)(this,n),(o=e.call(this,t)).state=Object(x.cloneDeep)(X),o.removeStorageProvider=o.removeStorageProvider.bind(Object(O.a)(o)),o.editStorageProvider=o.editStorageProvider.bind(Object(O.a)(o)),o}return Object(f.a)(n,[{key:"exportToYaml",value:function(){var t=Object.values(this.state.nodes),e=Object.values(this.state.links),n=t.filter((function(t){return"s3"===t.type||"onedata"===t.type||"minio"===t.type})),o=t.filter((function(t){return"oscar-fx"===t.type})).map((function(t){var o=e.filter((function(e){return e.to.nodeId===t.id&&("port1"===e.to.portId||"port4"===e.to.portId)||e.from.nodeId===t.id&&("port1"===e.from.portId||"port4"===e.from.portId)})),a=e.filter((function(e){return e.to.nodeId===t.id&&("port2"===e.to.portId||"port3"===e.to.portId)||e.from.nodeId===t.id&&("port2"===e.from.portId||"port3"===e.from.portId)})),r=n.find((function(t){return o.some((function(e){return e.from.nodeId===t.id||e.to.nodeId===t.id}))}));console.log("Input node",r);var i=n.find((function(t){return a.some((function(e){return e.from.nodeId===t.id||e.to.nodeId===t.id}))}));console.log("Output node",i);var c=JSON.parse(JSON.stringify(t.properties)),u=c.input;u&&(u.storage_provider="".concat(null===r||void 0===r?void 0:r.type,".").concat(null===r||void 0===r?void 0:r.properties.name),u.path=null===r||void 0===r?void 0:r.properties.path,u.prefix&&(u.prefix=u.prefix.replace(" ","").split(",")),(null===u||void 0===u?void 0:u.suffix)&&(u.suffix=u.suffix.replace(" ","").split(",")),c.input=[u]);var s=c.output;s&&(s.storage_provider="".concat(null===i||void 0===i?void 0:i.type,".").concat(null===i||void 0===i?void 0:i.properties.name),s.path=null===i||void 0===i?void 0:i.properties.path,s.prefix&&(s.prefix=s.prefix.replace(" ","").split(",")),s.suffix&&(s.suffix=s.suffix.replace(" ","").split(",")),c.output=[s]);var l=c.environment;return l&&(c.environment={Variables:l.Variables.replace(" ","").split(",").map((function(t){var e=t.split("=");return Object(b.a)({},e[0].trim(),e[1].trim())})).reduce((function(t,e){return Object(d.a)(Object(d.a)({},t),e)}))}),c})),a=t.filter((function(t){return"aws-fx"===t.type})).map((function(t){var o,a,r,i,c,u,s,l=JSON.parse(JSON.stringify(t.properties)),p=e.filter((function(e){return e.to.nodeId===t.id&&("port1"===e.to.portId||"port4"===e.to.portId)||e.from.nodeId===t.id&&("port1"===e.from.portId||"port4"===e.from.portId)})),j=e.filter((function(e){return e.to.nodeId===t.id&&("port2"===e.to.portId||"port3"===e.to.portId)||e.from.nodeId===t.id&&("port2"===e.from.portId||"port3"===e.from.portId)})),f=n.find((function(t){return p.some((function(e){return e.from.nodeId===t.id||e.to.nodeId===t.id}))})),O=n.find((function(t){return j.some((function(e){return e.from.nodeId===t.id||e.to.nodeId===t.id}))})),v=null===(o=l.lambda)||void 0===o?void 0:o.input;v&&(v.storage_provider="".concat(null===f||void 0===f?void 0:f.type,".").concat(null===f||void 0===f?void 0:f.properties.name),(null===v||void 0===v?void 0:v.prefix)&&(v.prefix=v.prefix.replace(" ","").split(",")),(null===v||void 0===v?void 0:v.suffix)&&(v.suffix=v.suffix.replace(" ","").split(",")),l.lambda.input=v);var g=null===(a=l.lambda)||void 0===a?void 0:a.output;g&&(g.storage_provider="".concat(null===O||void 0===O?void 0:O.type,".").concat(null===O||void 0===O?void 0:O.properties.name),(null===g||void 0===g?void 0:g.prefix)&&(g.prefix=g.prefix.replace(" ","").split(",")),g.suffix&&(g.suffix=g.suffix.replace(" ","").split(",")),l.lambda.output=g);var h=null===(r=l.batch)||void 0===r?void 0:r.compute_resources;(null===h||void 0===h?void 0:h.instance_types)&&(h.instance_types=h.instance_types.replace(" ","").split(",")),(null===h||void 0===h?void 0:h.subnets)&&(h.subnets=h.subnets.replace(" ","").split(",")),(null===h||void 0===h?void 0:h.security_group_ids)&&(h.security_group_ids=h.security_group_ids.replace(" ","").split(","));var x=null===(i=l.lambda)||void 0===i?void 0:i.environment;x&&(l.lambda.environment={Variables:x.Variables.replace(" ","").split(",").map((function(t){var e=t.split("=");return Object(b.a)({},e[0].trim(),e[1].trim())})).reduce((function(t,e){return Object(d.a)(Object(d.a)({},t),e)}))}),(null===(c=l.batch)||void 0===c?void 0:c.environment)&&(l.batch.environment={Variables:x.Variables.replace(" ","").split(",").map((function(t){var e=t.split("=");return Object(b.a)({},e[0].trim(),e[1].trim())})).reduce((function(t,e){return Object(d.a)(Object(d.a)({},t),e)}))});var m=null===(u=l.lambda)||void 0===u||null===(s=u.container)||void 0===s?void 0:s.environment;return m&&(l.lambda.container.environment={Variables:m.Variables.replace(" ","").split(",").map((function(t){var e=t.split("=");return Object(b.a)({},e[0].trim(),e[1].trim())})).reduce((function(t,e){return Object(d.a)(Object(d.a)({},t),e)}))}),l})),r=t.filter((function(t){return"onedata"===t.type})).map((function(t){return t.properties})).reduce((function(t,e){var n=JSON.parse(JSON.stringify(e));return delete n.path,Object(d.a)(Object(d.a)({},t),{},Object(b.a)({},e.name,n))}),{}),i=t.filter((function(t){return"s3"===t.type})).map((function(t){return t.properties})).reduce((function(t,e){var n=JSON.parse(JSON.stringify(e));return delete n.name,delete n.path,Object(d.a)(Object(d.a)({},t),{},Object(b.a)({},e.name,n))}),{}),c=t.filter((function(t){return"minio"===t.type})).map((function(t){return t.properties})).reduce((function(t,e){var n=JSON.parse(JSON.stringify(e));return delete n.name,delete n.path,Object(d.a)(Object(d.a)({},t),{},Object(b.a)({},e.name,n))}),{}),u=it.a.dump({functions:{oscar:o.map((function(t){return JSON.parse('{ "'.concat(t.name,'": ').concat(JSON.stringify(t)," }"))})),aws:a},storage_providers:{s3:i,onedata:r,minio:c}}),s=new Blob([u],{type:"text/plain;charset=utf-8"});Object(at.saveAs)(s,"workflow.yaml")}},{key:"exportState",value:function(){var t=JSON.stringify(this.state),e=new Blob([t],{type:"text/plain;charset=utf-8"});Object(at.saveAs)(e,"state.json")}},{key:"importState",value:function(){var t=this,e=document.createElement("input");e.type="file",e.onchange=function(n){var o=new FileReader;o.onload=function(){var e=Object(p.a)(l.a.mark((function e(n){var o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(null===n||void 0===n||null===(o=n.target)||void 0===o?void 0:o.result)&&t.setState(JSON.parse(n.target.result));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o.readAsText(e.files[0])},e.click()}},{key:"editStorageProvider",value:function(t,e){console.log("editing ".concat(t," ").concat(e)),console.log(this.state.storageProviders);var n=this.state.storageProviders.find((function(n){return n.type===t&&n.properties.name===e}));switch(t){case"s3":this.setState(Object(d.a)(Object(d.a)({},this.state),{},{s3DefaultValue:null===n||void 0===n?void 0:n.properties,s3ModalVisible:!0}));break;case"onedata":this.setState(Object(d.a)(Object(d.a)({},this.state),{},{oneDataDefaultValue:null===n||void 0===n?void 0:n.properties,oneDataModalVisible:!0}));break;case"minio":this.setState(Object(d.a)(Object(d.a)({},this.state),{},{minioDefaultValue:null===n||void 0===n?void 0:n.properties,minioModalVisible:!0}))}}},{key:"removeStorageProvider",value:function(t,e){console.log("removing ".concat(t," ").concat(e)),console.log(this.state.storageProviders);var n=this.state.storageProviders.findIndex((function(n){return n.type===t&&n.properties.name===e})),o=Object(u.a)(this.state.storageProviders);o.splice(n,1),this.setState(Object(d.a)(Object(d.a)({},this.state),{},{storageProviders:o}))}},{key:"addStorageProvider",value:function(t,e){var n=[].concat(Object(u.a)(this.state.storageProviders),[{type:t,ports:{port1:{id:"port1",type:"top",properties:{path:""}},port2:{id:"port2",type:"right",properties:{path:""}},port3:{id:"port3",type:"bottom",properties:{path:""}},port4:{id:"port4",type:"left",properties:{path:""}}},properties:e}]);this.setState(Object(d.a)(Object(d.a)({},this.state),{},{storageProviders:n,s3ModalVisible:!1,oneDataModalVisible:!1,minioModalVisible:!1}))}},{key:"render",value:function(){var t=this,e=this.state,n=Object(x.mapValues)(Object(d.a)(Object(d.a)({},N.actions),{},{onNodeDoubleClick:function(){return Object(d.a)(Object(d.a)({},t.state),{},{selected:{}})}}),(function(e){return function(){t.setState(e.apply(void 0,arguments))}}));return Object(o.jsx)("div",{className:"App",children:Object(o.jsxs)(Z.a,{className:"layout",children:[Object(o.jsx)(Dt,{defaultValue:this.state.s3DefaultValue,visible:this.state.s3ModalVisible,onCancel:function(){return t.setState(Object(d.a)(Object(d.a)({},t.state),{},{s3DefaultValue:void 0,s3ModalVisible:!1}))},onOk:function(e){t.addStorageProvider("s3",e)}}),Object(o.jsx)(Mt,{defaultValue:this.state.oneDataDefaultValue,visible:this.state.oneDataModalVisible,onCancel:function(){return t.setState(Object(d.a)(Object(d.a)({},t.state),{},{oneDataDefaultValue:void 0,oneDataModalVisible:!1}))},onOk:function(e){t.addStorageProvider("onedata",e)}}),Object(o.jsx)(_t,{defaultValue:this.state.minioDefaultValue,visible:this.state.minioModalVisible,onCancel:function(){return t.setState(Object(d.a)(Object(d.a)({},t.state),{},{minioDefaultValue:void 0,minioModalVisible:!1}))},onOk:function(e){t.addStorageProvider("minio",e)}}),Object(o.jsx)(Kt,{children:Object(o.jsxs)($.a,{theme:"dark",mode:"horizontal",children:[Object(o.jsx)(Ut,{ghost:!0,icon:Object(o.jsx)(tt.a,{}),onClick:function(){return t.exportState()},children:"Download state"}),Object(o.jsx)(Ut,{ghost:!0,icon:Object(o.jsx)(et.a,{}),onClick:function(){return t.importState()},children:"Load state"}),Object(o.jsx)(Ut,{ghost:!0,icon:Object(o.jsx)(nt.a,{}),onClick:function(){t.exportToYaml()},children:"Export yaml"}),Object(o.jsxs)(Vt,{icon:Object(o.jsx)(ot.a,{}),title:"Storage providers",children:[Object(o.jsx)($.a.Item,{onClick:function(){t.setState(Object(d.a)(Object(d.a)({},t.state),{},{s3ModalVisible:!0}))},children:"S3"},"storage:s3"),Object(o.jsx)($.a.Item,{onClick:function(){t.setState(Object(d.a)(Object(d.a)({},t.state),{},{minioModalVisible:!0}))},children:"Minio"},"storage:minio"),Object(o.jsx)($.a.Item,{onClick:function(){t.setState(Object(d.a)(Object(d.a)({},t.state),{},{oneDataModalVisible:!0}))},children:"One data"},"storage:onedata")]},"SubMenu")]})}),Object(o.jsxs)(M,{children:[Object(o.jsx)(N.FlowChart,{chart:e,callbacks:n,Components:{NodeInner:Ct,Port:q}}),Object(o.jsx)(U,{removeStorageProvider:this.removeStorageProvider,editStorageProvider:this.editStorageProvider,storageProviders:this.state.storageProviders})]})]})})}}]),n}(r.a.Component),Nt=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,288)).then((function(e){var n=e.getCLS,o=e.getFID,a=e.getFCP,r=e.getLCP,i=e.getTTFB;n(t),o(t),a(t),r(t),i(t)}))};c.a.render(Object(o.jsx)(It,{}),document.getElementById("root")),Nt()}},[[273,1,2]]]);
//# sourceMappingURL=main.022779cc.chunk.js.map